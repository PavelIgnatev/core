"use strict";var F_=Object.create;var Wi=Object.defineProperty;var L_=Object.getOwnPropertyDescriptor;var N_=Object.getOwnPropertyNames;var W_=Object.getPrototypeOf,j_=Object.prototype.hasOwnProperty;var Ue=(r,e)=>()=>(r&&(e=r(r=0)),e);var z=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Hr=(r,e)=>{for(var t in e)Wi(r,t,{get:e[t],enumerable:!0})},Uu=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of N_(e))!j_.call(r,i)&&i!==t&&Wi(r,i,{get:()=>e[i],enumerable:!(s=L_(e,i))||s.enumerable});return r};var tt=(r,e,t)=>(t=r!=null?F_(W_(r)):{},Uu(e||!r||!r.__esModule?Wi(t,"default",{value:r,enumerable:!0}):t,r)),rr=r=>Uu(Wi({},"__esModule",{value:!0}),r);var Ou=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var ke=(r,e,t)=>(Ou(r,e,"read from private field"),t?t.call(r):e.get(r)),Et=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},gt=(r,e,t,s)=>(Ou(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t);var Rr=z((Fw,ji)=>{var He=function(r){"use strict";var e=1e7,t=7,s=9007199254740992,i=C(s),o="0123456789abcdefghijklmnopqrstuvwxyz",u=typeof BigInt=="function";function p(f,_,y,v){return typeof f>"u"?p[0]:typeof _<"u"?+_==10&&!y?Y(f):mt(f,_,y,v):Y(f)}function g(f,_){this.value=f,this.sign=_,this.isSmall=!1}g.prototype=Object.create(p.prototype);function d(f){this.value=f,this.sign=f<0,this.isSmall=!0}d.prototype=Object.create(p.prototype);function h(f){this.value=f}h.prototype=Object.create(p.prototype);function S(f){return-s<f&&f<s}function C(f){return f<1e7?[f]:f<1e14?[f%1e7,Math.floor(f/1e7)]:[f%1e7,Math.floor(f/1e7)%1e7,Math.floor(f/1e14)]}function O(f){E(f);var _=f.length;if(_<4&&Xe(f,i)<0)switch(_){case 0:return 0;case 1:return f[0];case 2:return f[0]+f[1]*e;default:return f[0]+(f[1]+f[2]*e)*e}return f}function E(f){for(var _=f.length;f[--_]===0;);f.length=_+1}function q(f){for(var _=new Array(f),y=-1;++y<f;)_[y]=0;return _}function U(f){return f>0?Math.floor(f):Math.ceil(f)}function N(f,_){var y=f.length,v=_.length,x=new Array(y),R=0,M=e,V,F;for(F=0;F<v;F++)V=f[F]+_[F]+R,R=V>=M?1:0,x[F]=V-R*M;for(;F<y;)V=f[F]+R,R=V===M?1:0,x[F++]=V-R*M;return R>0&&x.push(R),x}function H(f,_){return f.length>=_.length?N(f,_):N(_,f)}function te(f,_){var y=f.length,v=new Array(y),x=e,R,M;for(M=0;M<y;M++)R=f[M]-x+_,_=Math.floor(R/x),v[M]=R-_*x,_+=1;for(;_>0;)v[M++]=_%x,_=Math.floor(_/x);return v}g.prototype.add=function(f){var _=Y(f);if(this.sign!==_.sign)return this.subtract(_.negate());var y=this.value,v=_.value;return _.isSmall?new g(te(y,Math.abs(v)),this.sign):new g(H(y,v),this.sign)},g.prototype.plus=g.prototype.add,d.prototype.add=function(f){var _=Y(f),y=this.value;if(y<0!==_.sign)return this.subtract(_.negate());var v=_.value;if(_.isSmall){if(S(y+v))return new d(y+v);v=C(Math.abs(v))}return new g(te(v,Math.abs(y)),y<0)},d.prototype.plus=d.prototype.add,h.prototype.add=function(f){return new h(this.value+Y(f).value)},h.prototype.plus=h.prototype.add;function Z(f,_){var y=f.length,v=_.length,x=new Array(y),R=0,M=e,V,F;for(V=0;V<v;V++)F=f[V]-R-_[V],F<0?(F+=M,R=1):R=0,x[V]=F;for(V=v;V<y;V++){if(F=f[V]-R,F<0)F+=M;else{x[V++]=F;break}x[V]=F}for(;V<y;V++)x[V]=f[V];return E(x),x}function ne(f,_,y){var v;return Xe(f,_)>=0?v=Z(f,_):(v=Z(_,f),y=!y),v=O(v),typeof v=="number"?(y&&(v=-v),new d(v)):new g(v,y)}function se(f,_,y){var v=f.length,x=new Array(v),R=-_,M=e,V,F;for(V=0;V<v;V++)F=f[V]+R,R=Math.floor(F/M),F%=M,x[V]=F<0?F+M:F;return x=O(x),typeof x=="number"?(y&&(x=-x),new d(x)):new g(x,y)}g.prototype.subtract=function(f){var _=Y(f);if(this.sign!==_.sign)return this.add(_.negate());var y=this.value,v=_.value;return _.isSmall?se(y,Math.abs(v),this.sign):ne(y,v,this.sign)},g.prototype.minus=g.prototype.subtract,d.prototype.subtract=function(f){var _=Y(f),y=this.value;if(y<0!==_.sign)return this.add(_.negate());var v=_.value;return _.isSmall?new d(y-v):se(v,Math.abs(y),y>=0)},d.prototype.minus=d.prototype.subtract,h.prototype.subtract=function(f){return new h(this.value-Y(f).value)},h.prototype.minus=h.prototype.subtract,g.prototype.negate=function(){return new g(this.value,!this.sign)},d.prototype.negate=function(){var f=this.sign,_=new d(-this.value);return _.sign=!f,_},h.prototype.negate=function(){return new h(-this.value)},g.prototype.abs=function(){return new g(this.value,!1)},d.prototype.abs=function(){return new d(Math.abs(this.value))},h.prototype.abs=function(){return new h(this.value>=0?this.value:-this.value)};function Ie(f,_){var y=f.length,v=_.length,x=y+v,R=q(x),M=e,V,F,ee,de,ie;for(ee=0;ee<y;++ee){de=f[ee];for(var he=0;he<v;++he)ie=_[he],V=de*ie+R[ee+he],F=Math.floor(V/M),R[ee+he]=V-F*M,R[ee+he+1]+=F}return E(R),R}function Ve(f,_){var y=f.length,v=new Array(y),x=e,R=0,M,V;for(V=0;V<y;V++)M=f[V]*_+R,R=Math.floor(M/x),v[V]=M-R*x;for(;R>0;)v[V++]=R%x,R=Math.floor(R/x);return v}function Be(f,_){for(var y=[];_-- >0;)y.push(0);return y.concat(f)}function Ct(f,_){var y=Math.max(f.length,_.length);if(y<=30)return Ie(f,_);y=Math.ceil(y/2);var v=f.slice(y),x=f.slice(0,y),R=_.slice(y),M=_.slice(0,y),V=Ct(x,M),F=Ct(v,R),ee=Ct(H(x,v),H(M,R)),de=H(H(V,Be(Z(Z(ee,V),F),y)),Be(F,2*y));return E(de),de}function Ot(f,_){return-.012*f-.012*_+15e-6*f*_>0}g.prototype.multiply=function(f){var _=Y(f),y=this.value,v=_.value,x=this.sign!==_.sign,R;if(_.isSmall){if(v===0)return p[0];if(v===1)return this;if(v===-1)return this.negate();if(R=Math.abs(v),R<e)return new g(Ve(y,R),x);v=C(R)}return Ot(y.length,v.length)?new g(Ct(y,v),x):new g(Ie(y,v),x)},g.prototype.times=g.prototype.multiply;function Je(f,_,y){return f<e?new g(Ve(_,f),y):new g(Ie(_,C(f)),y)}d.prototype._multiplyBySmall=function(f){return S(f.value*this.value)?new d(f.value*this.value):Je(Math.abs(f.value),C(Math.abs(this.value)),this.sign!==f.sign)},g.prototype._multiplyBySmall=function(f){return f.value===0?p[0]:f.value===1?this:f.value===-1?this.negate():Je(Math.abs(f.value),this.value,this.sign!==f.sign)},d.prototype.multiply=function(f){return Y(f)._multiplyBySmall(this)},d.prototype.times=d.prototype.multiply,h.prototype.multiply=function(f){return new h(this.value*Y(f).value)},h.prototype.times=h.prototype.multiply;function Fe(f){var _=f.length,y=q(_+_),v=e,x,R,M,V,F;for(M=0;M<_;M++){V=f[M],R=0-V*V;for(var ee=M;ee<_;ee++)F=f[ee],x=2*(V*F)+y[M+ee]+R,R=Math.floor(x/v),y[M+ee]=x-R*v;y[M+_]=R}return E(y),y}g.prototype.square=function(){return new g(Fe(this.value),!1)},d.prototype.square=function(){var f=this.value*this.value;return S(f)?new d(f):new g(Fe(C(Math.abs(this.value))),!1)},h.prototype.square=function(f){return new h(this.value*this.value)};function Ht(f,_){var y=f.length,v=_.length,x=e,R=q(_.length),M=_[v-1],V=Math.ceil(x/(2*M)),F=Ve(f,V),ee=Ve(_,V),de,ie,he,$e,Te,je,mr;for(F.length<=y&&F.push(0),ee.push(0),M=ee[v-1],ie=y-v;ie>=0;ie--){for(de=x-1,F[ie+v]!==M&&(de=Math.floor((F[ie+v]*x+F[ie+v-1])/M)),he=0,$e=0,je=ee.length,Te=0;Te<je;Te++)he+=de*ee[Te],mr=Math.floor(he/x),$e+=F[ie+Te]-(he-mr*x),he=mr,$e<0?(F[ie+Te]=$e+x,$e=-1):(F[ie+Te]=$e,$e=0);for(;$e!==0;){for(de-=1,he=0,Te=0;Te<je;Te++)he+=F[ie+Te]-x+ee[Te],he<0?(F[ie+Te]=he+x,he=0):(F[ie+Te]=he,he=1);$e+=he}R[ie]=de}return F=We(F,V)[0],[O(R),O(F)]}function Vt(f,_){for(var y=f.length,v=_.length,x=[],R=[],M=e,V,F,ee,de,ie;y;){if(R.unshift(f[--y]),E(R),Xe(R,_)<0){x.push(0);continue}F=R.length,ee=R[F-1]*M+R[F-2],de=_[v-1]*M+_[v-2],F>v&&(ee=(ee+1)*M),V=Math.ceil(ee/de);do{if(ie=Ve(_,V),Xe(ie,R)<=0)break;V--}while(V);x.push(V),R=Z(R,ie)}return x.reverse(),[O(x),O(R)]}function We(f,_){var y=f.length,v=q(y),x=e,R,M,V,F;for(V=0,R=y-1;R>=0;--R)F=V*x+f[R],M=U(F/_),V=F-M*_,v[R]=M|0;return[v,V|0]}function Qe(f,_){var y,v=Y(_);if(u)return[new h(f.value/v.value),new h(f.value%v.value)];var x=f.value,R=v.value,M;if(R===0)throw new Error("Cannot divide by zero");if(f.isSmall)return v.isSmall?[new d(U(x/R)),new d(x%R)]:[p[0],f];if(v.isSmall){if(R===1)return[f,p[0]];if(R==-1)return[f.negate(),p[0]];var V=Math.abs(R);if(V<e){y=We(x,V),M=O(y[0]);var F=y[1];return f.sign&&(F=-F),typeof M=="number"?(f.sign!==v.sign&&(M=-M),[new d(M),new d(F)]):[new g(M,f.sign!==v.sign),new d(F)]}R=C(V)}var ee=Xe(x,R);if(ee===-1)return[p[0],f];if(ee===0)return[p[f.sign===v.sign?1:-1],p[0]];x.length+R.length<=200?y=Ht(x,R):y=Vt(x,R),M=y[0];var de=f.sign!==v.sign,ie=y[1],he=f.sign;return typeof M=="number"?(de&&(M=-M),M=new d(M)):M=new g(M,de),typeof ie=="number"?(he&&(ie=-ie),ie=new d(ie)):ie=new g(ie,he),[M,ie]}g.prototype.divmod=function(f){var _=Qe(this,f);return{quotient:_[0],remainder:_[1]}},h.prototype.divmod=d.prototype.divmod=g.prototype.divmod,g.prototype.divide=function(f){return Qe(this,f)[0]},h.prototype.over=h.prototype.divide=function(f){return new h(this.value/Y(f).value)},d.prototype.over=d.prototype.divide=g.prototype.over=g.prototype.divide,g.prototype.mod=function(f){return Qe(this,f)[1]},h.prototype.mod=h.prototype.remainder=function(f){return new h(this.value%Y(f).value)},d.prototype.remainder=d.prototype.mod=g.prototype.remainder=g.prototype.mod,g.prototype.pow=function(f){var _=Y(f),y=this.value,v=_.value,x,R,M;if(v===0)return p[1];if(y===0)return p[0];if(y===1)return p[1];if(y===-1)return _.isEven()?p[1]:p[-1];if(_.sign)return p[0];if(!_.isSmall)throw new Error("The exponent "+_.toString()+" is too large.");if(this.isSmall&&S(x=Math.pow(y,v)))return new d(U(x));for(R=this,M=p[1];v&!0&&(M=M.times(R),--v),v!==0;)v/=2,R=R.square();return M},d.prototype.pow=g.prototype.pow,h.prototype.pow=function(f){var _=Y(f),y=this.value,v=_.value,x=BigInt(0),R=BigInt(1),M=BigInt(2);if(v===x)return p[1];if(y===x)return p[0];if(y===R)return p[1];if(y===BigInt(-1))return _.isEven()?p[1]:p[-1];if(_.isNegative())return new h(x);for(var V=this,F=p[1];(v&R)===R&&(F=F.times(V),--v),v!==x;)v/=M,V=V.square();return F},g.prototype.modPow=function(f,_){if(f=Y(f),_=Y(_),_.isZero())throw new Error("Cannot take modPow with modulus 0");var y=p[1],v=this.mod(_);for(f.isNegative()&&(f=f.multiply(p[-1]),v=v.modInv(_));f.isPositive();){if(v.isZero())return p[0];f.isOdd()&&(y=y.multiply(v).mod(_)),f=f.divide(2),v=v.square().mod(_)}return y},h.prototype.modPow=d.prototype.modPow=g.prototype.modPow;function Xe(f,_){if(f.length!==_.length)return f.length>_.length?1:-1;for(var y=f.length-1;y>=0;y--)if(f[y]!==_[y])return f[y]>_[y]?1:-1;return 0}g.prototype.compareAbs=function(f){var _=Y(f),y=this.value,v=_.value;return _.isSmall?1:Xe(y,v)},d.prototype.compareAbs=function(f){var _=Y(f),y=Math.abs(this.value),v=_.value;return _.isSmall?(v=Math.abs(v),y===v?0:y>v?1:-1):-1},h.prototype.compareAbs=function(f){var _=this.value,y=Y(f).value;return _=_>=0?_:-_,y=y>=0?y:-y,_===y?0:_>y?1:-1},g.prototype.compare=function(f){if(f===1/0)return-1;if(f===-1/0)return 1;var _=Y(f),y=this.value,v=_.value;return this.sign!==_.sign?_.sign?1:-1:_.isSmall?this.sign?-1:1:Xe(y,v)*(this.sign?-1:1)},g.prototype.compareTo=g.prototype.compare,d.prototype.compare=function(f){if(f===1/0)return-1;if(f===-1/0)return 1;var _=Y(f),y=this.value,v=_.value;return _.isSmall?y==v?0:y>v?1:-1:y<0!==_.sign?y<0?-1:1:y<0?1:-1},d.prototype.compareTo=d.prototype.compare,h.prototype.compare=function(f){if(f===1/0)return-1;if(f===-1/0)return 1;var _=this.value,y=Y(f).value;return _===y?0:_>y?1:-1},h.prototype.compareTo=h.prototype.compare,g.prototype.equals=function(f){return this.compare(f)===0},h.prototype.eq=h.prototype.equals=d.prototype.eq=d.prototype.equals=g.prototype.eq=g.prototype.equals,g.prototype.notEquals=function(f){return this.compare(f)!==0},h.prototype.neq=h.prototype.notEquals=d.prototype.neq=d.prototype.notEquals=g.prototype.neq=g.prototype.notEquals,g.prototype.greater=function(f){return this.compare(f)>0},h.prototype.gt=h.prototype.greater=d.prototype.gt=d.prototype.greater=g.prototype.gt=g.prototype.greater,g.prototype.lesser=function(f){return this.compare(f)<0},h.prototype.lt=h.prototype.lesser=d.prototype.lt=d.prototype.lesser=g.prototype.lt=g.prototype.lesser,g.prototype.greaterOrEquals=function(f){return this.compare(f)>=0},h.prototype.geq=h.prototype.greaterOrEquals=d.prototype.geq=d.prototype.greaterOrEquals=g.prototype.geq=g.prototype.greaterOrEquals,g.prototype.lesserOrEquals=function(f){return this.compare(f)<=0},h.prototype.leq=h.prototype.lesserOrEquals=d.prototype.leq=d.prototype.lesserOrEquals=g.prototype.leq=g.prototype.lesserOrEquals,g.prototype.isEven=function(){return(this.value[0]&1)===0},d.prototype.isEven=function(){return(this.value&1)===0},h.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},g.prototype.isOdd=function(){return(this.value[0]&1)===1},d.prototype.isOdd=function(){return(this.value&1)===1},h.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},g.prototype.isPositive=function(){return!this.sign},d.prototype.isPositive=function(){return this.value>0},h.prototype.isPositive=d.prototype.isPositive,g.prototype.isNegative=function(){return this.sign},d.prototype.isNegative=function(){return this.value<0},h.prototype.isNegative=d.prototype.isNegative,g.prototype.isUnit=function(){return!1},d.prototype.isUnit=function(){return Math.abs(this.value)===1},h.prototype.isUnit=function(){return this.abs().value===BigInt(1)},g.prototype.isZero=function(){return!1},d.prototype.isZero=function(){return this.value===0},h.prototype.isZero=function(){return this.value===BigInt(0)},g.prototype.isDivisibleBy=function(f){var _=Y(f);return _.isZero()?!1:_.isUnit()?!0:_.compareAbs(2)===0?this.isEven():this.mod(_).isZero()},h.prototype.isDivisibleBy=d.prototype.isDivisibleBy=g.prototype.isDivisibleBy;function Ur(f){var _=f.abs();if(_.isUnit())return!1;if(_.equals(2)||_.equals(3)||_.equals(5))return!0;if(_.isEven()||_.isDivisibleBy(3)||_.isDivisibleBy(5))return!1;if(_.lesser(49))return!0}function Kt(f,_){for(var y=f.prev(),v=y,x=0,R,M,V,F;v.isEven();)v=v.divide(2),x++;e:for(V=0;V<_.length;V++)if(!f.lesser(_[V])&&(F=He(_[V]).modPow(v,f),!(F.isUnit()||F.equals(y)))){for(R=x-1;R!=0;R--){if(F=F.square().mod(f),F.isUnit())return!1;if(F.equals(y))continue e}return!1}return!0}g.prototype.isPrime=function(f){var _=Ur(this);if(_!==r)return _;var y=this.abs(),v=y.bitLength();if(v<=64)return Kt(y,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var x=Math.log(2)*v.toJSNumber(),R=Math.ceil(f===!0?2*Math.pow(x,2):x),M=[],V=0;V<R;V++)M.push(He(V+2));return Kt(y,M)},h.prototype.isPrime=d.prototype.isPrime=g.prototype.isPrime,g.prototype.isProbablePrime=function(f,_){var y=Ur(this);if(y!==r)return y;for(var v=this.abs(),x=f===r?5:f,R=[],M=0;M<x;M++)R.push(He.randBetween(2,v.minus(2),_));return Kt(v,R)},h.prototype.isProbablePrime=d.prototype.isProbablePrime=g.prototype.isProbablePrime,g.prototype.modInv=function(f){for(var _=He.zero,y=He.one,v=Y(f),x=this.abs(),R,M,V;!x.isZero();)R=v.divide(x),M=_,V=v,_=y,v=x,y=M.subtract(R.multiply(y)),x=V.subtract(R.multiply(x));if(!v.isUnit())throw new Error(this.toString()+" and "+f.toString()+" are not co-prime");return _.compare(0)===-1&&(_=_.add(f)),this.isNegative()?_.negate():_},h.prototype.modInv=d.prototype.modInv=g.prototype.modInv,g.prototype.next=function(){var f=this.value;return this.sign?se(f,1,this.sign):new g(te(f,1),this.sign)},d.prototype.next=function(){var f=this.value;return f+1<s?new d(f+1):new g(i,!1)},h.prototype.next=function(){return new h(this.value+BigInt(1))},g.prototype.prev=function(){var f=this.value;return this.sign?new g(te(f,1),!0):se(f,1,this.sign)},d.prototype.prev=function(){var f=this.value;return f-1>-s?new d(f-1):new g(i,!0)},h.prototype.prev=function(){return new h(this.value-BigInt(1))};for(var Pe=[1];2*Pe[Pe.length-1]<=e;)Pe.push(2*Pe[Pe.length-1]);var pt=Pe.length,_t=Pe[pt-1];function Ge(f){return Math.abs(f)<=e}g.prototype.shiftLeft=function(f){var _=Y(f).toJSNumber();if(!Ge(_))throw new Error(String(_)+" is too large for shifting.");if(_<0)return this.shiftRight(-_);var y=this;if(y.isZero())return y;for(;_>=pt;)y=y.multiply(_t),_-=pt-1;return y.multiply(Pe[_])},h.prototype.shiftLeft=d.prototype.shiftLeft=g.prototype.shiftLeft,g.prototype.shiftRight=function(f){var _,y=Y(f).toJSNumber();if(!Ge(y))throw new Error(String(y)+" is too large for shifting.");if(y<0)return this.shiftLeft(-y);for(var v=this;y>=pt;){if(v.isZero()||v.isNegative()&&v.isUnit())return v;_=Qe(v,_t),v=_[1].isNegative()?_[0].prev():_[0],y-=pt-1}return _=Qe(v,Pe[y]),_[1].isNegative()?_[0].prev():_[0]},h.prototype.shiftRight=d.prototype.shiftRight=g.prototype.shiftRight;function qe(f,_,y){_=Y(_);for(var v=f.isNegative(),x=_.isNegative(),R=v?f.not():f,M=x?_.not():_,V=0,F=0,ee=null,de=null,ie=[];!R.isZero()||!M.isZero();)ee=Qe(R,_t),V=ee[1].toJSNumber(),v&&(V=_t-1-V),de=Qe(M,_t),F=de[1].toJSNumber(),x&&(F=_t-1-F),R=ee[0],M=de[0],ie.push(y(V,F));for(var he=y(v?1:0,x?1:0)!==0?He(-1):He(0),$e=ie.length-1;$e>=0;$e-=1)he=he.multiply(_t).add(He(ie[$e]));return he}g.prototype.not=function(){return this.negate().prev()},h.prototype.not=d.prototype.not=g.prototype.not,g.prototype.and=function(f){return qe(this,f,function(_,y){return _&y})},h.prototype.and=d.prototype.and=g.prototype.and,g.prototype.or=function(f){return qe(this,f,function(_,y){return _|y})},h.prototype.or=d.prototype.or=g.prototype.or,g.prototype.xor=function(f){return qe(this,f,function(_,y){return _^y})},h.prototype.xor=d.prototype.xor=g.prototype.xor;var Zt=1<<30,_r=(e&-e)*(e&-e)|Zt;function Ke(f){var _=f.value,y=typeof _=="number"?_|Zt:typeof _=="bigint"?_|BigInt(Zt):_[0]+_[1]*e|_r;return y&-y}function et(f,_){if(_.compareTo(f)<=0){var y=et(f,_.square(_)),v=y.p,x=y.e,R=v.multiply(_);return R.compareTo(f)<=0?{p:R,e:x*2+1}:{p:v,e:x*2}}return{p:He(1),e:0}}g.prototype.bitLength=function(){var f=this;return f.compareTo(He(0))<0&&(f=f.negate().subtract(He(1))),f.compareTo(He(0))===0?He(0):He(et(f,He(2)).e).add(He(1))},h.prototype.bitLength=d.prototype.bitLength=g.prototype.bitLength;function ct(f,_){return f=Y(f),_=Y(_),f.greater(_)?f:_}function Rt(f,_){return f=Y(f),_=Y(_),f.lesser(_)?f:_}function st(f,_){if(f=Y(f).abs(),_=Y(_).abs(),f.equals(_))return f;if(f.isZero())return _;if(_.isZero())return f;for(var y=p[1],v,x;f.isEven()&&_.isEven();)v=Rt(Ke(f),Ke(_)),f=f.divide(v),_=_.divide(v),y=y.multiply(v);for(;f.isEven();)f=f.divide(Ke(f));do{for(;_.isEven();)_=_.divide(Ke(_));f.greater(_)&&(x=_,_=f,f=x),_=_.subtract(f)}while(!_.isZero());return y.isUnit()?f:f.multiply(y)}function or(f,_){return f=Y(f).abs(),_=Y(_).abs(),f.divide(st(f,_)).multiply(_)}function Yt(f,_,y){f=Y(f),_=Y(_);var v=y||Math.random,x=Rt(f,_),R=ct(f,_),M=R.subtract(x).add(1);if(M.isSmall)return x.add(Math.floor(v()*M));for(var V=ut(M,e).value,F=[],ee=!0,de=0;de<V.length;de++){var ie=ee?V[de]+(de+1<V.length?V[de+1]/e:0):e,he=U(v()*ie);F.push(he),he<V[de]&&(ee=!1)}return x.add(p.fromArray(F,e,!1))}var mt=function(f,_,y,v){y=y||o,f=String(f),v||(f=f.toLowerCase(),y=y.toLowerCase());var x=f.length,R,M=Math.abs(_),V={};for(R=0;R<y.length;R++)V[y[R]]=R;for(R=0;R<x;R++){var F=f[R];if(F!=="-"&&F in V&&V[F]>=M){if(F==="1"&&M===1)continue;throw new Error(F+" is not a valid digit in base "+_+".")}}_=Y(_);var ee=[],de=f[0]==="-";for(R=de?1:0;R<f.length;R++){var F=f[R];if(F in V)ee.push(Y(V[F]));else if(F==="<"){var ie=R;do R++;while(f[R]!==">"&&R<f.length);ee.push(Y(f.slice(ie+1,R)))}else throw new Error(F+" is not a valid character")}return lr(ee,_,de)};function lr(f,_,y){var v=p[0],x=p[1],R;for(R=f.length-1;R>=0;R--)v=v.add(f[R].times(x)),x=x.times(_);return y?v.negate():v}function Jt(f,_){return _=_||o,f<_.length?_[f]:"<"+f+">"}function ut(f,_){if(_=He(_),_.isZero()){if(f.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(_.equals(-1)){if(f.isZero())return{value:[0],isNegative:!1};if(f.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-f.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var y=Array.apply(null,Array(f.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return y.unshift([1]),{value:[].concat.apply([],y),isNegative:!1}}var v=!1;if(f.isNegative()&&_.isPositive()&&(v=!0,f=f.abs()),_.isUnit())return f.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(f.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:v};for(var x=[],R=f,M;R.isNegative()||R.compareAbs(_)>=0;){M=R.divmod(_),R=M.quotient;var V=M.remainder;V.isNegative()&&(V=_.minus(V).abs(),R=R.next()),x.push(V.toJSNumber())}return x.push(R.toJSNumber()),{value:x.reverse(),isNegative:v}}function Or(f,_,y){var v=ut(f,_);return(v.isNegative?"-":"")+v.value.map(function(x){return Jt(x,y)}).join("")}g.prototype.toArray=function(f){return ut(this,f)},d.prototype.toArray=function(f){return ut(this,f)},h.prototype.toArray=function(f){return ut(this,f)},g.prototype.toString=function(f,_){if(f===r&&(f=10),f!==10||_)return Or(this,f,_);for(var y=this.value,v=y.length,x=String(y[--v]),R="0000000",M;--v>=0;)M=String(y[v]),x+=R.slice(M.length)+M;var V=this.sign?"-":"";return V+x},d.prototype.toString=function(f,_){return f===r&&(f=10),f!=10||_?Or(this,f,_):String(this.value)},h.prototype.toString=d.prototype.toString,h.prototype.toJSON=g.prototype.toJSON=d.prototype.toJSON=function(){return this.toString()},g.prototype.valueOf=function(){return parseInt(this.toString(),10)},g.prototype.toJSNumber=g.prototype.valueOf,d.prototype.valueOf=function(){return this.value},d.prototype.toJSNumber=d.prototype.valueOf,h.prototype.valueOf=h.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function it(f){if(S(+f)){var _=+f;if(_===U(_))return u?new h(BigInt(_)):new d(_);throw new Error("Invalid integer: "+f)}var y=f[0]==="-";y&&(f=f.slice(1));var v=f.split(/e/i);if(v.length>2)throw new Error("Invalid integer: "+v.join("e"));if(v.length===2){var x=v[1];if(x[0]==="+"&&(x=x.slice(1)),x=+x,x!==U(x)||!S(x))throw new Error("Invalid integer: "+x+" is not a valid exponent.");var R=v[0],M=R.indexOf(".");if(M>=0&&(x-=R.length-M-1,R=R.slice(0,M)+R.slice(M+1)),x<0)throw new Error("Cannot include negative exponent part for integers");R+=new Array(x+1).join("0"),f=R}var V=/^([0-9][0-9]*)$/.test(f);if(!V)throw new Error("Invalid integer: "+f);if(u)return new h(BigInt(y?"-"+f:f));for(var F=[],ee=f.length,de=t,ie=ee-de;ee>0;)F.push(+f.slice(ie,ee)),ie-=de,ie<0&&(ie=0),ee-=de;return E(F),new g(F,y)}function ft(f){if(u)return new h(BigInt(f));if(S(f)){if(f!==U(f))throw new Error(f+" is not an integer.");return new d(f)}return it(f.toString())}function Y(f){return typeof f=="number"?ft(f):typeof f=="string"?it(f):typeof f=="bigint"?new h(f):f}for(var qt=0;qt<1e3;qt++)p[qt]=Y(qt),qt>0&&(p[-qt]=Y(-qt));return p.one=p[1],p.zero=p[0],p.minusOne=p[-1],p.max=ct,p.min=Rt,p.gcd=st,p.lcm=or,p.isInstance=function(f){return f instanceof g||f instanceof d||f instanceof h},p.randBetween=Yt,p.fromArray=function(f,_,y){return lr(f.map(Y),Y(_||10),y)},p}();typeof ji<"u"&&ji.hasOwnProperty("exports")&&(ji.exports=He);typeof define=="function"&&define.amd&&define(function(){return He})});var Do=z((Lw,ju)=>{"use strict";var qu=r=>r.replace(/(?:^|_)([a-z])/g,(t,s)=>s.toUpperCase()).replace(/_/g,""),Fu=r=>r.replace(/([-_][a-z])/g,e=>e.toUpperCase().replace("-","").replace("_","")),Lu=new Set([3162085175,2574415285,1072550713,3300522427,1450380236]),z_=new Set([85337187,2211011308,2851430293,1013613780,1459478408,3504867164,3045658042,1715713620,3608339646,4110704415,812830625]);function G_(){let r,e=[];for(let t=0;t<256;t++){r=t;for(let s=0;s<8;s++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e}var Mo;function Vu(r){Mo||(Mo=G_()),Buffer.isBuffer(r)||(r=Buffer.from(r));let e=-1;for(let t=0;t<r.length;t++){let s=r[t];e=Mo[(e^s)&255]^e>>>8}return(e^-1)>>>0}var Bo=(r,e,t=[])=>{r.flags.includes("g")||(r=new RegExp(r.source,"g"));let s=r.exec(e);return s&&(t.push(s.slice(1)),Bo(r,e,t)),t},Nu=(r,e)=>{let t=r.match(/([\w.]+)(?:#([0-9a-fA-F]+))?(?:\s{?\w+:[\w\d<>#.?!]+}?)*\s=\s([\w\d<>#.?]+);$/);if(!t)throw new Error(`Cannot parse TLObject ${r}`);let s=Bo(/({)?(\w+):([\w\d<>#.?!]+)}?/,r),i={name:t[1],constructorId:parseInt(t[2],16),argsConfig:{},subclassOfId:Vu(t[3]),result:t[3],isFunction:e,namespace:void 0};if(!i.constructorId){let o="",u;Object.values(i.argsConfig).length?u=` ${Object.keys(i.argsConfig).map(g=>g.toString()).join(" ")}`:u="";let p=`${i.name}${o}${u} = ${i.result}`.replace(/(:|\?)bytes /g,"$1string ").replace(/</g," ").replace(/>|{|}/g,"").replace(/ \w+:flags\d*\.\d+\?true/g,"");i.name==="inputMediaInvoice"&&i.name,i.constructorId=Vu(Buffer.from(p,"utf8"))}for(let[o,u,p]of s)o===void 0&&(i.argsConfig[Fu(u)]=Wu(u,p));return i.name.includes(".")&&([i.namespace,i.name]=i.name.split(/\.(.+)/)),i.name=qu(i.name),i};function Wu(r,e){r=r==="self"?"is_self":r;let t={isVector:!1,isFlag:!1,skipConstructorId:!1,flagGroup:0,flagIndex:-1,flagIndicator:!0,type:void 0,useVectorId:void 0};if(e!=="#"){t.flagIndicator=!1,t.type=e.replace(/^!+/,"");let s=t.type.match(/flags(\d*)\.(\d+)\?([\w<>.]+)/);s&&(t.isFlag=!0,t.flagGroup=Number(s[1]||1),t.flagIndex=Number(s[2]),[,,,t.type]=s);let i=t.type.match(/[Vv]ector<([\w\d.]+)>/);i&&(t.isVector=!0,t.useVectorId=t.type.charAt(0)==="V",[,t.type]=i),/^[a-z]$/.test(t.type.split(".").pop().charAt(0))&&(t.skipConstructorId=!0)}return t}function*$_(r,e=[],t=Lu){(e||[]).reduce((g,d)=>({...g,[d.name]:d}),{});let s=[],i={},o={},u=r,p=!1;for(let g of u.split(`
`)){let d=g.indexOf("//");if(d!==-1&&(g=g.slice(0,d)),g=g.trim(),!g)continue;let h=g.match(/---(\w+)---/);if(h){let[,S]=h;p=S==="functions";continue}try{let S=Nu(g,p);if(t.has(S.constructorId))continue;s.push(S),S.isFunction||(o[S.result]||(o[S.result]=[]),i[S.name]=S,o[S.result].push(S))}catch(S){if(!S.toString().includes("vector#1cb5c415"))throw S}}for(let g of s)if(z_.has(g.constructorId))for(let d in g.argsConfig)g.argsConfig[d].type==="string"&&(g.argsConfig[d].type="bytes");for(let g of s)yield g}function H_(r){if(!(r instanceof Buffer))if(typeof r=="string")r=Buffer.from(r);else throw Error(`Bytes or str expected, not ${r.constructor.name}`);let e=[],t;return r.length<254?(t=(r.length+1)%4,t!==0&&(t=4-t),e.push(Buffer.from([r.length])),e.push(r)):(t=r.length%4,t!==0&&(t=4-t),e.push(Buffer.from([254,r.length%256,(r.length>>8)%256,(r.length>>16)%256])),e.push(r)),e.push(Buffer.alloc(t).fill(0)),Buffer.concat(e)}function K_(r){if(!r)return Buffer.alloc(4).fill(0);if(r instanceof Date&&(r=Math.floor((Date.now()-r.getTime())/1e3)),typeof r=="number"){let e=Buffer.alloc(4);return e.writeInt32LE(r,0),e}throw Error(`Cannot interpret "${r}" as a date`)}ju.exports={findAll:Bo,parseTl:$_,buildArgConfig:Wu,fromLine:Nu,CORE_TYPES:Lu,serializeDate:K_,serializeBytes:H_,snakeToCamelCase:qu,variableSnakeToCamelCase:Fu}});var Gi=z(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});var wt=new Uint8Array(256),Is=new Uint8Array(256),Es=new Uint32Array(256),As=new Uint32Array(256),ks=new Uint32Array(256),Ts=new Uint32Array(256),Nn=new Uint32Array(256),Wn=new Uint32Array(256),jn=new Uint32Array(256),zn=new Uint32Array(256);function fr(r){if(r instanceof Uint32Array)return r;if(typeof r=="string"){if(r.length%4!=0)for(var e=r.length%4;e<=4;e++)r+="\0x00";var t=new Uint32Array(r.length/4);for(e=0;e<r.length;e+=4)t[e/4]=(i=e,(s=r).charCodeAt(i)<<24^s.charCodeAt(i+1)<<16^s.charCodeAt(i+2)<<8^s.charCodeAt(i+3));return t}var s,i;if(r instanceof Uint8Array){for(t=new Uint32Array(r.length/4),e=0;e<r.length;e+=4)t[e/4]=r[e]<<24^r[e+1]<<16^r[e+2]<<8^r[e+3];return t}throw new Error("Unable to create 32-bit words")}function zi(r,e,t){t===void 0&&(t=r);for(var s=0;s<r.length;s++)t[s]=r[s]^e[s]}(function(){for(var r,e,t,s,i,o=new Uint8Array(256),u=new Uint8Array(256),p=0,g=0,d=0;d<256;d++)o[d]=d<<1^283*(d>>7),u[o[d]^d]=d;for(;!wt[p];p^=r||1)t=(t=g^g<<1^g<<2^g<<3^g<<4)>>8^255&t^99,wt[p]=t,Is[t]=p,i=16843009*o[e=o[r=o[p]]]^65537*e^257*r^16843008*p,s=257*o[t]^16843008*t,Es[p]=s=s<<24^s>>>8,As[p]=s=s<<24^s>>>8,ks[p]=s=s<<24^s>>>8,Ts[p]=s=s<<24^s>>>8,Nn[t]=i=i<<24^i>>>8,Wn[t]=i=i<<24^i>>>8,jn[t]=i=i<<24^i>>>8,zn[t]=i=i<<24^i>>>8,g=u[g]||1})();var Uo=function(){function r(e){var t=fr(e);if(t.length!==4&&t.length!==6&&t.length!==8)throw new Error("Invalid key size");this.encKey=new Uint32Array(4*t.length+28),this.decKey=new Uint32Array(4*t.length+28),this.encKey.set(t);for(var s,i=1,o=t.length;o<4*t.length+28;o++)s=this.encKey[o-1],(o%t.length==0||t.length===8&&o%t.length==4)&&(s=wt[s>>>24]<<24^wt[s>>16&255]<<16^wt[s>>8&255]<<8^wt[255&s],o%t.length==0&&(s=s<<8^s>>>24^i<<24,i=i<<1^283*(i>>7))),this.encKey[o]=this.encKey[o-t.length]^s;for(var u=0;o;u++,o--)s=this.encKey[3&u?o:o-4],this.decKey[u]=o<=4||u<4?s:Nn[wt[s>>>24]]^Wn[wt[s>>16&255]]^jn[wt[s>>8&255]]^zn[wt[255&s]]}return r.prototype.encrypt=function(e){for(var t,s,i,o=fr(e),u=new Uint32Array(4),p=o[0]^this.encKey[0],g=o[1]^this.encKey[1],d=o[2]^this.encKey[2],h=o[3]^this.encKey[3],S=this.encKey.length/4-2,C=4,O=0;O<S;O++)t=Es[p>>>24]^As[g>>16&255]^ks[d>>8&255]^Ts[255&h]^this.encKey[C],s=Es[g>>>24]^As[d>>16&255]^ks[h>>8&255]^Ts[255&p]^this.encKey[C+1],i=Es[d>>>24]^As[h>>16&255]^ks[p>>8&255]^Ts[255&g]^this.encKey[C+2],h=Es[h>>>24]^As[p>>16&255]^ks[g>>8&255]^Ts[255&d]^this.encKey[C+3],p=t,g=s,d=i,C+=4;for(O=0;O<4;O++)u[O]=wt[p>>>24]<<24^wt[g>>16&255]<<16^wt[d>>8&255]<<8^wt[255&h]^this.encKey[C++],t=p,p=g,g=d,d=h,h=t;return u},r.prototype.decrypt=function(e){for(var t,s,i,o=fr(e),u=new Uint32Array(4),p=o[0]^this.decKey[0],g=o[3]^this.decKey[1],d=o[2]^this.decKey[2],h=o[1]^this.decKey[3],S=this.decKey.length/4-2,C=4,O=0;O<S;O++)t=Nn[p>>>24]^Wn[g>>16&255]^jn[d>>8&255]^zn[255&h]^this.decKey[C],s=Nn[g>>>24]^Wn[d>>16&255]^jn[h>>8&255]^zn[255&p]^this.decKey[C+1],i=Nn[d>>>24]^Wn[h>>16&255]^jn[p>>8&255]^zn[255&g]^this.decKey[C+2],h=Nn[h>>>24]^Wn[p>>16&255]^jn[g>>8&255]^zn[255&d]^this.decKey[C+3],p=t,g=s,d=i,C+=4;for(O=0;O<4;O++)u[3&-O]=Is[p>>>24]<<24^Is[g>>16&255]<<16^Is[d>>8&255]<<8^Is[255&h]^this.decKey[C++],t=p,p=g,g=d,d=h,h=t;return u},r}(),Z_=function(){function r(e,t,s){s===void 0&&(s=16),this.key=fr(e),this.iv=fr(t),this.cipher=new Uo(e),this.blockSize=s/4}return r.prototype.encrypt=function(e,t){for(var s=fr(e),i=t||new Uint32Array(s.length),o=this.iv.subarray(this.blockSize,this.iv.length),u=this.iv.subarray(0,this.blockSize),p=new Uint32Array(this.blockSize),g=0;g<s.length;g+=this.blockSize){var d=s.subarray(g,g+this.blockSize);zi(d,u,p);var h=this.cipher.encrypt(p);zi(h,o),o=d,u=h;for(var S=g,C=0;S<s.length&&C<4;S++,C++)i[S]=h[C]}return i},r.prototype.decrypt=function(e,t){for(var s=fr(e),i=t||new Uint32Array(s.length),o=this.iv.subarray(this.blockSize,this.iv.length),u=this.iv.subarray(0,this.blockSize),p=new Uint32Array(this.blockSize),g=0;g<i.length;g+=this.blockSize){var d=s.subarray(g,g+this.blockSize);zi(d,o,p);var h=this.cipher.decrypt(p);zi(h,u),u=d,o=h;for(var S=g,C=0;S<i.length&&C<4;S++,C++)i[S]=h[C]}return i},r}(),Y_=function(){function r(e,t,s){if(s===void 0&&(s=16),this.offset=0,this.key=fr(e),this.counter=fr(t),this.cipher=new Uo(e),this.blockSize=s/4,this.counter.length!==4)throw new Error("AES-CTR mode counter must be 16 bytes length")}return r.prototype.encrypt=function(e,t){for(var s=fr(e),i=t||new Uint32Array(s.length),o=this.offset,u=0;u<s.length;u+=this.blockSize){for(var p=this.cipher.encrypt(this.counter),g=u,d=o;g<s.length&&d<this.blockSize;g++,d++)i[g]=p[d]^s[g];s.length-u>=this.blockSize&&this.incrementCounter(),o&&(u-=o,o=0)}return this.offset=(this.offset+s.length%4)%4,i},r.prototype.decrypt=function(e,t){return this.encrypt(e,t)},r.prototype.incrementCounter=function(){for(var e=this.counter.length-1;e>=0&&!(++this.counter[e]<4294967295);e--);},r}();xs.CTR=Y_,xs.IGE=Z_,xs.default=Uo});var Ku={};Hr(Ku,{ab2i:()=>Q_,ab2iBig:()=>Hu,ab2iLow:()=>$u,i2ab:()=>J_,i2abBig:()=>Gu,i2abLow:()=>zu,isBigEndian:()=>Oo});function zu(r){let e=new Uint8Array(r.length*4),t=0;for(let s=0;s<r.length;s++){let i=r[s];e[t++]=i>>>24,e[t++]=i>>16&255,e[t++]=i>>8&255,e[t++]=i&255}return e.buffer}function Gu(r){return r.buffer}function $u(r){let e=new Uint8Array(r),t=new Uint32Array(e.length/4);for(let s=0;s<e.length;s+=4)t[s/4]=e[s]<<24^e[s+1]<<16^e[s+2]<<8^e[s+3];return t}function Hu(r){return new Uint32Array(r)}var Oo,J_,Q_,Zu=Ue(()=>{"use strict";Oo=new Uint8Array(new Uint32Array([16909060]))[0]===1,J_=Oo?Gu:zu,Q_=Oo?Hu:$u});var Ju={};Hr(Ju,{getWords:()=>X_,s2i:()=>Yu,xor:()=>em});function Yu(r,e){return r.charCodeAt(e)<<24^r.charCodeAt(e+1)<<16^r.charCodeAt(e+2)<<8^r.charCodeAt(e+3)}function X_(r){if(r instanceof Uint32Array)return r;if(typeof r=="string"){if(r.length%4!==0)for(let t=r.length%4;t<=4;t++)r+="\0x00";let e=new Uint32Array(r.length/4);for(let t=0;t<r.length;t+=4)e[t/4]=Yu(r,t);return e}if(r instanceof Uint8Array){let e=new Uint32Array(r.length/4);for(let t=0;t<r.length;t+=4)e[t/4]=r[t]<<24^r[t+1]<<16^r[t+2]<<8^r[t+3];return e}throw new Error("Unable to create 32-bit words")}function em(r,e,t=r){for(let s=0;s<r.length;s++)t[s]=r[s]^e[s]}var Qu=Ue(()=>{"use strict"});var qo=z((Ww,Xu)=>{"use strict";var tm=Gi().default,{i2ab:rm,ab2i:nm}=(Zu(),rr(Ku)),{getWords:sm}=(Qu(),rr(Ju)),Ms=require("crypto").webcrypto,$i=class{constructor(e){this.setBytes(e)}setBytes(e){e=Buffer.from(e),this._counter=e}increment(){for(let e=15;e>=0;e--)if(this._counter[e]===255)this._counter[e]=0;else{this._counter[e]++;break}}},Hi=class{constructor(e,t){t instanceof $i||(t=new $i(t)),this._counter=t,this._remainingCounter=void 0,this._remainingCounterIndex=16,this._aes=new tm(sm(e))}update(e){return this.encrypt(e)}encrypt(e){let t=Buffer.from(e);for(let s=0;s<t.length;s++)this._remainingCounterIndex===16&&(this._remainingCounter=Buffer.from(rm(this._aes.encrypt(nm(this._counter._counter)))),this._remainingCounterIndex=0,this._counter.increment()),t[s]^=this._remainingCounter[this._remainingCounterIndex++];return t}};function im(r,e,t){if(r.includes("ECB"))throw new Error("Not supported");return new Hi(e,t)}function am(r,e,t){if(r.includes("ECB"))throw new Error("Not supported");return new Hi(e,t)}function om(r){let e=new Uint8Array(r);return Ms.getRandomValues(e),e}var Vo=class{constructor(e){this.algorithm=e}update(e){this.data=new Uint8Array(e)}async digest(){if(this.algorithm==="sha1")return Buffer.from(await Ms.subtle.digest("SHA-1",this.data));if(this.algorithm==="sha256")return Buffer.from(await Ms.subtle.digest("SHA-256",this.data))}};async function lm(r,e,t){let s=await Ms.subtle.importKey("raw",r,{name:"PBKDF2"},!1,["deriveBits"]);return Buffer.from(await Ms.subtle.deriveBits({name:"PBKDF2",hash:"SHA-512",salt:e,iterations:t},s,512))}function cm(r){return new Vo(r)}Xu.exports={createCipheriv:am,createDecipheriv:im,randomBytes:om,createHash:cm,pbkdf2:lm}});var rt=z((jw,nf)=>{"use strict";var At=Rr(),No=qo();function ef(r,e=!0,t=!1){let s=Buffer.from(r),i=s.length;e&&(s=s.reverse());let o=At(s.toString("hex"),16);return t&&Math.floor(o.toString(2).length/8)>=i&&(o=o.subtract(At(2).pow(At(i*8)))),o}function Lo(r,e=8){let t=At(r),s=[];for(let i=0;i<e;i++)s[i]=t.shiftRight(8*i).and(255);return Buffer.from(s)}function tf(r,e,t=!0,s=!1){r=At(r);let i=r.bitLength().toJSNumber(),o=Math.ceil(i/8);if(e<o)throw new Error("OverflowError: int too big to convert");if(!s&&r.lesser(At(0)))throw new Error("Cannot convert to unsigned");let u=!1;r.lesser(At(0))&&(u=!0,r=r.abs());let p=r.toString(16).padStart(e*2,"0"),g=Buffer.from(p,"hex");if(s&&u){g[g.length-1]=256-g[g.length-1];for(let d=0;d<g.length-1;d++)g[d]=255-g[d]}return t&&(g=g.reverse()),g}function um(r=!0){return ef(rf(8),!0,r)}function fm(r,e){return(r%e+e)%e}function dm(r,e){return r.remainder(e).add(e).remainder(e)}function rf(r){return Buffer.from(No.randomBytes(r))}async function gm(r,e){r=Lo(r,16),e=Lo(e,32);let[t,s,i]=await Promise.all([Ki(Buffer.concat([e,r])),Ki(Buffer.concat([r,e])),Ki(Buffer.concat([e,e]))]),o=Buffer.concat([t,s.slice(0,12)]),u=Buffer.concat([s.slice(12,20),i,e.slice(0,4)]);return{key:o,iv:u}}function hm(r){let e=Buffer.alloc(r.length*4);for(let t=0;t<r.length;t++)e.writeUInt32BE(r[t],t*4);return e}function Ki(r){let e=No.createHash("sha1");return e.update(r),e.digest()}function pm(r){let e=No.createHash("sha256");return e.update(r),e.digest()}function _m(r,e,t){r=r.remainder(t);let s=At.one,i=r;for(;e.greater(At.zero);){let o=e.remainder(At(2));e=e.divide(At(2)),o.eq(At.one)&&(s=s.multiply(i),s=s.remainder(t)),i=i.multiply(i),i=i.remainder(t)}return s}function mm(r,e=!1){let t=r.toString(2).length,s=Math.floor((t+8-1)/8);return tf(At(r),s,!1,e)}function bm(r,e){return r=Math.ceil(r),e=Math.floor(e),Math.floor(Math.random()*(e-r+1))+r}var ym=r=>new Promise(e=>{setTimeout(e,r)});function wm(r,e){let t=[];for(let s=0;s<r.length;s++)t.push(r[s]^e[s]);return Buffer.from(t)}function Sm(){let r,e=[];for(let t=0;t<256;t++){r=t;for(let s=0;s<8;s++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e}var Fo;function vm(r){Fo||(Fo=Sm()),Buffer.isBuffer(r)||(r=Buffer.from(r));let e=-1;for(let t=0;t<r.length;t++){let s=r[t];e=Fo[(e^s)&255]^e>>>8}return(e^-1)>>>0}nf.exports={readBigIntFromBuffer:ef,readBufferFromBigInt:tf,generateRandomLong:um,mod:fm,crc32:vm,generateRandomBytes:rf,generateKeyDataFromNonce:gm,sha1:Ki,sha256:pm,bigIntMod:dm,modExp:_m,getRandomInt:bm,sleep:ym,getByteArray:mm,toSignedLittleBuffer:Lo,convertToLittle:hm,bufferXor:wm}});var af=z((zw,sf)=>{"use strict";sf.exports=`boolFalse#bc799737 = Bool;
boolTrue#997275b5 = Bool;
true#3fedd339 = True;
vector#1cb5c415 {t:Type} # [ t ] = Vector t;
error#c4b9f9bb code:int text:string = Error;
null#56730bcc = Null;
inputPeerEmpty#7f3b18ea = InputPeer;
inputPeerSelf#7da07ec9 = InputPeer;
inputPeerChat#35a95cb9 chat_id:long = InputPeer;
inputPeerUser#dde8a54c user_id:long access_hash:long = InputPeer;
inputPeerChannel#27bcbbfc channel_id:long access_hash:long = InputPeer;
inputPeerUserFromMessage#a87b0a1c peer:InputPeer msg_id:int user_id:long = InputPeer;
inputPeerChannelFromMessage#bd2a0840 peer:InputPeer msg_id:int channel_id:long = InputPeer;
inputUserEmpty#b98886cf = InputUser;
inputUserSelf#f7c1b13f = InputUser;
inputUser#f21158c6 user_id:long access_hash:long = InputUser;
inputUserFromMessage#1da448e2 peer:InputPeer msg_id:int user_id:long = InputUser;
inputPhoneContact#f392b7f4 client_id:long phone:string first_name:string last_name:string = InputContact;
inputFile#f52ff27f id:long parts:int name:string md5_checksum:string = InputFile;
inputFileBig#fa4f0bb5 id:long parts:int name:string = InputFile;
inputMediaEmpty#9664f57f = InputMedia;
inputMediaUploadedPhoto#1e287d04 flags:# spoiler:flags.2?true file:InputFile stickers:flags.0?Vector<InputDocument> ttl_seconds:flags.1?int = InputMedia;
inputMediaPhoto#b3ba0635 flags:# spoiler:flags.1?true id:InputPhoto ttl_seconds:flags.0?int = InputMedia;
inputMediaGeoPoint#f9c44144 geo_point:InputGeoPoint = InputMedia;
inputMediaContact#f8ab7dfb phone_number:string first_name:string last_name:string vcard:string = InputMedia;
inputMediaUploadedDocument#5b38c6c1 flags:# nosound_video:flags.3?true force_file:flags.4?true spoiler:flags.5?true file:InputFile thumb:flags.2?InputFile mime_type:string attributes:Vector<DocumentAttribute> stickers:flags.0?Vector<InputDocument> ttl_seconds:flags.1?int = InputMedia;
inputMediaDocument#33473058 flags:# spoiler:flags.2?true id:InputDocument ttl_seconds:flags.0?int query:flags.1?string = InputMedia;
inputMediaVenue#c13d1c11 geo_point:InputGeoPoint title:string address:string provider:string venue_id:string venue_type:string = InputMedia;
inputMediaPhotoExternal#e5bbfe1a flags:# spoiler:flags.1?true url:string ttl_seconds:flags.0?int = InputMedia;
inputMediaDocumentExternal#fb52dc99 flags:# spoiler:flags.1?true url:string ttl_seconds:flags.0?int = InputMedia;
inputMediaGame#d33f43f3 id:InputGame = InputMedia;
inputMediaInvoice#8eb5a6d5 flags:# title:string description:string photo:flags.0?InputWebDocument invoice:Invoice payload:bytes provider:string provider_data:DataJSON start_param:flags.1?string extended_media:flags.2?InputMedia = InputMedia;
inputMediaGeoLive#971fa843 flags:# stopped:flags.0?true geo_point:InputGeoPoint heading:flags.2?int period:flags.1?int proximity_notification_radius:flags.3?int = InputMedia;
inputMediaPoll#f94e5f1 flags:# poll:Poll correct_answers:flags.0?Vector<bytes> solution:flags.1?string solution_entities:flags.1?Vector<MessageEntity> = InputMedia;
inputMediaDice#e66fbf7b emoticon:string = InputMedia;
inputMediaStory#89fdd778 peer:InputPeer id:int = InputMedia;
inputMediaWebPage#c21b8849 flags:# force_large_media:flags.0?true force_small_media:flags.1?true optional:flags.2?true url:string = InputMedia;
inputChatPhotoEmpty#1ca48f57 = InputChatPhoto;
inputChatUploadedPhoto#bdcdaec0 flags:# file:flags.0?InputFile video:flags.1?InputFile video_start_ts:flags.2?double video_emoji_markup:flags.3?VideoSize = InputChatPhoto;
inputChatPhoto#8953ad37 id:InputPhoto = InputChatPhoto;
inputGeoPointEmpty#e4c123d6 = InputGeoPoint;
inputGeoPoint#48222faf flags:# lat:double long:double accuracy_radius:flags.0?int = InputGeoPoint;
inputPhotoEmpty#1cd7bf0d = InputPhoto;
inputPhoto#3bb3b94a id:long access_hash:long file_reference:bytes = InputPhoto;
inputFileLocation#dfdaabe1 volume_id:long local_id:int secret:long file_reference:bytes = InputFileLocation;
inputEncryptedFileLocation#f5235d55 id:long access_hash:long = InputFileLocation;
inputDocumentFileLocation#bad07584 id:long access_hash:long file_reference:bytes thumb_size:string = InputFileLocation;
inputSecureFileLocation#cbc7ee28 id:long access_hash:long = InputFileLocation;
inputTakeoutFileLocation#29be5899 = InputFileLocation;
inputPhotoFileLocation#40181ffe id:long access_hash:long file_reference:bytes thumb_size:string = InputFileLocation;
inputPhotoLegacyFileLocation#d83466f3 id:long access_hash:long file_reference:bytes volume_id:long local_id:int secret:long = InputFileLocation;
inputPeerPhotoFileLocation#37257e99 flags:# big:flags.0?true peer:InputPeer photo_id:long = InputFileLocation;
inputStickerSetThumb#9d84f3db stickerset:InputStickerSet thumb_version:int = InputFileLocation;
inputGroupCallStream#598a92a flags:# call:InputGroupCall time_ms:long scale:int video_channel:flags.0?int video_quality:flags.0?int = InputFileLocation;
peerUser#59511722 user_id:long = Peer;
peerChat#36c6019a chat_id:long = Peer;
peerChannel#a2a5371e channel_id:long = Peer;
storage.fileUnknown#aa963b05 = storage.FileType;
storage.filePartial#40bc6f52 = storage.FileType;
storage.fileJpeg#7efe0e = storage.FileType;
storage.fileGif#cae1aadf = storage.FileType;
storage.filePng#a4f63c0 = storage.FileType;
storage.filePdf#ae1e508d = storage.FileType;
storage.fileMp3#528a0677 = storage.FileType;
storage.fileMov#4b09ebbc = storage.FileType;
storage.fileMp4#b3cea0e4 = storage.FileType;
storage.fileWebp#1081464c = storage.FileType;
userEmpty#d3bc4b7a id:long = User;
user#215c4438 flags:# self:flags.10?true contact:flags.11?true mutual_contact:flags.12?true deleted:flags.13?true bot:flags.14?true bot_chat_history:flags.15?true bot_nochats:flags.16?true verified:flags.17?true restricted:flags.18?true min:flags.20?true bot_inline_geo:flags.21?true support:flags.23?true scam:flags.24?true apply_min_photo:flags.25?true fake:flags.26?true bot_attach_menu:flags.27?true premium:flags.28?true attach_menu_enabled:flags.29?true flags2:# bot_can_edit:flags2.1?true close_friend:flags2.2?true stories_hidden:flags2.3?true stories_unavailable:flags2.4?true contact_require_premium:flags2.10?true id:long access_hash:flags.0?long first_name:flags.1?string last_name:flags.2?string username:flags.3?string phone:flags.4?string photo:flags.5?UserProfilePhoto status:flags.6?UserStatus bot_info_version:flags.14?int restriction_reason:flags.18?Vector<RestrictionReason> bot_inline_placeholder:flags.19?string lang_code:flags.22?string emoji_status:flags.30?EmojiStatus usernames:flags2.0?Vector<Username> stories_max_id:flags2.5?int color:flags2.8?PeerColor profile_color:flags2.9?PeerColor = User;
userProfilePhotoEmpty#4f11bae1 = UserProfilePhoto;
userProfilePhoto#82d1f706 flags:# has_video:flags.0?true personal:flags.2?true photo_id:long stripped_thumb:flags.1?bytes dc_id:int = UserProfilePhoto;
userStatusEmpty#9d05049 = UserStatus;
userStatusOnline#edb93949 expires:int = UserStatus;
userStatusOffline#8c703f was_online:int = UserStatus;
userStatusRecently#7b197dc8 flags:# by_me:flags.0?true = UserStatus;
userStatusLastWeek#541a1d1a flags:# by_me:flags.0?true = UserStatus;
userStatusLastMonth#65899777 flags:# by_me:flags.0?true = UserStatus;
chatEmpty#29562865 id:long = Chat;
chat#41cbf256 flags:# creator:flags.0?true left:flags.2?true deactivated:flags.5?true call_active:flags.23?true call_not_empty:flags.24?true noforwards:flags.25?true id:long title:string photo:ChatPhoto participants_count:int date:int version:int migrated_to:flags.6?InputChannel admin_rights:flags.14?ChatAdminRights default_banned_rights:flags.18?ChatBannedRights = Chat;
chatForbidden#6592a1a7 id:long title:string = Chat;
channel#aadfc8f flags:# creator:flags.0?true left:flags.2?true broadcast:flags.5?true verified:flags.7?true megagroup:flags.8?true restricted:flags.9?true signatures:flags.11?true min:flags.12?true scam:flags.19?true has_link:flags.20?true has_geo:flags.21?true slowmode_enabled:flags.22?true call_active:flags.23?true call_not_empty:flags.24?true fake:flags.25?true gigagroup:flags.26?true noforwards:flags.27?true join_to_send:flags.28?true join_request:flags.29?true forum:flags.30?true flags2:# stories_hidden:flags2.1?true stories_hidden_min:flags2.2?true stories_unavailable:flags2.3?true id:long access_hash:flags.13?long title:string username:flags.6?string photo:ChatPhoto date:int restriction_reason:flags.9?Vector<RestrictionReason> admin_rights:flags.14?ChatAdminRights banned_rights:flags.15?ChatBannedRights default_banned_rights:flags.18?ChatBannedRights participants_count:flags.17?int usernames:flags2.0?Vector<Username> stories_max_id:flags2.4?int color:flags2.7?PeerColor profile_color:flags2.8?PeerColor emoji_status:flags2.9?EmojiStatus level:flags2.10?int = Chat;
channelForbidden#17d493d5 flags:# broadcast:flags.5?true megagroup:flags.8?true id:long access_hash:long title:string until_date:flags.16?int = Chat;
chatFull#c9d31138 flags:# can_set_username:flags.7?true has_scheduled:flags.8?true translations_disabled:flags.19?true id:long about:string participants:ChatParticipants chat_photo:flags.2?Photo notify_settings:PeerNotifySettings exported_invite:flags.13?ExportedChatInvite bot_info:flags.3?Vector<BotInfo> pinned_msg_id:flags.6?int folder_id:flags.11?int call:flags.12?InputGroupCall ttl_period:flags.14?int groupcall_default_join_as:flags.15?Peer theme_emoticon:flags.16?string requests_pending:flags.17?int recent_requesters:flags.17?Vector<long> available_reactions:flags.18?ChatReactions = ChatFull;
channelFull#44c054a7 flags:# can_view_participants:flags.3?true can_set_username:flags.6?true can_set_stickers:flags.7?true hidden_prehistory:flags.10?true can_set_location:flags.16?true has_scheduled:flags.19?true can_view_stats:flags.20?true blocked:flags.22?true flags2:# can_delete_channel:flags2.0?true antispam:flags2.1?true participants_hidden:flags2.2?true translations_disabled:flags2.3?true stories_pinned_available:flags2.5?true view_forum_as_messages:flags2.6?true id:long about:string participants_count:flags.0?int admins_count:flags.1?int kicked_count:flags.2?int banned_count:flags.2?int online_count:flags.13?int read_inbox_max_id:int read_outbox_max_id:int unread_count:int chat_photo:Photo notify_settings:PeerNotifySettings exported_invite:flags.23?ExportedChatInvite bot_info:Vector<BotInfo> migrated_from_chat_id:flags.4?long migrated_from_max_id:flags.4?int pinned_msg_id:flags.5?int stickerset:flags.8?StickerSet available_min_id:flags.9?int folder_id:flags.11?int linked_chat_id:flags.14?long location:flags.15?ChannelLocation slowmode_seconds:flags.17?int slowmode_next_send_date:flags.18?int stats_dc:flags.12?int pts:int call:flags.21?InputGroupCall ttl_period:flags.24?int pending_suggestions:flags.25?Vector<string> groupcall_default_join_as:flags.26?Peer theme_emoticon:flags.27?string requests_pending:flags.28?int recent_requesters:flags.28?Vector<long> default_send_as:flags.29?Peer available_reactions:flags.30?ChatReactions stories:flags2.4?PeerStories wallpaper:flags2.7?WallPaper boosts_applied:flags2.8?int boosts_unrestrict:flags2.9?int emojiset:flags2.10?StickerSet = ChatFull;
chatParticipant#c02d4007 user_id:long inviter_id:long date:int = ChatParticipant;
chatParticipantCreator#e46bcee4 user_id:long = ChatParticipant;
chatParticipantAdmin#a0933f5b user_id:long inviter_id:long date:int = ChatParticipant;
chatParticipantsForbidden#8763d3e1 flags:# chat_id:long self_participant:flags.0?ChatParticipant = ChatParticipants;
chatParticipants#3cbc93f8 chat_id:long participants:Vector<ChatParticipant> version:int = ChatParticipants;
chatPhotoEmpty#37c1011c = ChatPhoto;
chatPhoto#1c6e1c11 flags:# has_video:flags.0?true photo_id:long stripped_thumb:flags.1?bytes dc_id:int = ChatPhoto;
messageEmpty#90a6ca84 flags:# id:int peer_id:flags.0?Peer = Message;
message#1e4c8a69 flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true silent:flags.13?true post:flags.14?true from_scheduled:flags.18?true legacy:flags.19?true edit_hide:flags.21?true pinned:flags.24?true noforwards:flags.26?true invert_media:flags.27?true id:int from_id:flags.8?Peer from_boosts_applied:flags.29?int peer_id:Peer saved_peer_id:flags.28?Peer fwd_from:flags.2?MessageFwdHeader via_bot_id:flags.11?long reply_to:flags.3?MessageReplyHeader date:int message:string media:flags.9?MessageMedia reply_markup:flags.6?ReplyMarkup entities:flags.7?Vector<MessageEntity> views:flags.10?int forwards:flags.10?int replies:flags.23?MessageReplies edit_date:flags.15?int post_author:flags.16?string grouped_id:flags.17?long reactions:flags.20?MessageReactions restriction_reason:flags.22?Vector<RestrictionReason> ttl_period:flags.25?int = Message;
messageService#2b085862 flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true silent:flags.13?true post:flags.14?true legacy:flags.19?true id:int from_id:flags.8?Peer peer_id:Peer reply_to:flags.3?MessageReplyHeader date:int action:MessageAction ttl_period:flags.25?int = Message;
messageMediaEmpty#3ded6320 = MessageMedia;
messageMediaPhoto#695150d7 flags:# spoiler:flags.3?true photo:flags.0?Photo ttl_seconds:flags.2?int = MessageMedia;
messageMediaGeo#56e0d474 geo:GeoPoint = MessageMedia;
messageMediaContact#70322949 phone_number:string first_name:string last_name:string vcard:string user_id:long = MessageMedia;
messageMediaUnsupported#9f84f49e = MessageMedia;
messageMediaDocument#4cf4d72d flags:# nopremium:flags.3?true spoiler:flags.4?true video:flags.6?true round:flags.7?true voice:flags.8?true document:flags.0?Document alt_document:flags.5?Document ttl_seconds:flags.2?int = MessageMedia;
messageMediaWebPage#ddf10c3b flags:# force_large_media:flags.0?true force_small_media:flags.1?true manual:flags.3?true safe:flags.4?true webpage:WebPage = MessageMedia;
messageMediaVenue#2ec0533f geo:GeoPoint title:string address:string provider:string venue_id:string venue_type:string = MessageMedia;
messageMediaGame#fdb19008 game:Game = MessageMedia;
messageMediaInvoice#f6a548d3 flags:# shipping_address_requested:flags.1?true test:flags.3?true title:string description:string photo:flags.0?WebDocument receipt_msg_id:flags.2?int currency:string total_amount:long start_param:string extended_media:flags.4?MessageExtendedMedia = MessageMedia;
messageMediaGeoLive#b940c666 flags:# geo:GeoPoint heading:flags.0?int period:int proximity_notification_radius:flags.1?int = MessageMedia;
messageMediaPoll#4bd6e798 poll:Poll results:PollResults = MessageMedia;
messageMediaDice#3f7ee58b value:int emoticon:string = MessageMedia;
messageMediaStory#68cb6283 flags:# via_mention:flags.1?true peer:Peer id:int story:flags.0?StoryItem = MessageMedia;
messageMediaGiveaway#daad85b0 flags:# only_new_subscribers:flags.0?true winners_are_visible:flags.2?true channels:Vector<long> countries_iso2:flags.1?Vector<string> prize_description:flags.3?string quantity:int months:int until_date:int = MessageMedia;
messageMediaGiveawayResults#c6991068 flags:# only_new_subscribers:flags.0?true refunded:flags.2?true channel_id:long additional_peers_count:flags.3?int launch_msg_id:int winners_count:int unclaimed_count:int winners:Vector<long> months:int prize_description:flags.1?string until_date:int = MessageMedia;
messageActionEmpty#b6aef7b0 = MessageAction;
messageActionChatCreate#bd47cbad title:string users:Vector<long> = MessageAction;
messageActionChatEditTitle#b5a1ce5a title:string = MessageAction;
messageActionChatEditPhoto#7fcb13a8 photo:Photo = MessageAction;
messageActionChatDeletePhoto#95e3fbef = MessageAction;
messageActionChatAddUser#15cefd00 users:Vector<long> = MessageAction;
messageActionChatDeleteUser#a43f30cc user_id:long = MessageAction;
messageActionChatJoinedByLink#31224c3 inviter_id:long = MessageAction;
messageActionChannelCreate#95d2ac92 title:string = MessageAction;
messageActionChatMigrateTo#e1037f92 channel_id:long = MessageAction;
messageActionChannelMigrateFrom#ea3948e9 title:string chat_id:long = MessageAction;
messageActionPinMessage#94bd38ed = MessageAction;
messageActionHistoryClear#9fbab604 = MessageAction;
messageActionGameScore#92a72876 game_id:long score:int = MessageAction;
messageActionPaymentSentMe#8f31b327 flags:# recurring_init:flags.2?true recurring_used:flags.3?true currency:string total_amount:long payload:bytes info:flags.0?PaymentRequestedInfo shipping_option_id:flags.1?string charge:PaymentCharge = MessageAction;
messageActionPaymentSent#96163f56 flags:# recurring_init:flags.2?true recurring_used:flags.3?true currency:string total_amount:long invoice_slug:flags.0?string = MessageAction;
messageActionPhoneCall#80e11a7f flags:# video:flags.2?true call_id:long reason:flags.0?PhoneCallDiscardReason duration:flags.1?int = MessageAction;
messageActionScreenshotTaken#4792929b = MessageAction;
messageActionCustomAction#fae69f56 message:string = MessageAction;
messageActionBotAllowed#c516d679 flags:# attach_menu:flags.1?true from_request:flags.3?true domain:flags.0?string app:flags.2?BotApp = MessageAction;
messageActionSecureValuesSentMe#1b287353 values:Vector<SecureValue> credentials:SecureCredentialsEncrypted = MessageAction;
messageActionSecureValuesSent#d95c6154 types:Vector<SecureValueType> = MessageAction;
messageActionContactSignUp#f3f25f76 = MessageAction;
messageActionGeoProximityReached#98e0d697 from_id:Peer to_id:Peer distance:int = MessageAction;
messageActionGroupCall#7a0d7f42 flags:# call:InputGroupCall duration:flags.0?int = MessageAction;
messageActionInviteToGroupCall#502f92f7 call:InputGroupCall users:Vector<long> = MessageAction;
messageActionSetMessagesTTL#3c134d7b flags:# period:int auto_setting_from:flags.0?long = MessageAction;
messageActionGroupCallScheduled#b3a07661 call:InputGroupCall schedule_date:int = MessageAction;
messageActionSetChatTheme#aa786345 emoticon:string = MessageAction;
messageActionChatJoinedByRequest#ebbca3cb = MessageAction;
messageActionWebViewDataSentMe#47dd8079 text:string data:string = MessageAction;
messageActionWebViewDataSent#b4c38cb5 text:string = MessageAction;
messageActionGiftPremium#c83d6aec flags:# currency:string amount:long months:int crypto_currency:flags.0?string crypto_amount:flags.0?long = MessageAction;
messageActionTopicCreate#d999256 flags:# title:string icon_color:int icon_emoji_id:flags.0?long = MessageAction;
messageActionTopicEdit#c0944820 flags:# title:flags.0?string icon_emoji_id:flags.1?long closed:flags.2?Bool hidden:flags.3?Bool = MessageAction;
messageActionSuggestProfilePhoto#57de635e photo:Photo = MessageAction;
messageActionRequestedPeer#31518e9b button_id:int peers:Vector<Peer> = MessageAction;
messageActionSetChatWallPaper#5060a3f4 flags:# same:flags.0?true for_both:flags.1?true wallpaper:WallPaper = MessageAction;
messageActionGiftCode#678c2e09 flags:# via_giveaway:flags.0?true unclaimed:flags.2?true boost_peer:flags.1?Peer months:int slug:string currency:flags.2?string amount:flags.2?long crypto_currency:flags.3?string crypto_amount:flags.3?long = MessageAction;
messageActionGiveawayLaunch#332ba9ed = MessageAction;
messageActionGiveawayResults#2a9fadc5 winners_count:int unclaimed_count:int = MessageAction;
messageActionBoostApply#cc02aa6d boosts:int = MessageAction;
dialog#d58a08c6 flags:# pinned:flags.2?true unread_mark:flags.3?true view_forum_as_messages:flags.6?true peer:Peer top_message:int read_inbox_max_id:int read_outbox_max_id:int unread_count:int unread_mentions_count:int unread_reactions_count:int notify_settings:PeerNotifySettings pts:flags.0?int draft:flags.1?DraftMessage folder_id:flags.4?int ttl_period:flags.5?int = Dialog;
dialogFolder#71bd134c flags:# pinned:flags.2?true folder:Folder peer:Peer top_message:int unread_muted_peers_count:int unread_unmuted_peers_count:int unread_muted_messages_count:int unread_unmuted_messages_count:int = Dialog;
photoEmpty#2331b22d id:long = Photo;
photo#fb197a65 flags:# has_stickers:flags.0?true id:long access_hash:long file_reference:bytes date:int sizes:Vector<PhotoSize> video_sizes:flags.1?Vector<VideoSize> dc_id:int = Photo;
photoSizeEmpty#e17e23c type:string = PhotoSize;
photoSize#75c78e60 type:string w:int h:int size:int = PhotoSize;
photoCachedSize#21e1ad6 type:string w:int h:int bytes:bytes = PhotoSize;
photoStrippedSize#e0b0bc2e type:string bytes:bytes = PhotoSize;
photoSizeProgressive#fa3efb95 type:string w:int h:int sizes:Vector<int> = PhotoSize;
photoPathSize#d8214d41 type:string bytes:bytes = PhotoSize;
geoPointEmpty#1117dd5f = GeoPoint;
geoPoint#b2a2f663 flags:# long:double lat:double access_hash:long accuracy_radius:flags.0?int = GeoPoint;
auth.sentCode#5e002502 flags:# type:auth.SentCodeType phone_code_hash:string next_type:flags.1?auth.CodeType timeout:flags.2?int = auth.SentCode;
auth.sentCodeSuccess#2390fe44 authorization:auth.Authorization = auth.SentCode;
auth.authorization#2ea2c0d4 flags:# setup_password_required:flags.1?true otherwise_relogin_days:flags.1?int tmp_sessions:flags.0?int future_auth_token:flags.2?bytes user:User = auth.Authorization;
auth.authorizationSignUpRequired#44747e9a flags:# terms_of_service:flags.0?help.TermsOfService = auth.Authorization;
auth.exportedAuthorization#b434e2b8 id:long bytes:bytes = auth.ExportedAuthorization;
inputNotifyPeer#b8bc5b0c peer:InputPeer = InputNotifyPeer;
inputNotifyUsers#193b4417 = InputNotifyPeer;
inputNotifyChats#4a95e84e = InputNotifyPeer;
inputNotifyBroadcasts#b1db7c7e = InputNotifyPeer;
inputNotifyForumTopic#5c467992 peer:InputPeer top_msg_id:int = InputNotifyPeer;
inputPeerNotifySettings#cacb6ae2 flags:# show_previews:flags.0?Bool silent:flags.1?Bool mute_until:flags.2?int sound:flags.3?NotificationSound stories_muted:flags.6?Bool stories_hide_sender:flags.7?Bool stories_sound:flags.8?NotificationSound = InputPeerNotifySettings;
peerNotifySettings#99622c0c flags:# show_previews:flags.0?Bool silent:flags.1?Bool mute_until:flags.2?int ios_sound:flags.3?NotificationSound android_sound:flags.4?NotificationSound other_sound:flags.5?NotificationSound stories_muted:flags.6?Bool stories_hide_sender:flags.7?Bool stories_ios_sound:flags.8?NotificationSound stories_android_sound:flags.9?NotificationSound stories_other_sound:flags.10?NotificationSound = PeerNotifySettings;
peerSettings#a518110d flags:# report_spam:flags.0?true add_contact:flags.1?true block_contact:flags.2?true share_contact:flags.3?true need_contacts_exception:flags.4?true report_geo:flags.5?true autoarchived:flags.7?true invite_members:flags.8?true request_chat_broadcast:flags.10?true geo_distance:flags.6?int request_chat_title:flags.9?string request_chat_date:flags.9?int = PeerSettings;
wallPaper#a437c3ed id:long flags:# creator:flags.0?true default:flags.1?true pattern:flags.3?true dark:flags.4?true access_hash:long slug:string document:Document settings:flags.2?WallPaperSettings = WallPaper;
wallPaperNoFile#e0804116 id:long flags:# default:flags.1?true dark:flags.4?true settings:flags.2?WallPaperSettings = WallPaper;
inputReportReasonSpam#58dbcab8 = ReportReason;
inputReportReasonViolence#1e22c78d = ReportReason;
inputReportReasonPornography#2e59d922 = ReportReason;
inputReportReasonChildAbuse#adf44ee3 = ReportReason;
inputReportReasonOther#c1e4a2b1 = ReportReason;
inputReportReasonCopyright#9b89f93a = ReportReason;
inputReportReasonGeoIrrelevant#dbd4feed = ReportReason;
inputReportReasonFake#f5ddd6e7 = ReportReason;
inputReportReasonIllegalDrugs#a8eb2be = ReportReason;
inputReportReasonPersonalDetails#9ec7863d = ReportReason;
userFull#b9b12c6c flags:# blocked:flags.0?true phone_calls_available:flags.4?true phone_calls_private:flags.5?true can_pin_message:flags.7?true has_scheduled:flags.12?true video_calls_available:flags.13?true voice_messages_forbidden:flags.20?true translations_disabled:flags.23?true stories_pinned_available:flags.26?true blocked_my_stories_from:flags.27?true wallpaper_overridden:flags.28?true contact_require_premium:flags.29?true read_dates_private:flags.30?true id:long about:flags.1?string settings:PeerSettings personal_photo:flags.21?Photo profile_photo:flags.2?Photo fallback_photo:flags.22?Photo notify_settings:PeerNotifySettings bot_info:flags.3?BotInfo pinned_msg_id:flags.6?int common_chats_count:int folder_id:flags.11?int ttl_period:flags.14?int theme_emoticon:flags.15?string private_forward_name:flags.16?string bot_group_admin_rights:flags.17?ChatAdminRights bot_broadcast_admin_rights:flags.18?ChatAdminRights premium_gifts:flags.19?Vector<PremiumGiftOption> wallpaper:flags.24?WallPaper stories:flags.25?PeerStories = UserFull;
contact#145ade0b user_id:long mutual:Bool = Contact;
importedContact#c13e3c50 user_id:long client_id:long = ImportedContact;
contactStatus#16d9703b user_id:long status:UserStatus = ContactStatus;
contacts.contactsNotModified#b74ba9d2 = contacts.Contacts;
contacts.contacts#eae87e42 contacts:Vector<Contact> saved_count:int users:Vector<User> = contacts.Contacts;
contacts.importedContacts#77d01c3b imported:Vector<ImportedContact> popular_invites:Vector<PopularContact> retry_contacts:Vector<long> users:Vector<User> = contacts.ImportedContacts;
contacts.blocked#ade1591 blocked:Vector<PeerBlocked> chats:Vector<Chat> users:Vector<User> = contacts.Blocked;
contacts.blockedSlice#e1664194 count:int blocked:Vector<PeerBlocked> chats:Vector<Chat> users:Vector<User> = contacts.Blocked;
messages.dialogs#15ba6c40 dialogs:Vector<Dialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.Dialogs;
messages.dialogsSlice#71e094f3 count:int dialogs:Vector<Dialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.Dialogs;
messages.dialogsNotModified#f0e3e596 count:int = messages.Dialogs;
messages.messages#8c718e87 messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.Messages;
messages.messagesSlice#3a54685e flags:# inexact:flags.1?true count:int next_rate:flags.0?int offset_id_offset:flags.2?int messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.Messages;
messages.channelMessages#c776ba4e flags:# inexact:flags.1?true pts:int count:int offset_id_offset:flags.2?int messages:Vector<Message> topics:Vector<ForumTopic> chats:Vector<Chat> users:Vector<User> = messages.Messages;
messages.messagesNotModified#74535f21 count:int = messages.Messages;
messages.chats#64ff9fd5 chats:Vector<Chat> = messages.Chats;
messages.chatsSlice#9cd81144 count:int chats:Vector<Chat> = messages.Chats;
messages.chatFull#e5d7d19c full_chat:ChatFull chats:Vector<Chat> users:Vector<User> = messages.ChatFull;
messages.affectedHistory#b45c69d1 pts:int pts_count:int offset:int = messages.AffectedHistory;
inputMessagesFilterEmpty#57e2f66c = MessagesFilter;
inputMessagesFilterPhotos#9609a51c = MessagesFilter;
inputMessagesFilterVideo#9fc00e65 = MessagesFilter;
inputMessagesFilterPhotoVideo#56e9f0e4 = MessagesFilter;
inputMessagesFilterDocument#9eddf188 = MessagesFilter;
inputMessagesFilterUrl#7ef0dd87 = MessagesFilter;
inputMessagesFilterGif#ffc86587 = MessagesFilter;
inputMessagesFilterVoice#50f5c392 = MessagesFilter;
inputMessagesFilterMusic#3751b49e = MessagesFilter;
inputMessagesFilterChatPhotos#3a20ecb8 = MessagesFilter;
inputMessagesFilterPhoneCalls#80c99768 flags:# missed:flags.0?true = MessagesFilter;
inputMessagesFilterRoundVoice#7a7c17a4 = MessagesFilter;
inputMessagesFilterRoundVideo#b549da53 = MessagesFilter;
inputMessagesFilterMyMentions#c1f8e69a = MessagesFilter;
inputMessagesFilterGeo#e7026d0d = MessagesFilter;
inputMessagesFilterContacts#e062db83 = MessagesFilter;
inputMessagesFilterPinned#1bb00451 = MessagesFilter;
updateNewMessage#1f2b0afd message:Message pts:int pts_count:int = Update;
updateMessageID#4e90bfd6 id:int random_id:long = Update;
updateDeleteMessages#a20db0e5 messages:Vector<int> pts:int pts_count:int = Update;
updateUserTyping#c01e857f user_id:long action:SendMessageAction = Update;
updateChatUserTyping#83487af0 chat_id:long from_id:Peer action:SendMessageAction = Update;
updateChatParticipants#7761198 participants:ChatParticipants = Update;
updateUserStatus#e5bdf8de user_id:long status:UserStatus = Update;
updateUserName#a7848924 user_id:long first_name:string last_name:string usernames:Vector<Username> = Update;
updateNewAuthorization#8951abef flags:# unconfirmed:flags.0?true hash:long date:flags.0?int device:flags.0?string location:flags.0?string = Update;
updateNewEncryptedMessage#12bcbd9a message:EncryptedMessage qts:int = Update;
updateEncryptedChatTyping#1710f156 chat_id:int = Update;
updateEncryption#b4a2e88d chat:EncryptedChat date:int = Update;
updateEncryptedMessagesRead#38fe25b7 chat_id:int max_date:int date:int = Update;
updateChatParticipantAdd#3dda5451 chat_id:long user_id:long inviter_id:long date:int version:int = Update;
updateChatParticipantDelete#e32f3d77 chat_id:long user_id:long version:int = Update;
updateDcOptions#8e5e9873 dc_options:Vector<DcOption> = Update;
updateNotifySettings#bec268ef peer:NotifyPeer notify_settings:PeerNotifySettings = Update;
updateServiceNotification#ebe46819 flags:# popup:flags.0?true invert_media:flags.2?true inbox_date:flags.1?int type:string message:string media:MessageMedia entities:Vector<MessageEntity> = Update;
updatePrivacy#ee3b272a key:PrivacyKey rules:Vector<PrivacyRule> = Update;
updateUserPhone#5492a13 user_id:long phone:string = Update;
updateReadHistoryInbox#9c974fdf flags:# folder_id:flags.0?int peer:Peer max_id:int still_unread_count:int pts:int pts_count:int = Update;
updateReadHistoryOutbox#2f2f21bf peer:Peer max_id:int pts:int pts_count:int = Update;
updateWebPage#7f891213 webpage:WebPage pts:int pts_count:int = Update;
updateReadMessagesContents#f8227181 flags:# messages:Vector<int> pts:int pts_count:int date:flags.0?int = Update;
updateChannelTooLong#108d941f flags:# channel_id:long pts:flags.0?int = Update;
updateChannel#635b4c09 channel_id:long = Update;
updateNewChannelMessage#62ba04d9 message:Message pts:int pts_count:int = Update;
updateReadChannelInbox#922e6e10 flags:# folder_id:flags.0?int channel_id:long max_id:int still_unread_count:int pts:int = Update;
updateDeleteChannelMessages#c32d5b12 channel_id:long messages:Vector<int> pts:int pts_count:int = Update;
updateChannelMessageViews#f226ac08 channel_id:long id:int views:int = Update;
updateChatParticipantAdmin#d7ca61a2 chat_id:long user_id:long is_admin:Bool version:int = Update;
updateNewStickerSet#688a30aa stickerset:messages.StickerSet = Update;
updateStickerSetsOrder#bb2d201 flags:# masks:flags.0?true emojis:flags.1?true order:Vector<long> = Update;
updateStickerSets#31c24808 flags:# masks:flags.0?true emojis:flags.1?true = Update;
updateSavedGifs#9375341e = Update;
updateBotInlineQuery#496f379c flags:# query_id:long user_id:long query:string geo:flags.0?GeoPoint peer_type:flags.1?InlineQueryPeerType offset:string = Update;
updateBotInlineSend#12f12a07 flags:# user_id:long query:string geo:flags.0?GeoPoint id:string msg_id:flags.1?InputBotInlineMessageID = Update;
updateEditChannelMessage#1b3f4df7 message:Message pts:int pts_count:int = Update;
updateBotCallbackQuery#b9cfc48d flags:# query_id:long user_id:long peer:Peer msg_id:int chat_instance:long data:flags.0?bytes game_short_name:flags.1?string = Update;
updateEditMessage#e40370a3 message:Message pts:int pts_count:int = Update;
updateInlineBotCallbackQuery#691e9052 flags:# query_id:long user_id:long msg_id:InputBotInlineMessageID chat_instance:long data:flags.0?bytes game_short_name:flags.1?string = Update;
updateReadChannelOutbox#b75f99a9 channel_id:long max_id:int = Update;
updateDraftMessage#1b49ec6d flags:# peer:Peer top_msg_id:flags.0?int draft:DraftMessage = Update;
updateReadFeaturedStickers#571d2742 = Update;
updateRecentStickers#9a422c20 = Update;
updateConfig#a229dd06 = Update;
updatePtsChanged#3354678f = Update;
updateChannelWebPage#2f2ba99f channel_id:long webpage:WebPage pts:int pts_count:int = Update;
updateDialogPinned#6e6fe51c flags:# pinned:flags.0?true folder_id:flags.1?int peer:DialogPeer = Update;
updatePinnedDialogs#fa0f3ca2 flags:# folder_id:flags.1?int order:flags.0?Vector<DialogPeer> = Update;
updateBotWebhookJSON#8317c0c3 data:DataJSON = Update;
updateBotWebhookJSONQuery#9b9240a6 query_id:long data:DataJSON timeout:int = Update;
updateBotShippingQuery#b5aefd7d query_id:long user_id:long payload:bytes shipping_address:PostAddress = Update;
updateBotPrecheckoutQuery#8caa9a96 flags:# query_id:long user_id:long payload:bytes info:flags.0?PaymentRequestedInfo shipping_option_id:flags.1?string currency:string total_amount:long = Update;
updatePhoneCall#ab0f6b1e phone_call:PhoneCall = Update;
updateLangPackTooLong#46560264 lang_code:string = Update;
updateLangPack#56022f4d difference:LangPackDifference = Update;
updateFavedStickers#e511996d = Update;
updateChannelReadMessagesContents#ea29055d flags:# channel_id:long top_msg_id:flags.0?int messages:Vector<int> = Update;
updateContactsReset#7084a7be = Update;
updateChannelAvailableMessages#b23fc698 channel_id:long available_min_id:int = Update;
updateDialogUnreadMark#e16459c3 flags:# unread:flags.0?true peer:DialogPeer = Update;
updateMessagePoll#aca1657b flags:# poll_id:long poll:flags.0?Poll results:PollResults = Update;
updateChatDefaultBannedRights#54c01850 peer:Peer default_banned_rights:ChatBannedRights version:int = Update;
updateFolderPeers#19360dc0 folder_peers:Vector<FolderPeer> pts:int pts_count:int = Update;
updatePeerSettings#6a7e7366 peer:Peer settings:PeerSettings = Update;
updatePeerLocated#b4afcfb0 peers:Vector<PeerLocated> = Update;
updateNewScheduledMessage#39a51dfb message:Message = Update;
updateDeleteScheduledMessages#90866cee peer:Peer messages:Vector<int> = Update;
updateTheme#8216fba3 theme:Theme = Update;
updateGeoLiveViewed#871fb939 peer:Peer msg_id:int = Update;
updateLoginToken#564fe691 = Update;
updateMessagePollVote#24f40e77 poll_id:long peer:Peer options:Vector<bytes> qts:int = Update;
updateDialogFilter#26ffde7d flags:# id:int filter:flags.0?DialogFilter = Update;
updateDialogFilterOrder#a5d72105 order:Vector<int> = Update;
updateDialogFilters#3504914f = Update;
updatePhoneCallSignalingData#2661bf09 phone_call_id:long data:bytes = Update;
updateChannelMessageForwards#d29a27f4 channel_id:long id:int forwards:int = Update;
updateReadChannelDiscussionInbox#d6b19546 flags:# channel_id:long top_msg_id:int read_max_id:int broadcast_id:flags.0?long broadcast_post:flags.0?int = Update;
updateReadChannelDiscussionOutbox#695c9e7c channel_id:long top_msg_id:int read_max_id:int = Update;
updatePeerBlocked#ebe07752 flags:# blocked:flags.0?true blocked_my_stories_from:flags.1?true peer_id:Peer = Update;
updateChannelUserTyping#8c88c923 flags:# channel_id:long top_msg_id:flags.0?int from_id:Peer action:SendMessageAction = Update;
updatePinnedMessages#ed85eab5 flags:# pinned:flags.0?true peer:Peer messages:Vector<int> pts:int pts_count:int = Update;
updatePinnedChannelMessages#5bb98608 flags:# pinned:flags.0?true channel_id:long messages:Vector<int> pts:int pts_count:int = Update;
updateChat#f89a6a4e chat_id:long = Update;
updateGroupCallParticipants#f2ebdb4e call:InputGroupCall participants:Vector<GroupCallParticipant> version:int = Update;
updateGroupCall#14b24500 chat_id:long call:GroupCall = Update;
updatePeerHistoryTTL#bb9bb9a5 flags:# peer:Peer ttl_period:flags.0?int = Update;
updateChatParticipant#d087663a flags:# chat_id:long date:int actor_id:long user_id:long prev_participant:flags.0?ChatParticipant new_participant:flags.1?ChatParticipant invite:flags.2?ExportedChatInvite qts:int = Update;
updateChannelParticipant#985d3abb flags:# via_chatlist:flags.3?true channel_id:long date:int actor_id:long user_id:long prev_participant:flags.0?ChannelParticipant new_participant:flags.1?ChannelParticipant invite:flags.2?ExportedChatInvite qts:int = Update;
updateBotStopped#c4870a49 user_id:long date:int stopped:Bool qts:int = Update;
updateGroupCallConnection#b783982 flags:# presentation:flags.0?true params:DataJSON = Update;
updateBotCommands#4d712f2e peer:Peer bot_id:long commands:Vector<BotCommand> = Update;
updatePendingJoinRequests#7063c3db peer:Peer requests_pending:int recent_requesters:Vector<long> = Update;
updateBotChatInviteRequester#11dfa986 peer:Peer date:int user_id:long about:string invite:ExportedChatInvite qts:int = Update;
updateMessageReactions#5e1b3cb8 flags:# peer:Peer msg_id:int top_msg_id:flags.0?int reactions:MessageReactions = Update;
updateAttachMenuBots#17b7a20b = Update;
updateWebViewResultSent#1592b79d query_id:long = Update;
updateBotMenuButton#14b85813 bot_id:long button:BotMenuButton = Update;
updateSavedRingtones#74d8be99 = Update;
updateTranscribedAudio#84cd5a flags:# pending:flags.0?true peer:Peer msg_id:int transcription_id:long text:string = Update;
updateReadFeaturedEmojiStickers#fb4c496c = Update;
updateUserEmojiStatus#28373599 user_id:long emoji_status:EmojiStatus = Update;
updateRecentEmojiStatuses#30f443db = Update;
updateRecentReactions#6f7863f4 = Update;
updateMoveStickerSetToTop#86fccf85 flags:# masks:flags.0?true emojis:flags.1?true stickerset:long = Update;
updateMessageExtendedMedia#5a73a98c peer:Peer msg_id:int extended_media:MessageExtendedMedia = Update;
updateChannelPinnedTopic#192efbe3 flags:# pinned:flags.0?true channel_id:long topic_id:int = Update;
updateChannelPinnedTopics#fe198602 flags:# channel_id:long order:flags.0?Vector<int> = Update;
updateUser#20529438 user_id:long = Update;
updateAutoSaveSettings#ec05b097 = Update;
updateGroupInvitePrivacyForbidden#ccf08ad6 user_id:long = Update;
updateStory#75b3b798 peer:Peer story:StoryItem = Update;
updateReadStories#f74e932b peer:Peer max_id:int = Update;
updateStoryID#1bf335b9 id:int random_id:long = Update;
updateStoriesStealthMode#2c084dc1 stealth_mode:StoriesStealthMode = Update;
updateSentStoryReaction#7d627683 peer:Peer story_id:int reaction:Reaction = Update;
updateBotChatBoost#904dd49c peer:Peer boost:Boost qts:int = Update;
updateChannelViewForumAsMessages#7b68920 channel_id:long enabled:Bool = Update;
updatePeerWallpaper#ae3f101d flags:# wallpaper_overridden:flags.1?true peer:Peer wallpaper:flags.0?WallPaper = Update;
updateBotMessageReaction#ac21d3ce peer:Peer msg_id:int date:int actor:Peer old_reactions:Vector<Reaction> new_reactions:Vector<Reaction> qts:int = Update;
updateBotMessageReactions#9cb7759 peer:Peer msg_id:int date:int reactions:Vector<ReactionCount> qts:int = Update;
updateSavedDialogPinned#aeaf9e74 flags:# pinned:flags.0?true peer:DialogPeer = Update;
updatePinnedSavedDialogs#686c85a6 flags:# order:flags.0?Vector<DialogPeer> = Update;
updateSavedReactionTags#39c67432 = Update;
updates.state#a56c2a3e pts:int qts:int date:int seq:int unread_count:int = updates.State;
updates.differenceEmpty#5d75a138 date:int seq:int = updates.Difference;
updates.difference#f49ca0 new_messages:Vector<Message> new_encrypted_messages:Vector<EncryptedMessage> other_updates:Vector<Update> chats:Vector<Chat> users:Vector<User> state:updates.State = updates.Difference;
updates.differenceSlice#a8fb1981 new_messages:Vector<Message> new_encrypted_messages:Vector<EncryptedMessage> other_updates:Vector<Update> chats:Vector<Chat> users:Vector<User> intermediate_state:updates.State = updates.Difference;
updates.differenceTooLong#4afe8f6d pts:int = updates.Difference;
updatesTooLong#e317af7e = Updates;
updateShortMessage#313bc7f8 flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true silent:flags.13?true id:int user_id:long message:string pts:int pts_count:int date:int fwd_from:flags.2?MessageFwdHeader via_bot_id:flags.11?long reply_to:flags.3?MessageReplyHeader entities:flags.7?Vector<MessageEntity> ttl_period:flags.25?int = Updates;
updateShortChatMessage#4d6deea5 flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true silent:flags.13?true id:int from_id:long chat_id:long message:string pts:int pts_count:int date:int fwd_from:flags.2?MessageFwdHeader via_bot_id:flags.11?long reply_to:flags.3?MessageReplyHeader entities:flags.7?Vector<MessageEntity> ttl_period:flags.25?int = Updates;
updateShort#78d4dec1 update:Update date:int = Updates;
updatesCombined#725b04c3 updates:Vector<Update> users:Vector<User> chats:Vector<Chat> date:int seq_start:int seq:int = Updates;
updates#74ae4240 updates:Vector<Update> users:Vector<User> chats:Vector<Chat> date:int seq:int = Updates;
updateShortSentMessage#9015e101 flags:# out:flags.1?true id:int pts:int pts_count:int date:int media:flags.9?MessageMedia entities:flags.7?Vector<MessageEntity> ttl_period:flags.25?int = Updates;
photos.photos#8dca6aa5 photos:Vector<Photo> users:Vector<User> = photos.Photos;
photos.photosSlice#15051f54 count:int photos:Vector<Photo> users:Vector<User> = photos.Photos;
photos.photo#20212ca8 photo:Photo users:Vector<User> = photos.Photo;
upload.file#96a18d5 type:storage.FileType mtime:int bytes:bytes = upload.File;
upload.fileCdnRedirect#f18cda44 dc_id:int file_token:bytes encryption_key:bytes encryption_iv:bytes file_hashes:Vector<FileHash> = upload.File;
dcOption#18b7a10d flags:# ipv6:flags.0?true media_only:flags.1?true tcpo_only:flags.2?true cdn:flags.3?true static:flags.4?true this_port_only:flags.5?true id:int ip_address:string port:int secret:flags.10?bytes = DcOption;
config#cc1a241e flags:# default_p2p_contacts:flags.3?true preload_featured_stickers:flags.4?true revoke_pm_inbox:flags.6?true blocked_mode:flags.8?true force_try_ipv6:flags.14?true date:int expires:int test_mode:Bool this_dc:int dc_options:Vector<DcOption> dc_txt_domain_name:string chat_size_max:int megagroup_size_max:int forwarded_count_max:int online_update_period_ms:int offline_blur_timeout_ms:int offline_idle_timeout_ms:int online_cloud_timeout_ms:int notify_cloud_delay_ms:int notify_default_delay_ms:int push_chat_period_ms:int push_chat_limit:int edit_time_limit:int revoke_time_limit:int revoke_pm_time_limit:int rating_e_decay:int stickers_recent_limit:int channels_read_media_period:int tmp_sessions:flags.0?int call_receive_timeout_ms:int call_ring_timeout_ms:int call_connect_timeout_ms:int call_packet_timeout_ms:int me_url_prefix:string autoupdate_url_prefix:flags.7?string gif_search_username:flags.9?string venue_search_username:flags.10?string img_search_username:flags.11?string static_maps_provider:flags.12?string caption_length_max:int message_length_max:int webfile_dc_id:int suggested_lang_code:flags.2?string lang_pack_version:flags.2?int base_lang_pack_version:flags.2?int reactions_default:flags.15?Reaction autologin_token:flags.16?string = Config;
nearestDc#8e1a1775 country:string this_dc:int nearest_dc:int = NearestDc;
help.appUpdate#ccbbce30 flags:# can_not_skip:flags.0?true id:int version:string text:string entities:Vector<MessageEntity> document:flags.1?Document url:flags.2?string sticker:flags.3?Document = help.AppUpdate;
help.noAppUpdate#c45a6536 = help.AppUpdate;
help.inviteText#18cb9f78 message:string = help.InviteText;
encryptedChatEmpty#ab7ec0a0 id:int = EncryptedChat;
encryptedChatWaiting#66b25953 id:int access_hash:long date:int admin_id:long participant_id:long = EncryptedChat;
encryptedChatRequested#48f1d94c flags:# folder_id:flags.0?int id:int access_hash:long date:int admin_id:long participant_id:long g_a:bytes = EncryptedChat;
encryptedChat#61f0d4c7 id:int access_hash:long date:int admin_id:long participant_id:long g_a_or_b:bytes key_fingerprint:long = EncryptedChat;
encryptedChatDiscarded#1e1c7c45 flags:# history_deleted:flags.0?true id:int = EncryptedChat;
inputEncryptedChat#f141b5e1 chat_id:int access_hash:long = InputEncryptedChat;
encryptedFileEmpty#c21f497e = EncryptedFile;
encryptedFile#a8008cd8 id:long access_hash:long size:long dc_id:int key_fingerprint:int = EncryptedFile;
inputEncryptedFileEmpty#1837c364 = InputEncryptedFile;
inputEncryptedFileUploaded#64bd0306 id:long parts:int md5_checksum:string key_fingerprint:int = InputEncryptedFile;
inputEncryptedFile#5a17b5e5 id:long access_hash:long = InputEncryptedFile;
inputEncryptedFileBigUploaded#2dc173c8 id:long parts:int key_fingerprint:int = InputEncryptedFile;
encryptedMessage#ed18c118 random_id:long chat_id:int date:int bytes:bytes file:EncryptedFile = EncryptedMessage;
encryptedMessageService#23734b06 random_id:long chat_id:int date:int bytes:bytes = EncryptedMessage;
messages.dhConfigNotModified#c0e24635 random:bytes = messages.DhConfig;
messages.dhConfig#2c221edd g:int p:bytes version:int random:bytes = messages.DhConfig;
messages.sentEncryptedMessage#560f8935 date:int = messages.SentEncryptedMessage;
messages.sentEncryptedFile#9493ff32 date:int file:EncryptedFile = messages.SentEncryptedMessage;
inputDocumentEmpty#72f0eaae = InputDocument;
inputDocument#1abfb575 id:long access_hash:long file_reference:bytes = InputDocument;
documentEmpty#36f8c871 id:long = Document;
document#8fd4c4d8 flags:# id:long access_hash:long file_reference:bytes date:int mime_type:string size:long thumbs:flags.0?Vector<PhotoSize> video_thumbs:flags.1?Vector<VideoSize> dc_id:int attributes:Vector<DocumentAttribute> = Document;
help.support#17c6b5f6 phone_number:string user:User = help.Support;
notifyPeer#9fd40bd8 peer:Peer = NotifyPeer;
notifyUsers#b4c83b4c = NotifyPeer;
notifyChats#c007cec3 = NotifyPeer;
notifyBroadcasts#d612e8ef = NotifyPeer;
notifyForumTopic#226e6308 peer:Peer top_msg_id:int = NotifyPeer;
sendMessageTypingAction#16bf744e = SendMessageAction;
sendMessageCancelAction#fd5ec8f5 = SendMessageAction;
sendMessageRecordVideoAction#a187d66f = SendMessageAction;
sendMessageUploadVideoAction#e9763aec progress:int = SendMessageAction;
sendMessageRecordAudioAction#d52f73f7 = SendMessageAction;
sendMessageUploadAudioAction#f351d7ab progress:int = SendMessageAction;
sendMessageUploadPhotoAction#d1d34a26 progress:int = SendMessageAction;
sendMessageUploadDocumentAction#aa0cd9e4 progress:int = SendMessageAction;
sendMessageGeoLocationAction#176f8ba1 = SendMessageAction;
sendMessageChooseContactAction#628cbc6f = SendMessageAction;
sendMessageGamePlayAction#dd6a8f48 = SendMessageAction;
sendMessageRecordRoundAction#88f27fbc = SendMessageAction;
sendMessageUploadRoundAction#243e1c66 progress:int = SendMessageAction;
speakingInGroupCallAction#d92c2285 = SendMessageAction;
sendMessageHistoryImportAction#dbda9246 progress:int = SendMessageAction;
sendMessageChooseStickerAction#b05ac6b1 = SendMessageAction;
sendMessageEmojiInteraction#25972bcb emoticon:string msg_id:int interaction:DataJSON = SendMessageAction;
sendMessageEmojiInteractionSeen#b665902e emoticon:string = SendMessageAction;
contacts.found#b3134d9d my_results:Vector<Peer> results:Vector<Peer> chats:Vector<Chat> users:Vector<User> = contacts.Found;
inputPrivacyKeyStatusTimestamp#4f96cb18 = InputPrivacyKey;
inputPrivacyKeyChatInvite#bdfb0426 = InputPrivacyKey;
inputPrivacyKeyPhoneCall#fabadc5f = InputPrivacyKey;
inputPrivacyKeyPhoneP2P#db9e70d2 = InputPrivacyKey;
inputPrivacyKeyForwards#a4dd4c08 = InputPrivacyKey;
inputPrivacyKeyProfilePhoto#5719bacc = InputPrivacyKey;
inputPrivacyKeyPhoneNumber#352dafa = InputPrivacyKey;
inputPrivacyKeyAddedByPhone#d1219bdd = InputPrivacyKey;
inputPrivacyKeyVoiceMessages#aee69d68 = InputPrivacyKey;
inputPrivacyKeyAbout#3823cc40 = InputPrivacyKey;
privacyKeyStatusTimestamp#bc2eab30 = PrivacyKey;
privacyKeyChatInvite#500e6dfa = PrivacyKey;
privacyKeyPhoneCall#3d662b7b = PrivacyKey;
privacyKeyPhoneP2P#39491cc8 = PrivacyKey;
privacyKeyForwards#69ec56a3 = PrivacyKey;
privacyKeyProfilePhoto#96151fed = PrivacyKey;
privacyKeyPhoneNumber#d19ae46d = PrivacyKey;
privacyKeyAddedByPhone#42ffd42b = PrivacyKey;
privacyKeyVoiceMessages#697f414 = PrivacyKey;
privacyKeyAbout#a486b761 = PrivacyKey;
inputPrivacyValueAllowContacts#d09e07b = InputPrivacyRule;
inputPrivacyValueAllowAll#184b35ce = InputPrivacyRule;
inputPrivacyValueAllowUsers#131cc67f users:Vector<InputUser> = InputPrivacyRule;
inputPrivacyValueDisallowContacts#ba52007 = InputPrivacyRule;
inputPrivacyValueDisallowAll#d66b66c9 = InputPrivacyRule;
inputPrivacyValueDisallowUsers#90110467 users:Vector<InputUser> = InputPrivacyRule;
inputPrivacyValueAllowChatParticipants#840649cf chats:Vector<long> = InputPrivacyRule;
inputPrivacyValueDisallowChatParticipants#e94f0f86 chats:Vector<long> = InputPrivacyRule;
inputPrivacyValueAllowCloseFriends#2f453e49 = InputPrivacyRule;
privacyValueAllowContacts#fffe1bac = PrivacyRule;
privacyValueAllowAll#65427b82 = PrivacyRule;
privacyValueAllowUsers#b8905fb2 users:Vector<long> = PrivacyRule;
privacyValueDisallowContacts#f888fa1a = PrivacyRule;
privacyValueDisallowAll#8b73e763 = PrivacyRule;
privacyValueDisallowUsers#e4621141 users:Vector<long> = PrivacyRule;
privacyValueAllowChatParticipants#6b134e8e chats:Vector<long> = PrivacyRule;
privacyValueDisallowChatParticipants#41c87565 chats:Vector<long> = PrivacyRule;
privacyValueAllowCloseFriends#f7e8d89b = PrivacyRule;
account.privacyRules#50a04e45 rules:Vector<PrivacyRule> chats:Vector<Chat> users:Vector<User> = account.PrivacyRules;
accountDaysTTL#b8d0afdf days:int = AccountDaysTTL;
documentAttributeImageSize#6c37c15c w:int h:int = DocumentAttribute;
documentAttributeAnimated#11b58939 = DocumentAttribute;
documentAttributeSticker#6319d612 flags:# mask:flags.1?true alt:string stickerset:InputStickerSet mask_coords:flags.0?MaskCoords = DocumentAttribute;
documentAttributeVideo#d38ff1c2 flags:# round_message:flags.0?true supports_streaming:flags.1?true nosound:flags.3?true duration:double w:int h:int preload_prefix_size:flags.2?int = DocumentAttribute;
documentAttributeAudio#9852f9c6 flags:# voice:flags.10?true duration:int title:flags.0?string performer:flags.1?string waveform:flags.2?bytes = DocumentAttribute;
documentAttributeFilename#15590068 file_name:string = DocumentAttribute;
documentAttributeHasStickers#9801d2f7 = DocumentAttribute;
documentAttributeCustomEmoji#fd149899 flags:# free:flags.0?true text_color:flags.1?true alt:string stickerset:InputStickerSet = DocumentAttribute;
messages.stickersNotModified#f1749a22 = messages.Stickers;
messages.stickers#30a6ec7e hash:long stickers:Vector<Document> = messages.Stickers;
stickerPack#12b299d4 emoticon:string documents:Vector<long> = StickerPack;
messages.allStickersNotModified#e86602c3 = messages.AllStickers;
messages.allStickers#cdbbcebb hash:long sets:Vector<StickerSet> = messages.AllStickers;
messages.affectedMessages#84d19185 pts:int pts_count:int = messages.AffectedMessages;
webPageEmpty#211a1788 flags:# id:long url:flags.0?string = WebPage;
webPagePending#b0d13e47 flags:# id:long url:flags.0?string date:int = WebPage;
webPage#e89c45b2 flags:# has_large_media:flags.13?true id:long url:string display_url:string hash:int type:flags.0?string site_name:flags.1?string title:flags.2?string description:flags.3?string photo:flags.4?Photo embed_url:flags.5?string embed_type:flags.5?string embed_width:flags.6?int embed_height:flags.6?int duration:flags.7?int author:flags.8?string document:flags.9?Document cached_page:flags.10?Page attributes:flags.12?Vector<WebPageAttribute> = WebPage;
webPageNotModified#7311ca11 flags:# cached_page_views:flags.0?int = WebPage;
authorization#ad01d61d flags:# current:flags.0?true official_app:flags.1?true password_pending:flags.2?true encrypted_requests_disabled:flags.3?true call_requests_disabled:flags.4?true unconfirmed:flags.5?true hash:long device_model:string platform:string system_version:string api_id:int app_name:string app_version:string date_created:int date_active:int ip:string country:string region:string = Authorization;
account.authorizations#4bff8ea0 authorization_ttl_days:int authorizations:Vector<Authorization> = account.Authorizations;
account.password#957b50fb flags:# has_recovery:flags.0?true has_secure_values:flags.1?true has_password:flags.2?true current_algo:flags.2?PasswordKdfAlgo srp_B:flags.2?bytes srp_id:flags.2?long hint:flags.3?string email_unconfirmed_pattern:flags.4?string new_algo:PasswordKdfAlgo new_secure_algo:SecurePasswordKdfAlgo secure_random:bytes pending_reset_date:flags.5?int login_email_pattern:flags.6?string = account.Password;
account.passwordSettings#9a5c33e5 flags:# email:flags.0?string secure_settings:flags.1?SecureSecretSettings = account.PasswordSettings;
account.passwordInputSettings#c23727c9 flags:# new_algo:flags.0?PasswordKdfAlgo new_password_hash:flags.0?bytes hint:flags.0?string email:flags.1?string new_secure_settings:flags.2?SecureSecretSettings = account.PasswordInputSettings;
auth.passwordRecovery#137948a5 email_pattern:string = auth.PasswordRecovery;
receivedNotifyMessage#a384b779 id:int flags:int = ReceivedNotifyMessage;
chatInviteExported#ab4a819 flags:# revoked:flags.0?true permanent:flags.5?true request_needed:flags.6?true link:string admin_id:long date:int start_date:flags.4?int expire_date:flags.1?int usage_limit:flags.2?int usage:flags.3?int requested:flags.7?int title:flags.8?string = ExportedChatInvite;
chatInvitePublicJoinRequests#ed107ab7 = ExportedChatInvite;
chatInviteAlready#5a686d7c chat:Chat = ChatInvite;
chatInvite#cde0ec40 flags:# channel:flags.0?true broadcast:flags.1?true public:flags.2?true megagroup:flags.3?true request_needed:flags.6?true verified:flags.7?true scam:flags.8?true fake:flags.9?true title:string about:flags.5?string photo:Photo participants_count:int participants:flags.4?Vector<User> color:int = ChatInvite;
chatInvitePeek#61695cb0 chat:Chat expires:int = ChatInvite;
inputStickerSetEmpty#ffb62b95 = InputStickerSet;
inputStickerSetID#9de7a269 id:long access_hash:long = InputStickerSet;
inputStickerSetShortName#861cc8a0 short_name:string = InputStickerSet;
inputStickerSetAnimatedEmoji#28703c8 = InputStickerSet;
inputStickerSetDice#e67f520e emoticon:string = InputStickerSet;
inputStickerSetAnimatedEmojiAnimations#cde3739 = InputStickerSet;
inputStickerSetPremiumGifts#c88b3b02 = InputStickerSet;
inputStickerSetEmojiGenericAnimations#4c4d4ce = InputStickerSet;
inputStickerSetEmojiDefaultStatuses#29d0f5ee = InputStickerSet;
inputStickerSetEmojiDefaultTopicIcons#44c1f8e9 = InputStickerSet;
inputStickerSetEmojiChannelDefaultStatuses#49748553 = InputStickerSet;
stickerSet#2dd14edc flags:# archived:flags.1?true official:flags.2?true masks:flags.3?true animated:flags.5?true videos:flags.6?true emojis:flags.7?true text_color:flags.9?true channel_emoji_status:flags.10?true installed_date:flags.0?int id:long access_hash:long title:string short_name:string thumbs:flags.4?Vector<PhotoSize> thumb_dc_id:flags.4?int thumb_version:flags.4?int thumb_document_id:flags.8?long count:int hash:int = StickerSet;
messages.stickerSet#6e153f16 set:StickerSet packs:Vector<StickerPack> keywords:Vector<StickerKeyword> documents:Vector<Document> = messages.StickerSet;
messages.stickerSetNotModified#d3f924eb = messages.StickerSet;
botCommand#c27ac8c7 command:string description:string = BotCommand;
botInfo#8f300b57 flags:# user_id:flags.0?long description:flags.1?string description_photo:flags.4?Photo description_document:flags.5?Document commands:flags.2?Vector<BotCommand> menu_button:flags.3?BotMenuButton = BotInfo;
keyboardButton#a2fa4880 text:string = KeyboardButton;
keyboardButtonUrl#258aff05 text:string url:string = KeyboardButton;
keyboardButtonCallback#35bbdb6b flags:# requires_password:flags.0?true text:string data:bytes = KeyboardButton;
keyboardButtonRequestPhone#b16a6c29 text:string = KeyboardButton;
keyboardButtonRequestGeoLocation#fc796b3f text:string = KeyboardButton;
keyboardButtonSwitchInline#93b9fbb5 flags:# same_peer:flags.0?true text:string query:string peer_types:flags.1?Vector<InlineQueryPeerType> = KeyboardButton;
keyboardButtonGame#50f41ccf text:string = KeyboardButton;
keyboardButtonBuy#afd93fbb text:string = KeyboardButton;
keyboardButtonUrlAuth#10b78d29 flags:# text:string fwd_text:flags.0?string url:string button_id:int = KeyboardButton;
inputKeyboardButtonUrlAuth#d02e7fd4 flags:# request_write_access:flags.0?true text:string fwd_text:flags.1?string url:string bot:InputUser = KeyboardButton;
keyboardButtonRequestPoll#bbc7515d flags:# quiz:flags.0?Bool text:string = KeyboardButton;
inputKeyboardButtonUserProfile#e988037b text:string user_id:InputUser = KeyboardButton;
keyboardButtonUserProfile#308660c1 text:string user_id:long = KeyboardButton;
keyboardButtonWebView#13767230 text:string url:string = KeyboardButton;
keyboardButtonSimpleWebView#a0c0505c text:string url:string = KeyboardButton;
keyboardButtonRequestPeer#53d7bfd8 text:string button_id:int peer_type:RequestPeerType max_quantity:int = KeyboardButton;
keyboardButtonRow#77608b83 buttons:Vector<KeyboardButton> = KeyboardButtonRow;
replyKeyboardHide#a03e5b85 flags:# selective:flags.2?true = ReplyMarkup;
replyKeyboardForceReply#86b40b08 flags:# single_use:flags.1?true selective:flags.2?true placeholder:flags.3?string = ReplyMarkup;
replyKeyboardMarkup#85dd99d1 flags:# resize:flags.0?true single_use:flags.1?true selective:flags.2?true persistent:flags.4?true rows:Vector<KeyboardButtonRow> placeholder:flags.3?string = ReplyMarkup;
replyInlineMarkup#48a30254 rows:Vector<KeyboardButtonRow> = ReplyMarkup;
messageEntityUnknown#bb92ba95 offset:int length:int = MessageEntity;
messageEntityMention#fa04579d offset:int length:int = MessageEntity;
messageEntityHashtag#6f635b0d offset:int length:int = MessageEntity;
messageEntityBotCommand#6cef8ac7 offset:int length:int = MessageEntity;
messageEntityUrl#6ed02538 offset:int length:int = MessageEntity;
messageEntityEmail#64e475c2 offset:int length:int = MessageEntity;
messageEntityBold#bd610bc9 offset:int length:int = MessageEntity;
messageEntityItalic#826f8b60 offset:int length:int = MessageEntity;
messageEntityCode#28a20571 offset:int length:int = MessageEntity;
messageEntityPre#73924be0 offset:int length:int language:string = MessageEntity;
messageEntityTextUrl#76a6d327 offset:int length:int url:string = MessageEntity;
messageEntityMentionName#dc7b1140 offset:int length:int user_id:long = MessageEntity;
inputMessageEntityMentionName#208e68c9 offset:int length:int user_id:InputUser = MessageEntity;
messageEntityPhone#9b69e34b offset:int length:int = MessageEntity;
messageEntityCashtag#4c4e743f offset:int length:int = MessageEntity;
messageEntityUnderline#9c4e7e8b offset:int length:int = MessageEntity;
messageEntityStrike#bf0693d4 offset:int length:int = MessageEntity;
messageEntityBankCard#761e6af4 offset:int length:int = MessageEntity;
messageEntitySpoiler#32ca960f offset:int length:int = MessageEntity;
messageEntityCustomEmoji#c8cf05f8 offset:int length:int document_id:long = MessageEntity;
messageEntityBlockquote#20df5d0 offset:int length:int = MessageEntity;
inputChannelEmpty#ee8c1e86 = InputChannel;
inputChannel#f35aec28 channel_id:long access_hash:long = InputChannel;
inputChannelFromMessage#5b934f9d peer:InputPeer msg_id:int channel_id:long = InputChannel;
contacts.resolvedPeer#7f077ad9 peer:Peer chats:Vector<Chat> users:Vector<User> = contacts.ResolvedPeer;
messageRange#ae30253 min_id:int max_id:int = MessageRange;
updates.channelDifferenceEmpty#3e11affb flags:# final:flags.0?true pts:int timeout:flags.1?int = updates.ChannelDifference;
updates.channelDifferenceTooLong#a4bcc6fe flags:# final:flags.0?true timeout:flags.1?int dialog:Dialog messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = updates.ChannelDifference;
updates.channelDifference#2064674e flags:# final:flags.0?true pts:int timeout:flags.1?int new_messages:Vector<Message> other_updates:Vector<Update> chats:Vector<Chat> users:Vector<User> = updates.ChannelDifference;
channelMessagesFilterEmpty#94d42ee7 = ChannelMessagesFilter;
channelMessagesFilter#cd77d957 flags:# exclude_new_messages:flags.1?true ranges:Vector<MessageRange> = ChannelMessagesFilter;
channelParticipant#c00c07c0 user_id:long date:int = ChannelParticipant;
channelParticipantSelf#35a8bfa7 flags:# via_request:flags.0?true user_id:long inviter_id:long date:int = ChannelParticipant;
channelParticipantCreator#2fe601d3 flags:# user_id:long admin_rights:ChatAdminRights rank:flags.0?string = ChannelParticipant;
channelParticipantAdmin#34c3bb53 flags:# can_edit:flags.0?true self:flags.1?true user_id:long inviter_id:flags.1?long promoted_by:long date:int admin_rights:ChatAdminRights rank:flags.2?string = ChannelParticipant;
channelParticipantBanned#6df8014e flags:# left:flags.0?true peer:Peer kicked_by:long date:int banned_rights:ChatBannedRights = ChannelParticipant;
channelParticipantLeft#1b03f006 peer:Peer = ChannelParticipant;
channelParticipantsRecent#de3f3c79 = ChannelParticipantsFilter;
channelParticipantsAdmins#b4608969 = ChannelParticipantsFilter;
channelParticipantsKicked#a3b54985 q:string = ChannelParticipantsFilter;
channelParticipantsBots#b0d1865b = ChannelParticipantsFilter;
channelParticipantsBanned#1427a5e1 q:string = ChannelParticipantsFilter;
channelParticipantsSearch#656ac4b q:string = ChannelParticipantsFilter;
channelParticipantsContacts#bb6ae88d q:string = ChannelParticipantsFilter;
channelParticipantsMentions#e04b5ceb flags:# q:flags.0?string top_msg_id:flags.1?int = ChannelParticipantsFilter;
channels.channelParticipants#9ab0feaf count:int participants:Vector<ChannelParticipant> chats:Vector<Chat> users:Vector<User> = channels.ChannelParticipants;
channels.channelParticipantsNotModified#f0173fe9 = channels.ChannelParticipants;
channels.channelParticipant#dfb80317 participant:ChannelParticipant chats:Vector<Chat> users:Vector<User> = channels.ChannelParticipant;
help.termsOfService#780a0310 flags:# popup:flags.0?true id:DataJSON text:string entities:Vector<MessageEntity> min_age_confirm:flags.1?int = help.TermsOfService;
messages.savedGifsNotModified#e8025ca2 = messages.SavedGifs;
messages.savedGifs#84a02a0d hash:long gifs:Vector<Document> = messages.SavedGifs;
inputBotInlineMessageMediaAuto#3380c786 flags:# invert_media:flags.3?true message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;
inputBotInlineMessageText#3dcd7a87 flags:# no_webpage:flags.0?true invert_media:flags.3?true message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;
inputBotInlineMessageMediaGeo#96929a85 flags:# geo_point:InputGeoPoint heading:flags.0?int period:flags.1?int proximity_notification_radius:flags.3?int reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;
inputBotInlineMessageMediaVenue#417bbf11 flags:# geo_point:InputGeoPoint title:string address:string provider:string venue_id:string venue_type:string reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;
inputBotInlineMessageMediaContact#a6edbffd flags:# phone_number:string first_name:string last_name:string vcard:string reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;
inputBotInlineMessageGame#4b425864 flags:# reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;
inputBotInlineMessageMediaInvoice#d7e78225 flags:# title:string description:string photo:flags.0?InputWebDocument invoice:Invoice payload:bytes provider:string provider_data:DataJSON reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;
inputBotInlineMessageMediaWebPage#bddcc510 flags:# invert_media:flags.3?true force_large_media:flags.4?true force_small_media:flags.5?true optional:flags.6?true message:string entities:flags.1?Vector<MessageEntity> url:string reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;
inputBotInlineResult#88bf9319 flags:# id:string type:string title:flags.1?string description:flags.2?string url:flags.3?string thumb:flags.4?InputWebDocument content:flags.5?InputWebDocument send_message:InputBotInlineMessage = InputBotInlineResult;
inputBotInlineResultPhoto#a8d864a7 id:string type:string photo:InputPhoto send_message:InputBotInlineMessage = InputBotInlineResult;
inputBotInlineResultDocument#fff8fdc4 flags:# id:string type:string title:flags.1?string description:flags.2?string document:InputDocument send_message:InputBotInlineMessage = InputBotInlineResult;
inputBotInlineResultGame#4fa417f2 id:string short_name:string send_message:InputBotInlineMessage = InputBotInlineResult;
botInlineMessageMediaAuto#764cf810 flags:# invert_media:flags.3?true message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = BotInlineMessage;
botInlineMessageText#8c7f65e2 flags:# no_webpage:flags.0?true invert_media:flags.3?true message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = BotInlineMessage;
botInlineMessageMediaGeo#51846fd flags:# geo:GeoPoint heading:flags.0?int period:flags.1?int proximity_notification_radius:flags.3?int reply_markup:flags.2?ReplyMarkup = BotInlineMessage;
botInlineMessageMediaVenue#8a86659c flags:# geo:GeoPoint title:string address:string provider:string venue_id:string venue_type:string reply_markup:flags.2?ReplyMarkup = BotInlineMessage;
botInlineMessageMediaContact#18d1cdc2 flags:# phone_number:string first_name:string last_name:string vcard:string reply_markup:flags.2?ReplyMarkup = BotInlineMessage;
botInlineMessageMediaInvoice#354a9b09 flags:# shipping_address_requested:flags.1?true test:flags.3?true title:string description:string photo:flags.0?WebDocument currency:string total_amount:long reply_markup:flags.2?ReplyMarkup = BotInlineMessage;
botInlineMessageMediaWebPage#809ad9a6 flags:# invert_media:flags.3?true force_large_media:flags.4?true force_small_media:flags.5?true manual:flags.7?true safe:flags.8?true message:string entities:flags.1?Vector<MessageEntity> url:string reply_markup:flags.2?ReplyMarkup = BotInlineMessage;
botInlineResult#11965f3a flags:# id:string type:string title:flags.1?string description:flags.2?string url:flags.3?string thumb:flags.4?WebDocument content:flags.5?WebDocument send_message:BotInlineMessage = BotInlineResult;
botInlineMediaResult#17db940b flags:# id:string type:string photo:flags.0?Photo document:flags.1?Document title:flags.2?string description:flags.3?string send_message:BotInlineMessage = BotInlineResult;
messages.botResults#e021f2f6 flags:# gallery:flags.0?true query_id:long next_offset:flags.1?string switch_pm:flags.2?InlineBotSwitchPM switch_webview:flags.3?InlineBotWebView results:Vector<BotInlineResult> cache_time:int users:Vector<User> = messages.BotResults;
exportedMessageLink#5dab1af4 link:string html:string = ExportedMessageLink;
messageFwdHeader#4e4df4bb flags:# imported:flags.7?true saved_out:flags.11?true from_id:flags.0?Peer from_name:flags.5?string date:int channel_post:flags.2?int post_author:flags.3?string saved_from_peer:flags.4?Peer saved_from_msg_id:flags.4?int saved_from_id:flags.8?Peer saved_from_name:flags.9?string saved_date:flags.10?int psa_type:flags.6?string = MessageFwdHeader;
auth.codeTypeSms#72a3158c = auth.CodeType;
auth.codeTypeCall#741cd3e3 = auth.CodeType;
auth.codeTypeFlashCall#226ccefb = auth.CodeType;
auth.codeTypeMissedCall#d61ad6ee = auth.CodeType;
auth.codeTypeFragmentSms#6ed998c = auth.CodeType;
auth.sentCodeTypeApp#3dbb5986 length:int = auth.SentCodeType;
auth.sentCodeTypeSms#c000bba2 length:int = auth.SentCodeType;
auth.sentCodeTypeCall#5353e5a7 length:int = auth.SentCodeType;
auth.sentCodeTypeFlashCall#ab03c6d9 pattern:string = auth.SentCodeType;
auth.sentCodeTypeMissedCall#82006484 prefix:string length:int = auth.SentCodeType;
auth.sentCodeTypeEmailCode#f450f59b flags:# apple_signin_allowed:flags.0?true google_signin_allowed:flags.1?true email_pattern:string length:int reset_available_period:flags.3?int reset_pending_date:flags.4?int = auth.SentCodeType;
auth.sentCodeTypeSetUpEmailRequired#a5491dea flags:# apple_signin_allowed:flags.0?true google_signin_allowed:flags.1?true = auth.SentCodeType;
auth.sentCodeTypeFragmentSms#d9565c39 url:string length:int = auth.SentCodeType;
auth.sentCodeTypeFirebaseSms#e57b1432 flags:# nonce:flags.0?bytes receipt:flags.1?string push_timeout:flags.1?int length:int = auth.SentCodeType;
messages.botCallbackAnswer#36585ea4 flags:# alert:flags.1?true has_url:flags.3?true native_ui:flags.4?true message:flags.0?string url:flags.2?string cache_time:int = messages.BotCallbackAnswer;
messages.messageEditData#26b5dde6 flags:# caption:flags.0?true = messages.MessageEditData;
inputBotInlineMessageID#890c3d89 dc_id:int id:long access_hash:long = InputBotInlineMessageID;
inputBotInlineMessageID64#b6d915d7 dc_id:int owner_id:long id:int access_hash:long = InputBotInlineMessageID;
inlineBotSwitchPM#3c20629f text:string start_param:string = InlineBotSwitchPM;
messages.peerDialogs#3371c354 dialogs:Vector<Dialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> state:updates.State = messages.PeerDialogs;
topPeer#edcdc05b peer:Peer rating:double = TopPeer;
topPeerCategoryBotsPM#ab661b5b = TopPeerCategory;
topPeerCategoryBotsInline#148677e2 = TopPeerCategory;
topPeerCategoryCorrespondents#637b7ed = TopPeerCategory;
topPeerCategoryGroups#bd17a14a = TopPeerCategory;
topPeerCategoryChannels#161d9628 = TopPeerCategory;
topPeerCategoryPhoneCalls#1e76a78c = TopPeerCategory;
topPeerCategoryForwardUsers#a8406ca9 = TopPeerCategory;
topPeerCategoryForwardChats#fbeec0f0 = TopPeerCategory;
topPeerCategoryPeers#fb834291 category:TopPeerCategory count:int peers:Vector<TopPeer> = TopPeerCategoryPeers;
contacts.topPeersNotModified#de266ef5 = contacts.TopPeers;
contacts.topPeers#70b772a8 categories:Vector<TopPeerCategoryPeers> chats:Vector<Chat> users:Vector<User> = contacts.TopPeers;
contacts.topPeersDisabled#b52c939d = contacts.TopPeers;
draftMessageEmpty#1b0c841a flags:# date:flags.0?int = DraftMessage;
draftMessage#3fccf7ef flags:# no_webpage:flags.1?true invert_media:flags.6?true reply_to:flags.4?InputReplyTo message:string entities:flags.3?Vector<MessageEntity> media:flags.5?InputMedia date:int = DraftMessage;
messages.featuredStickersNotModified#c6dc0c66 count:int = messages.FeaturedStickers;
messages.featuredStickers#be382906 flags:# premium:flags.0?true hash:long count:int sets:Vector<StickerSetCovered> unread:Vector<long> = messages.FeaturedStickers;
messages.recentStickersNotModified#b17f890 = messages.RecentStickers;
messages.recentStickers#88d37c56 hash:long packs:Vector<StickerPack> stickers:Vector<Document> dates:Vector<int> = messages.RecentStickers;
messages.archivedStickers#4fcba9c8 count:int sets:Vector<StickerSetCovered> = messages.ArchivedStickers;
messages.stickerSetInstallResultSuccess#38641628 = messages.StickerSetInstallResult;
messages.stickerSetInstallResultArchive#35e410a8 sets:Vector<StickerSetCovered> = messages.StickerSetInstallResult;
stickerSetCovered#6410a5d2 set:StickerSet cover:Document = StickerSetCovered;
stickerSetMultiCovered#3407e51b set:StickerSet covers:Vector<Document> = StickerSetCovered;
stickerSetFullCovered#40d13c0e set:StickerSet packs:Vector<StickerPack> keywords:Vector<StickerKeyword> documents:Vector<Document> = StickerSetCovered;
stickerSetNoCovered#77b15d1c set:StickerSet = StickerSetCovered;
maskCoords#aed6dbb2 n:int x:double y:double zoom:double = MaskCoords;
inputStickeredMediaPhoto#4a992157 id:InputPhoto = InputStickeredMedia;
inputStickeredMediaDocument#438865b id:InputDocument = InputStickeredMedia;
game#bdf9653b flags:# id:long access_hash:long short_name:string title:string description:string photo:Photo document:flags.0?Document = Game;
inputGameID#32c3e77 id:long access_hash:long = InputGame;
inputGameShortName#c331e80a bot_id:InputUser short_name:string = InputGame;
highScore#73a379eb pos:int user_id:long score:int = HighScore;
messages.highScores#9a3bfd99 scores:Vector<HighScore> users:Vector<User> = messages.HighScores;
textEmpty#dc3d824f = RichText;
textPlain#744694e0 text:string = RichText;
textBold#6724abc4 text:RichText = RichText;
textItalic#d912a59c text:RichText = RichText;
textUnderline#c12622c4 text:RichText = RichText;
textStrike#9bf8bb95 text:RichText = RichText;
textFixed#6c3f19b9 text:RichText = RichText;
textUrl#3c2884c1 text:RichText url:string webpage_id:long = RichText;
textEmail#de5a0dd6 text:RichText email:string = RichText;
textConcat#7e6260d7 texts:Vector<RichText> = RichText;
textSubscript#ed6a8504 text:RichText = RichText;
textSuperscript#c7fb5e01 text:RichText = RichText;
textMarked#34b8621 text:RichText = RichText;
textPhone#1ccb966a text:RichText phone:string = RichText;
textImage#81ccf4f document_id:long w:int h:int = RichText;
textAnchor#35553762 text:RichText name:string = RichText;
pageBlockUnsupported#13567e8a = PageBlock;
pageBlockTitle#70abc3fd text:RichText = PageBlock;
pageBlockSubtitle#8ffa9a1f text:RichText = PageBlock;
pageBlockAuthorDate#baafe5e0 author:RichText published_date:int = PageBlock;
pageBlockHeader#bfd064ec text:RichText = PageBlock;
pageBlockSubheader#f12bb6e1 text:RichText = PageBlock;
pageBlockParagraph#467a0766 text:RichText = PageBlock;
pageBlockPreformatted#c070d93e text:RichText language:string = PageBlock;
pageBlockFooter#48870999 text:RichText = PageBlock;
pageBlockDivider#db20b188 = PageBlock;
pageBlockAnchor#ce0d37b0 name:string = PageBlock;
pageBlockList#e4e88011 items:Vector<PageListItem> = PageBlock;
pageBlockBlockquote#263d7c26 text:RichText caption:RichText = PageBlock;
pageBlockPullquote#4f4456d3 text:RichText caption:RichText = PageBlock;
pageBlockPhoto#1759c560 flags:# photo_id:long caption:PageCaption url:flags.0?string webpage_id:flags.0?long = PageBlock;
pageBlockVideo#7c8fe7b6 flags:# autoplay:flags.0?true loop:flags.1?true video_id:long caption:PageCaption = PageBlock;
pageBlockCover#39f23300 cover:PageBlock = PageBlock;
pageBlockEmbed#a8718dc5 flags:# full_width:flags.0?true allow_scrolling:flags.3?true url:flags.1?string html:flags.2?string poster_photo_id:flags.4?long w:flags.5?int h:flags.5?int caption:PageCaption = PageBlock;
pageBlockEmbedPost#f259a80b url:string webpage_id:long author_photo_id:long author:string date:int blocks:Vector<PageBlock> caption:PageCaption = PageBlock;
pageBlockCollage#65a0fa4d items:Vector<PageBlock> caption:PageCaption = PageBlock;
pageBlockSlideshow#31f9590 items:Vector<PageBlock> caption:PageCaption = PageBlock;
pageBlockChannel#ef1751b5 channel:Chat = PageBlock;
pageBlockAudio#804361ea audio_id:long caption:PageCaption = PageBlock;
pageBlockKicker#1e148390 text:RichText = PageBlock;
pageBlockTable#bf4dea82 flags:# bordered:flags.0?true striped:flags.1?true title:RichText rows:Vector<PageTableRow> = PageBlock;
pageBlockOrderedList#9a8ae1e1 items:Vector<PageListOrderedItem> = PageBlock;
pageBlockDetails#76768bed flags:# open:flags.0?true blocks:Vector<PageBlock> title:RichText = PageBlock;
pageBlockRelatedArticles#16115a96 title:RichText articles:Vector<PageRelatedArticle> = PageBlock;
pageBlockMap#a44f3ef6 geo:GeoPoint zoom:int w:int h:int caption:PageCaption = PageBlock;
phoneCallDiscardReasonMissed#85e42301 = PhoneCallDiscardReason;
phoneCallDiscardReasonDisconnect#e095c1a0 = PhoneCallDiscardReason;
phoneCallDiscardReasonHangup#57adc690 = PhoneCallDiscardReason;
phoneCallDiscardReasonBusy#faf7e8c9 = PhoneCallDiscardReason;
dataJSON#7d748d04 data:string = DataJSON;
labeledPrice#cb296bf8 label:string amount:long = LabeledPrice;
invoice#5db95a15 flags:# test:flags.0?true name_requested:flags.1?true phone_requested:flags.2?true email_requested:flags.3?true shipping_address_requested:flags.4?true flexible:flags.5?true phone_to_provider:flags.6?true email_to_provider:flags.7?true recurring:flags.9?true currency:string prices:Vector<LabeledPrice> max_tip_amount:flags.8?long suggested_tip_amounts:flags.8?Vector<long> terms_url:flags.10?string = Invoice;
paymentCharge#ea02c27e id:string provider_charge_id:string = PaymentCharge;
postAddress#1e8caaeb street_line1:string street_line2:string city:string state:string country_iso2:string post_code:string = PostAddress;
paymentRequestedInfo#909c3f94 flags:# name:flags.0?string phone:flags.1?string email:flags.2?string shipping_address:flags.3?PostAddress = PaymentRequestedInfo;
paymentSavedCredentialsCard#cdc27a1f id:string title:string = PaymentSavedCredentials;
webDocument#1c570ed1 url:string access_hash:long size:int mime_type:string attributes:Vector<DocumentAttribute> = WebDocument;
webDocumentNoProxy#f9c8bcc6 url:string size:int mime_type:string attributes:Vector<DocumentAttribute> = WebDocument;
inputWebDocument#9bed434d url:string size:int mime_type:string attributes:Vector<DocumentAttribute> = InputWebDocument;
inputWebFileLocation#c239d686 url:string access_hash:long = InputWebFileLocation;
inputWebFileGeoPointLocation#9f2221c9 geo_point:InputGeoPoint access_hash:long w:int h:int zoom:int scale:int = InputWebFileLocation;
inputWebFileAudioAlbumThumbLocation#f46fe924 flags:# small:flags.2?true document:flags.0?InputDocument title:flags.1?string performer:flags.1?string = InputWebFileLocation;
upload.webFile#21e753bc size:int mime_type:string file_type:storage.FileType mtime:int bytes:bytes = upload.WebFile;
payments.paymentForm#a0058751 flags:# can_save_credentials:flags.2?true password_missing:flags.3?true form_id:long bot_id:long title:string description:string photo:flags.5?WebDocument invoice:Invoice provider_id:long url:string native_provider:flags.4?string native_params:flags.4?DataJSON additional_methods:flags.6?Vector<PaymentFormMethod> saved_info:flags.0?PaymentRequestedInfo saved_credentials:flags.1?Vector<PaymentSavedCredentials> users:Vector<User> = payments.PaymentForm;
payments.validatedRequestedInfo#d1451883 flags:# id:flags.0?string shipping_options:flags.1?Vector<ShippingOption> = payments.ValidatedRequestedInfo;
payments.paymentResult#4e5f810d updates:Updates = payments.PaymentResult;
payments.paymentVerificationNeeded#d8411139 url:string = payments.PaymentResult;
payments.paymentReceipt#70c4fe03 flags:# date:int bot_id:long provider_id:long title:string description:string photo:flags.2?WebDocument invoice:Invoice info:flags.0?PaymentRequestedInfo shipping:flags.1?ShippingOption tip_amount:flags.3?long currency:string total_amount:long credentials_title:string users:Vector<User> = payments.PaymentReceipt;
payments.savedInfo#fb8fe43c flags:# has_saved_credentials:flags.1?true saved_info:flags.0?PaymentRequestedInfo = payments.SavedInfo;
inputPaymentCredentialsSaved#c10eb2cf id:string tmp_password:bytes = InputPaymentCredentials;
inputPaymentCredentials#3417d728 flags:# save:flags.0?true data:DataJSON = InputPaymentCredentials;
inputPaymentCredentialsApplePay#aa1c39f payment_data:DataJSON = InputPaymentCredentials;
inputPaymentCredentialsGooglePay#8ac32801 payment_token:DataJSON = InputPaymentCredentials;
account.tmpPassword#db64fd34 tmp_password:bytes valid_until:int = account.TmpPassword;
shippingOption#b6213cdf id:string title:string prices:Vector<LabeledPrice> = ShippingOption;
inputStickerSetItem#32da9e9c flags:# document:InputDocument emoji:string mask_coords:flags.0?MaskCoords keywords:flags.1?string = InputStickerSetItem;
inputPhoneCall#1e36fded id:long access_hash:long = InputPhoneCall;
phoneCallEmpty#5366c915 id:long = PhoneCall;
phoneCallWaiting#c5226f17 flags:# video:flags.6?true id:long access_hash:long date:int admin_id:long participant_id:long protocol:PhoneCallProtocol receive_date:flags.0?int = PhoneCall;
phoneCallRequested#14b0ed0c flags:# video:flags.6?true id:long access_hash:long date:int admin_id:long participant_id:long g_a_hash:bytes protocol:PhoneCallProtocol = PhoneCall;
phoneCallAccepted#3660c311 flags:# video:flags.6?true id:long access_hash:long date:int admin_id:long participant_id:long g_b:bytes protocol:PhoneCallProtocol = PhoneCall;
phoneCall#967f7c67 flags:# p2p_allowed:flags.5?true video:flags.6?true id:long access_hash:long date:int admin_id:long participant_id:long g_a_or_b:bytes key_fingerprint:long protocol:PhoneCallProtocol connections:Vector<PhoneConnection> start_date:int = PhoneCall;
phoneCallDiscarded#50ca4de1 flags:# need_rating:flags.2?true need_debug:flags.3?true video:flags.6?true id:long reason:flags.0?PhoneCallDiscardReason duration:flags.1?int = PhoneCall;
phoneConnection#9cc123c7 flags:# tcp:flags.0?true id:long ip:string ipv6:string port:int peer_tag:bytes = PhoneConnection;
phoneConnectionWebrtc#635fe375 flags:# turn:flags.0?true stun:flags.1?true id:long ip:string ipv6:string port:int username:string password:string = PhoneConnection;
phoneCallProtocol#fc878fc8 flags:# udp_p2p:flags.0?true udp_reflector:flags.1?true min_layer:int max_layer:int library_versions:Vector<string> = PhoneCallProtocol;
phone.phoneCall#ec82e140 phone_call:PhoneCall users:Vector<User> = phone.PhoneCall;
upload.cdnFileReuploadNeeded#eea8e46e request_token:bytes = upload.CdnFile;
upload.cdnFile#a99fca4f bytes:bytes = upload.CdnFile;
cdnPublicKey#c982eaba dc_id:int public_key:string = CdnPublicKey;
cdnConfig#5725e40a public_keys:Vector<CdnPublicKey> = CdnConfig;
langPackString#cad181f6 key:string value:string = LangPackString;
langPackStringPluralized#6c47ac9f flags:# key:string zero_value:flags.0?string one_value:flags.1?string two_value:flags.2?string few_value:flags.3?string many_value:flags.4?string other_value:string = LangPackString;
langPackStringDeleted#2979eeb2 key:string = LangPackString;
langPackDifference#f385c1f6 lang_code:string from_version:int version:int strings:Vector<LangPackString> = LangPackDifference;
langPackLanguage#eeca5ce3 flags:# official:flags.0?true rtl:flags.2?true beta:flags.3?true name:string native_name:string lang_code:string base_lang_code:flags.1?string plural_code:string strings_count:int translated_count:int translations_url:string = LangPackLanguage;
channelAdminLogEventActionChangeTitle#e6dfb825 prev_value:string new_value:string = ChannelAdminLogEventAction;
channelAdminLogEventActionChangeAbout#55188a2e prev_value:string new_value:string = ChannelAdminLogEventAction;
channelAdminLogEventActionChangeUsername#6a4afc38 prev_value:string new_value:string = ChannelAdminLogEventAction;
channelAdminLogEventActionChangePhoto#434bd2af prev_photo:Photo new_photo:Photo = ChannelAdminLogEventAction;
channelAdminLogEventActionToggleInvites#1b7907ae new_value:Bool = ChannelAdminLogEventAction;
channelAdminLogEventActionToggleSignatures#26ae0971 new_value:Bool = ChannelAdminLogEventAction;
channelAdminLogEventActionUpdatePinned#e9e82c18 message:Message = ChannelAdminLogEventAction;
channelAdminLogEventActionEditMessage#709b2405 prev_message:Message new_message:Message = ChannelAdminLogEventAction;
channelAdminLogEventActionDeleteMessage#42e047bb message:Message = ChannelAdminLogEventAction;
channelAdminLogEventActionParticipantJoin#183040d3 = ChannelAdminLogEventAction;
channelAdminLogEventActionParticipantLeave#f89777f2 = ChannelAdminLogEventAction;
channelAdminLogEventActionParticipantInvite#e31c34d8 participant:ChannelParticipant = ChannelAdminLogEventAction;
channelAdminLogEventActionParticipantToggleBan#e6d83d7e prev_participant:ChannelParticipant new_participant:ChannelParticipant = ChannelAdminLogEventAction;
channelAdminLogEventActionParticipantToggleAdmin#d5676710 prev_participant:ChannelParticipant new_participant:ChannelParticipant = ChannelAdminLogEventAction;
channelAdminLogEventActionChangeStickerSet#b1c3caa7 prev_stickerset:InputStickerSet new_stickerset:InputStickerSet = ChannelAdminLogEventAction;
channelAdminLogEventActionTogglePreHistoryHidden#5f5c95f1 new_value:Bool = ChannelAdminLogEventAction;
channelAdminLogEventActionDefaultBannedRights#2df5fc0a prev_banned_rights:ChatBannedRights new_banned_rights:ChatBannedRights = ChannelAdminLogEventAction;
channelAdminLogEventActionStopPoll#8f079643 message:Message = ChannelAdminLogEventAction;
channelAdminLogEventActionChangeLinkedChat#50c7ac8 prev_value:long new_value:long = ChannelAdminLogEventAction;
channelAdminLogEventActionChangeLocation#e6b76ae prev_value:ChannelLocation new_value:ChannelLocation = ChannelAdminLogEventAction;
channelAdminLogEventActionToggleSlowMode#53909779 prev_value:int new_value:int = ChannelAdminLogEventAction;
channelAdminLogEventActionStartGroupCall#23209745 call:InputGroupCall = ChannelAdminLogEventAction;
channelAdminLogEventActionDiscardGroupCall#db9f9140 call:InputGroupCall = ChannelAdminLogEventAction;
channelAdminLogEventActionParticipantMute#f92424d2 participant:GroupCallParticipant = ChannelAdminLogEventAction;
channelAdminLogEventActionParticipantUnmute#e64429c0 participant:GroupCallParticipant = ChannelAdminLogEventAction;
channelAdminLogEventActionToggleGroupCallSetting#56d6a247 join_muted:Bool = ChannelAdminLogEventAction;
channelAdminLogEventActionParticipantJoinByInvite#fe9fc158 flags:# via_chatlist:flags.0?true invite:ExportedChatInvite = ChannelAdminLogEventAction;
channelAdminLogEventActionExportedInviteDelete#5a50fca4 invite:ExportedChatInvite = ChannelAdminLogEventAction;
channelAdminLogEventActionExportedInviteRevoke#410a134e invite:ExportedChatInvite = ChannelAdminLogEventAction;
channelAdminLogEventActionExportedInviteEdit#e90ebb59 prev_invite:ExportedChatInvite new_invite:ExportedChatInvite = ChannelAdminLogEventAction;
channelAdminLogEventActionParticipantVolume#3e7f6847 participant:GroupCallParticipant = ChannelAdminLogEventAction;
channelAdminLogEventActionChangeHistoryTTL#6e941a38 prev_value:int new_value:int = ChannelAdminLogEventAction;
channelAdminLogEventActionParticipantJoinByRequest#afb6144a invite:ExportedChatInvite approved_by:long = ChannelAdminLogEventAction;
channelAdminLogEventActionToggleNoForwards#cb2ac766 new_value:Bool = ChannelAdminLogEventAction;
channelAdminLogEventActionSendMessage#278f2868 message:Message = ChannelAdminLogEventAction;
channelAdminLogEventActionChangeAvailableReactions#be4e0ef8 prev_value:ChatReactions new_value:ChatReactions = ChannelAdminLogEventAction;
channelAdminLogEventActionChangeUsernames#f04fb3a9 prev_value:Vector<string> new_value:Vector<string> = ChannelAdminLogEventAction;
channelAdminLogEventActionToggleForum#2cc6383 new_value:Bool = ChannelAdminLogEventAction;
channelAdminLogEventActionCreateTopic#58707d28 topic:ForumTopic = ChannelAdminLogEventAction;
channelAdminLogEventActionEditTopic#f06fe208 prev_topic:ForumTopic new_topic:ForumTopic = ChannelAdminLogEventAction;
channelAdminLogEventActionDeleteTopic#ae168909 topic:ForumTopic = ChannelAdminLogEventAction;
channelAdminLogEventActionPinTopic#5d8d353b flags:# prev_topic:flags.0?ForumTopic new_topic:flags.1?ForumTopic = ChannelAdminLogEventAction;
channelAdminLogEventActionToggleAntiSpam#64f36dfc new_value:Bool = ChannelAdminLogEventAction;
channelAdminLogEventActionChangePeerColor#5796e780 prev_value:PeerColor new_value:PeerColor = ChannelAdminLogEventAction;
channelAdminLogEventActionChangeProfilePeerColor#5e477b25 prev_value:PeerColor new_value:PeerColor = ChannelAdminLogEventAction;
channelAdminLogEventActionChangeWallpaper#31bb5d52 prev_value:WallPaper new_value:WallPaper = ChannelAdminLogEventAction;
channelAdminLogEventActionChangeEmojiStatus#3ea9feb1 prev_value:EmojiStatus new_value:EmojiStatus = ChannelAdminLogEventAction;
channelAdminLogEventActionChangeEmojiStickerSet#46d840ab prev_stickerset:InputStickerSet new_stickerset:InputStickerSet = ChannelAdminLogEventAction;
channelAdminLogEvent#1fad68cd id:long date:int user_id:long action:ChannelAdminLogEventAction = ChannelAdminLogEvent;
channels.adminLogResults#ed8af74d events:Vector<ChannelAdminLogEvent> chats:Vector<Chat> users:Vector<User> = channels.AdminLogResults;
channelAdminLogEventsFilter#ea107ae4 flags:# join:flags.0?true leave:flags.1?true invite:flags.2?true ban:flags.3?true unban:flags.4?true kick:flags.5?true unkick:flags.6?true promote:flags.7?true demote:flags.8?true info:flags.9?true settings:flags.10?true pinned:flags.11?true edit:flags.12?true delete:flags.13?true group_call:flags.14?true invites:flags.15?true send:flags.16?true forums:flags.17?true = ChannelAdminLogEventsFilter;
popularContact#5ce14175 client_id:long importers:int = PopularContact;
messages.favedStickersNotModified#9e8fa6d3 = messages.FavedStickers;
messages.favedStickers#2cb51097 hash:long packs:Vector<StickerPack> stickers:Vector<Document> = messages.FavedStickers;
recentMeUrlUnknown#46e1d13d url:string = RecentMeUrl;
recentMeUrlUser#b92c09e2 url:string user_id:long = RecentMeUrl;
recentMeUrlChat#b2da71d2 url:string chat_id:long = RecentMeUrl;
recentMeUrlChatInvite#eb49081d url:string chat_invite:ChatInvite = RecentMeUrl;
recentMeUrlStickerSet#bc0a57dc url:string set:StickerSetCovered = RecentMeUrl;
help.recentMeUrls#e0310d7 urls:Vector<RecentMeUrl> chats:Vector<Chat> users:Vector<User> = help.RecentMeUrls;
inputSingleMedia#1cc6e91f flags:# media:InputMedia random_id:long message:string entities:flags.0?Vector<MessageEntity> = InputSingleMedia;
webAuthorization#a6f8f452 hash:long bot_id:long domain:string browser:string platform:string date_created:int date_active:int ip:string region:string = WebAuthorization;
account.webAuthorizations#ed56c9fc authorizations:Vector<WebAuthorization> users:Vector<User> = account.WebAuthorizations;
inputMessageID#a676a322 id:int = InputMessage;
inputMessageReplyTo#bad88395 id:int = InputMessage;
inputMessagePinned#86872538 = InputMessage;
inputMessageCallbackQuery#acfa1a7e id:int query_id:long = InputMessage;
inputDialogPeer#fcaafeb7 peer:InputPeer = InputDialogPeer;
inputDialogPeerFolder#64600527 folder_id:int = InputDialogPeer;
dialogPeer#e56dbf05 peer:Peer = DialogPeer;
dialogPeerFolder#514519e2 folder_id:int = DialogPeer;
messages.foundStickerSetsNotModified#d54b65d = messages.FoundStickerSets;
messages.foundStickerSets#8af09dd2 hash:long sets:Vector<StickerSetCovered> = messages.FoundStickerSets;
fileHash#f39b035c offset:long limit:int hash:bytes = FileHash;
inputClientProxy#75588b3f address:string port:int = InputClientProxy;
help.termsOfServiceUpdateEmpty#e3309f7f expires:int = help.TermsOfServiceUpdate;
help.termsOfServiceUpdate#28ecf961 expires:int terms_of_service:help.TermsOfService = help.TermsOfServiceUpdate;
inputSecureFileUploaded#3334b0f0 id:long parts:int md5_checksum:string file_hash:bytes secret:bytes = InputSecureFile;
inputSecureFile#5367e5be id:long access_hash:long = InputSecureFile;
secureFileEmpty#64199744 = SecureFile;
secureFile#7d09c27e id:long access_hash:long size:long dc_id:int date:int file_hash:bytes secret:bytes = SecureFile;
secureData#8aeabec3 data:bytes data_hash:bytes secret:bytes = SecureData;
securePlainPhone#7d6099dd phone:string = SecurePlainData;
securePlainEmail#21ec5a5f email:string = SecurePlainData;
secureValueTypePersonalDetails#9d2a81e3 = SecureValueType;
secureValueTypePassport#3dac6a00 = SecureValueType;
secureValueTypeDriverLicense#6e425c4 = SecureValueType;
secureValueTypeIdentityCard#a0d0744b = SecureValueType;
secureValueTypeInternalPassport#99a48f23 = SecureValueType;
secureValueTypeAddress#cbe31e26 = SecureValueType;
secureValueTypeUtilityBill#fc36954e = SecureValueType;
secureValueTypeBankStatement#89137c0d = SecureValueType;
secureValueTypeRentalAgreement#8b883488 = SecureValueType;
secureValueTypePassportRegistration#99e3806a = SecureValueType;
secureValueTypeTemporaryRegistration#ea02ec33 = SecureValueType;
secureValueTypePhone#b320aadb = SecureValueType;
secureValueTypeEmail#8e3ca7ee = SecureValueType;
secureValue#187fa0ca flags:# type:SecureValueType data:flags.0?SecureData front_side:flags.1?SecureFile reverse_side:flags.2?SecureFile selfie:flags.3?SecureFile translation:flags.6?Vector<SecureFile> files:flags.4?Vector<SecureFile> plain_data:flags.5?SecurePlainData hash:bytes = SecureValue;
inputSecureValue#db21d0a7 flags:# type:SecureValueType data:flags.0?SecureData front_side:flags.1?InputSecureFile reverse_side:flags.2?InputSecureFile selfie:flags.3?InputSecureFile translation:flags.6?Vector<InputSecureFile> files:flags.4?Vector<InputSecureFile> plain_data:flags.5?SecurePlainData = InputSecureValue;
secureValueHash#ed1ecdb0 type:SecureValueType hash:bytes = SecureValueHash;
secureValueErrorData#e8a40bd9 type:SecureValueType data_hash:bytes field:string text:string = SecureValueError;
secureValueErrorFrontSide#be3dfa type:SecureValueType file_hash:bytes text:string = SecureValueError;
secureValueErrorReverseSide#868a2aa5 type:SecureValueType file_hash:bytes text:string = SecureValueError;
secureValueErrorSelfie#e537ced6 type:SecureValueType file_hash:bytes text:string = SecureValueError;
secureValueErrorFile#7a700873 type:SecureValueType file_hash:bytes text:string = SecureValueError;
secureValueErrorFiles#666220e9 type:SecureValueType file_hash:Vector<bytes> text:string = SecureValueError;
secureValueError#869d758f type:SecureValueType hash:bytes text:string = SecureValueError;
secureValueErrorTranslationFile#a1144770 type:SecureValueType file_hash:bytes text:string = SecureValueError;
secureValueErrorTranslationFiles#34636dd8 type:SecureValueType file_hash:Vector<bytes> text:string = SecureValueError;
secureCredentialsEncrypted#33f0ea47 data:bytes hash:bytes secret:bytes = SecureCredentialsEncrypted;
account.authorizationForm#ad2e1cd8 flags:# required_types:Vector<SecureRequiredType> values:Vector<SecureValue> errors:Vector<SecureValueError> users:Vector<User> privacy_policy_url:flags.0?string = account.AuthorizationForm;
account.sentEmailCode#811f854f email_pattern:string length:int = account.SentEmailCode;
help.deepLinkInfoEmpty#66afa166 = help.DeepLinkInfo;
help.deepLinkInfo#6a4ee832 flags:# update_app:flags.0?true message:string entities:flags.1?Vector<MessageEntity> = help.DeepLinkInfo;
savedPhoneContact#1142bd56 phone:string first_name:string last_name:string date:int = SavedContact;
account.takeout#4dba4501 id:long = account.Takeout;
passwordKdfAlgoUnknown#d45ab096 = PasswordKdfAlgo;
passwordKdfAlgoSHA256SHA256PBKDF2HMACSHA512iter100000SHA256ModPow#3a912d4a salt1:bytes salt2:bytes g:int p:bytes = PasswordKdfAlgo;
securePasswordKdfAlgoUnknown#4a8537 = SecurePasswordKdfAlgo;
securePasswordKdfAlgoPBKDF2HMACSHA512iter100000#bbf2dda0 salt:bytes = SecurePasswordKdfAlgo;
securePasswordKdfAlgoSHA512#86471d92 salt:bytes = SecurePasswordKdfAlgo;
secureSecretSettings#1527bcac secure_algo:SecurePasswordKdfAlgo secure_secret:bytes secure_secret_id:long = SecureSecretSettings;
inputCheckPasswordEmpty#9880f658 = InputCheckPasswordSRP;
inputCheckPasswordSRP#d27ff082 srp_id:long A:bytes M1:bytes = InputCheckPasswordSRP;
secureRequiredType#829d99da flags:# native_names:flags.0?true selfie_required:flags.1?true translation_required:flags.2?true type:SecureValueType = SecureRequiredType;
secureRequiredTypeOneOf#27477b4 types:Vector<SecureRequiredType> = SecureRequiredType;
help.passportConfigNotModified#bfb9f457 = help.PassportConfig;
help.passportConfig#a098d6af hash:int countries_langs:DataJSON = help.PassportConfig;
inputAppEvent#1d1b1245 time:double type:string peer:long data:JSONValue = InputAppEvent;
jsonObjectValue#c0de1bd9 key:string value:JSONValue = JSONObjectValue;
jsonNull#3f6d7b68 = JSONValue;
jsonBool#c7345e6a value:Bool = JSONValue;
jsonNumber#2be0dfa4 value:double = JSONValue;
jsonString#b71e767a value:string = JSONValue;
jsonArray#f7444763 value:Vector<JSONValue> = JSONValue;
jsonObject#99c1d49d value:Vector<JSONObjectValue> = JSONValue;
pageTableCell#34566b6a flags:# header:flags.0?true align_center:flags.3?true align_right:flags.4?true valign_middle:flags.5?true valign_bottom:flags.6?true text:flags.7?RichText colspan:flags.1?int rowspan:flags.2?int = PageTableCell;
pageTableRow#e0c0c5e5 cells:Vector<PageTableCell> = PageTableRow;
pageCaption#6f747657 text:RichText credit:RichText = PageCaption;
pageListItemText#b92fb6cd text:RichText = PageListItem;
pageListItemBlocks#25e073fc blocks:Vector<PageBlock> = PageListItem;
pageListOrderedItemText#5e068047 num:string text:RichText = PageListOrderedItem;
pageListOrderedItemBlocks#98dd8936 num:string blocks:Vector<PageBlock> = PageListOrderedItem;
pageRelatedArticle#b390dc08 flags:# url:string webpage_id:long title:flags.0?string description:flags.1?string photo_id:flags.2?long author:flags.3?string published_date:flags.4?int = PageRelatedArticle;
page#98657f0d flags:# part:flags.0?true rtl:flags.1?true v2:flags.2?true url:string blocks:Vector<PageBlock> photos:Vector<Photo> documents:Vector<Document> views:flags.3?int = Page;
help.supportName#8c05f1c9 name:string = help.SupportName;
help.userInfoEmpty#f3ae2eed = help.UserInfo;
help.userInfo#1eb3758 message:string entities:Vector<MessageEntity> author:string date:int = help.UserInfo;
pollAnswer#6ca9c2e9 text:string option:bytes = PollAnswer;
poll#86e18161 id:long flags:# closed:flags.0?true public_voters:flags.1?true multiple_choice:flags.2?true quiz:flags.3?true question:string answers:Vector<PollAnswer> close_period:flags.4?int close_date:flags.5?int = Poll;
pollAnswerVoters#3b6ddad2 flags:# chosen:flags.0?true correct:flags.1?true option:bytes voters:int = PollAnswerVoters;
pollResults#7adf2420 flags:# min:flags.0?true results:flags.1?Vector<PollAnswerVoters> total_voters:flags.2?int recent_voters:flags.3?Vector<Peer> solution:flags.4?string solution_entities:flags.4?Vector<MessageEntity> = PollResults;
chatOnlines#f041e250 onlines:int = ChatOnlines;
statsURL#47a971e0 url:string = StatsURL;
chatAdminRights#5fb224d5 flags:# change_info:flags.0?true post_messages:flags.1?true edit_messages:flags.2?true delete_messages:flags.3?true ban_users:flags.4?true invite_users:flags.5?true pin_messages:flags.7?true add_admins:flags.9?true anonymous:flags.10?true manage_call:flags.11?true other:flags.12?true manage_topics:flags.13?true post_stories:flags.14?true edit_stories:flags.15?true delete_stories:flags.16?true = ChatAdminRights;
chatBannedRights#9f120418 flags:# view_messages:flags.0?true send_messages:flags.1?true send_media:flags.2?true send_stickers:flags.3?true send_gifs:flags.4?true send_games:flags.5?true send_inline:flags.6?true embed_links:flags.7?true send_polls:flags.8?true change_info:flags.10?true invite_users:flags.15?true pin_messages:flags.17?true manage_topics:flags.18?true send_photos:flags.19?true send_videos:flags.20?true send_roundvideos:flags.21?true send_audios:flags.22?true send_voices:flags.23?true send_docs:flags.24?true send_plain:flags.25?true until_date:int = ChatBannedRights;
inputWallPaper#e630b979 id:long access_hash:long = InputWallPaper;
inputWallPaperSlug#72091c80 slug:string = InputWallPaper;
inputWallPaperNoFile#967a462e id:long = InputWallPaper;
account.wallPapersNotModified#1c199183 = account.WallPapers;
account.wallPapers#cdc3858c hash:long wallpapers:Vector<WallPaper> = account.WallPapers;
codeSettings#ad253d78 flags:# allow_flashcall:flags.0?true current_number:flags.1?true allow_app_hash:flags.4?true allow_missed_call:flags.5?true allow_firebase:flags.7?true logout_tokens:flags.6?Vector<bytes> token:flags.8?string app_sandbox:flags.8?Bool = CodeSettings;
wallPaperSettings#372efcd0 flags:# blur:flags.1?true motion:flags.2?true background_color:flags.0?int second_background_color:flags.4?int third_background_color:flags.5?int fourth_background_color:flags.6?int intensity:flags.3?int rotation:flags.4?int emoticon:flags.7?string = WallPaperSettings;
autoDownloadSettings#baa57628 flags:# disabled:flags.0?true video_preload_large:flags.1?true audio_preload_next:flags.2?true phonecalls_less_data:flags.3?true stories_preload:flags.4?true photo_size_max:int video_size_max:long file_size_max:long video_upload_maxbitrate:int small_queue_active_operations_max:int large_queue_active_operations_max:int = AutoDownloadSettings;
account.autoDownloadSettings#63cacf26 low:AutoDownloadSettings medium:AutoDownloadSettings high:AutoDownloadSettings = account.AutoDownloadSettings;
emojiKeyword#d5b3b9f9 keyword:string emoticons:Vector<string> = EmojiKeyword;
emojiKeywordDeleted#236df622 keyword:string emoticons:Vector<string> = EmojiKeyword;
emojiKeywordsDifference#5cc761bd lang_code:string from_version:int version:int keywords:Vector<EmojiKeyword> = EmojiKeywordsDifference;
emojiURL#a575739d url:string = EmojiURL;
emojiLanguage#b3fb5361 lang_code:string = EmojiLanguage;
folder#ff544e65 flags:# autofill_new_broadcasts:flags.0?true autofill_public_groups:flags.1?true autofill_new_correspondents:flags.2?true id:int title:string photo:flags.3?ChatPhoto = Folder;
inputFolderPeer#fbd2c296 peer:InputPeer folder_id:int = InputFolderPeer;
folderPeer#e9baa668 peer:Peer folder_id:int = FolderPeer;
messages.searchCounter#e844ebff flags:# inexact:flags.1?true filter:MessagesFilter count:int = messages.SearchCounter;
urlAuthResultRequest#92d33a0e flags:# request_write_access:flags.0?true bot:User domain:string = UrlAuthResult;
urlAuthResultAccepted#8f8c0e4e url:string = UrlAuthResult;
urlAuthResultDefault#a9d6db1f = UrlAuthResult;
channelLocationEmpty#bfb5ad8b = ChannelLocation;
channelLocation#209b82db geo_point:GeoPoint address:string = ChannelLocation;
peerLocated#ca461b5d peer:Peer expires:int distance:int = PeerLocated;
peerSelfLocated#f8ec284b expires:int = PeerLocated;
restrictionReason#d072acb4 platform:string reason:string text:string = RestrictionReason;
inputTheme#3c5693e9 id:long access_hash:long = InputTheme;
inputThemeSlug#f5890df1 slug:string = InputTheme;
theme#a00e67d6 flags:# creator:flags.0?true default:flags.1?true for_chat:flags.5?true id:long access_hash:long slug:string title:string document:flags.2?Document settings:flags.3?Vector<ThemeSettings> emoticon:flags.6?string installs_count:flags.4?int = Theme;
account.themesNotModified#f41eb622 = account.Themes;
account.themes#9a3d8c6d hash:long themes:Vector<Theme> = account.Themes;
auth.loginToken#629f1980 expires:int token:bytes = auth.LoginToken;
auth.loginTokenMigrateTo#68e9916 dc_id:int token:bytes = auth.LoginToken;
auth.loginTokenSuccess#390d5c5e authorization:auth.Authorization = auth.LoginToken;
account.contentSettings#57e28221 flags:# sensitive_enabled:flags.0?true sensitive_can_change:flags.1?true = account.ContentSettings;
messages.inactiveChats#a927fec5 dates:Vector<int> chats:Vector<Chat> users:Vector<User> = messages.InactiveChats;
baseThemeClassic#c3a12462 = BaseTheme;
baseThemeDay#fbd81688 = BaseTheme;
baseThemeNight#b7b31ea8 = BaseTheme;
baseThemeTinted#6d5f77ee = BaseTheme;
baseThemeArctic#5b11125a = BaseTheme;
inputThemeSettings#8fde504f flags:# message_colors_animated:flags.2?true base_theme:BaseTheme accent_color:int outbox_accent_color:flags.3?int message_colors:flags.0?Vector<int> wallpaper:flags.1?InputWallPaper wallpaper_settings:flags.1?WallPaperSettings = InputThemeSettings;
themeSettings#fa58b6d4 flags:# message_colors_animated:flags.2?true base_theme:BaseTheme accent_color:int outbox_accent_color:flags.3?int message_colors:flags.0?Vector<int> wallpaper:flags.1?WallPaper = ThemeSettings;
webPageAttributeTheme#54b56617 flags:# documents:flags.0?Vector<Document> settings:flags.1?ThemeSettings = WebPageAttribute;
webPageAttributeStory#2e94c3e7 flags:# peer:Peer id:int story:flags.0?StoryItem = WebPageAttribute;
messages.votesList#4899484e flags:# count:int votes:Vector<MessagePeerVote> chats:Vector<Chat> users:Vector<User> next_offset:flags.0?string = messages.VotesList;
bankCardOpenUrl#f568028a url:string name:string = BankCardOpenUrl;
payments.bankCardData#3e24e573 title:string open_urls:Vector<BankCardOpenUrl> = payments.BankCardData;
dialogFilter#7438f7e8 flags:# contacts:flags.0?true non_contacts:flags.1?true groups:flags.2?true broadcasts:flags.3?true bots:flags.4?true exclude_muted:flags.11?true exclude_read:flags.12?true exclude_archived:flags.13?true id:int title:string emoticon:flags.25?string pinned_peers:Vector<InputPeer> include_peers:Vector<InputPeer> exclude_peers:Vector<InputPeer> = DialogFilter;
dialogFilterDefault#363293ae = DialogFilter;
dialogFilterChatlist#d64a04a8 flags:# has_my_invites:flags.26?true id:int title:string emoticon:flags.25?string pinned_peers:Vector<InputPeer> include_peers:Vector<InputPeer> = DialogFilter;
dialogFilterSuggested#77744d4a filter:DialogFilter description:string = DialogFilterSuggested;
statsDateRangeDays#b637edaf min_date:int max_date:int = StatsDateRangeDays;
statsAbsValueAndPrev#cb43acde current:double previous:double = StatsAbsValueAndPrev;
statsPercentValue#cbce2fe0 part:double total:double = StatsPercentValue;
statsGraphAsync#4a27eb2d token:string = StatsGraph;
statsGraphError#bedc9822 error:string = StatsGraph;
statsGraph#8ea464b6 flags:# json:DataJSON zoom_token:flags.0?string = StatsGraph;
stats.broadcastStats#396ca5fc period:StatsDateRangeDays followers:StatsAbsValueAndPrev views_per_post:StatsAbsValueAndPrev shares_per_post:StatsAbsValueAndPrev reactions_per_post:StatsAbsValueAndPrev views_per_story:StatsAbsValueAndPrev shares_per_story:StatsAbsValueAndPrev reactions_per_story:StatsAbsValueAndPrev enabled_notifications:StatsPercentValue growth_graph:StatsGraph followers_graph:StatsGraph mute_graph:StatsGraph top_hours_graph:StatsGraph interactions_graph:StatsGraph iv_interactions_graph:StatsGraph views_by_source_graph:StatsGraph new_followers_by_source_graph:StatsGraph languages_graph:StatsGraph reactions_by_emotion_graph:StatsGraph story_interactions_graph:StatsGraph story_reactions_by_emotion_graph:StatsGraph recent_posts_interactions:Vector<PostInteractionCounters> = stats.BroadcastStats;
help.promoDataEmpty#98f6ac75 expires:int = help.PromoData;
help.promoData#8c39793f flags:# proxy:flags.0?true expires:int peer:Peer chats:Vector<Chat> users:Vector<User> psa_type:flags.1?string psa_message:flags.2?string = help.PromoData;
videoSize#de33b094 flags:# type:string w:int h:int size:int video_start_ts:flags.0?double = VideoSize;
videoSizeEmojiMarkup#f85c413c emoji_id:long background_colors:Vector<int> = VideoSize;
videoSizeStickerMarkup#da082fe stickerset:InputStickerSet sticker_id:long background_colors:Vector<int> = VideoSize;
statsGroupTopPoster#9d04af9b user_id:long messages:int avg_chars:int = StatsGroupTopPoster;
statsGroupTopAdmin#d7584c87 user_id:long deleted:int kicked:int banned:int = StatsGroupTopAdmin;
statsGroupTopInviter#535f779d user_id:long invitations:int = StatsGroupTopInviter;
stats.megagroupStats#ef7ff916 period:StatsDateRangeDays members:StatsAbsValueAndPrev messages:StatsAbsValueAndPrev viewers:StatsAbsValueAndPrev posters:StatsAbsValueAndPrev growth_graph:StatsGraph members_graph:StatsGraph new_members_by_source_graph:StatsGraph languages_graph:StatsGraph messages_graph:StatsGraph actions_graph:StatsGraph top_hours_graph:StatsGraph weekdays_graph:StatsGraph top_posters:Vector<StatsGroupTopPoster> top_admins:Vector<StatsGroupTopAdmin> top_inviters:Vector<StatsGroupTopInviter> users:Vector<User> = stats.MegagroupStats;
globalPrivacySettings#734c4ccb flags:# archive_and_mute_new_noncontact_peers:flags.0?true keep_archived_unmuted:flags.1?true keep_archived_folders:flags.2?true hide_read_marks:flags.3?true new_noncontact_peers_require_premium:flags.4?true = GlobalPrivacySettings;
help.countryCode#4203c5ef flags:# country_code:string prefixes:flags.0?Vector<string> patterns:flags.1?Vector<string> = help.CountryCode;
help.country#c3878e23 flags:# hidden:flags.0?true iso2:string default_name:string name:flags.1?string country_codes:Vector<help.CountryCode> = help.Country;
help.countriesListNotModified#93cc1f32 = help.CountriesList;
help.countriesList#87d0759e countries:Vector<help.Country> hash:int = help.CountriesList;
messageViews#455b853d flags:# views:flags.0?int forwards:flags.1?int replies:flags.2?MessageReplies = MessageViews;
messages.messageViews#b6c4f543 views:Vector<MessageViews> chats:Vector<Chat> users:Vector<User> = messages.MessageViews;
messages.discussionMessage#a6341782 flags:# messages:Vector<Message> max_id:flags.0?int read_inbox_max_id:flags.1?int read_outbox_max_id:flags.2?int unread_count:int chats:Vector<Chat> users:Vector<User> = messages.DiscussionMessage;
messageReplyHeader#afbc09db flags:# reply_to_scheduled:flags.2?true forum_topic:flags.3?true quote:flags.9?true reply_to_msg_id:flags.4?int reply_to_peer_id:flags.0?Peer reply_from:flags.5?MessageFwdHeader reply_media:flags.8?MessageMedia reply_to_top_id:flags.1?int quote_text:flags.6?string quote_entities:flags.7?Vector<MessageEntity> quote_offset:flags.10?int = MessageReplyHeader;
messageReplyStoryHeader#e5af939 peer:Peer story_id:int = MessageReplyHeader;
messageReplies#83d60fc2 flags:# comments:flags.0?true replies:int replies_pts:int recent_repliers:flags.1?Vector<Peer> channel_id:flags.0?long max_id:flags.2?int read_max_id:flags.3?int = MessageReplies;
peerBlocked#e8fd8014 peer_id:Peer date:int = PeerBlocked;
stats.messageStats#7fe91c14 views_graph:StatsGraph reactions_by_emotion_graph:StatsGraph = stats.MessageStats;
groupCallDiscarded#7780bcb4 id:long access_hash:long duration:int = GroupCall;
groupCall#d597650c flags:# join_muted:flags.1?true can_change_join_muted:flags.2?true join_date_asc:flags.6?true schedule_start_subscribed:flags.8?true can_start_video:flags.9?true record_video_active:flags.11?true rtmp_stream:flags.12?true listeners_hidden:flags.13?true id:long access_hash:long participants_count:int title:flags.3?string stream_dc_id:flags.4?int record_start_date:flags.5?int schedule_date:flags.7?int unmuted_video_count:flags.10?int unmuted_video_limit:int version:int = GroupCall;
inputGroupCall#d8aa840f id:long access_hash:long = InputGroupCall;
groupCallParticipant#eba636fe flags:# muted:flags.0?true left:flags.1?true can_self_unmute:flags.2?true just_joined:flags.4?true versioned:flags.5?true min:flags.8?true muted_by_you:flags.9?true volume_by_admin:flags.10?true self:flags.12?true video_joined:flags.15?true peer:Peer date:int active_date:flags.3?int source:int volume:flags.7?int about:flags.11?string raise_hand_rating:flags.13?long video:flags.6?GroupCallParticipantVideo presentation:flags.14?GroupCallParticipantVideo = GroupCallParticipant;
phone.groupCall#9e727aad call:GroupCall participants:Vector<GroupCallParticipant> participants_next_offset:string chats:Vector<Chat> users:Vector<User> = phone.GroupCall;
phone.groupParticipants#f47751b6 count:int participants:Vector<GroupCallParticipant> next_offset:string chats:Vector<Chat> users:Vector<User> version:int = phone.GroupParticipants;
inlineQueryPeerTypeSameBotPM#3081ed9d = InlineQueryPeerType;
inlineQueryPeerTypePM#833c0fac = InlineQueryPeerType;
inlineQueryPeerTypeChat#d766c50a = InlineQueryPeerType;
inlineQueryPeerTypeMegagroup#5ec4be43 = InlineQueryPeerType;
inlineQueryPeerTypeBroadcast#6334ee9a = InlineQueryPeerType;
inlineQueryPeerTypeBotPM#e3b2d0c = InlineQueryPeerType;
messages.historyImport#1662af0b id:long = messages.HistoryImport;
messages.historyImportParsed#5e0fb7b9 flags:# pm:flags.0?true group:flags.1?true title:flags.2?string = messages.HistoryImportParsed;
messages.affectedFoundMessages#ef8d3e6c pts:int pts_count:int offset:int messages:Vector<int> = messages.AffectedFoundMessages;
chatInviteImporter#8c5adfd9 flags:# requested:flags.0?true via_chatlist:flags.3?true user_id:long date:int about:flags.2?string approved_by:flags.1?long = ChatInviteImporter;
messages.exportedChatInvites#bdc62dcc count:int invites:Vector<ExportedChatInvite> users:Vector<User> = messages.ExportedChatInvites;
messages.exportedChatInvite#1871be50 invite:ExportedChatInvite users:Vector<User> = messages.ExportedChatInvite;
messages.exportedChatInviteReplaced#222600ef invite:ExportedChatInvite new_invite:ExportedChatInvite users:Vector<User> = messages.ExportedChatInvite;
messages.chatInviteImporters#81b6b00a count:int importers:Vector<ChatInviteImporter> users:Vector<User> = messages.ChatInviteImporters;
chatAdminWithInvites#f2ecef23 admin_id:long invites_count:int revoked_invites_count:int = ChatAdminWithInvites;
messages.chatAdminsWithInvites#b69b72d7 admins:Vector<ChatAdminWithInvites> users:Vector<User> = messages.ChatAdminsWithInvites;
messages.checkedHistoryImportPeer#a24de717 confirm_text:string = messages.CheckedHistoryImportPeer;
phone.joinAsPeers#afe5623f peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = phone.JoinAsPeers;
phone.exportedGroupCallInvite#204bd158 link:string = phone.ExportedGroupCallInvite;
groupCallParticipantVideoSourceGroup#dcb118b7 semantics:string sources:Vector<int> = GroupCallParticipantVideoSourceGroup;
groupCallParticipantVideo#67753ac8 flags:# paused:flags.0?true endpoint:string source_groups:Vector<GroupCallParticipantVideoSourceGroup> audio_source:flags.1?int = GroupCallParticipantVideo;
stickers.suggestedShortName#85fea03f short_name:string = stickers.SuggestedShortName;
botCommandScopeDefault#2f6cb2ab = BotCommandScope;
botCommandScopeUsers#3c4f04d8 = BotCommandScope;
botCommandScopeChats#6fe1a881 = BotCommandScope;
botCommandScopeChatAdmins#b9aa606a = BotCommandScope;
botCommandScopePeer#db9d897d peer:InputPeer = BotCommandScope;
botCommandScopePeerAdmins#3fd863d1 peer:InputPeer = BotCommandScope;
botCommandScopePeerUser#a1321f3 peer:InputPeer user_id:InputUser = BotCommandScope;
account.resetPasswordFailedWait#e3779861 retry_date:int = account.ResetPasswordResult;
account.resetPasswordRequestedWait#e9effc7d until_date:int = account.ResetPasswordResult;
account.resetPasswordOk#e926d63e = account.ResetPasswordResult;
sponsoredMessage#ed5383f7 flags:# recommended:flags.5?true show_peer_photo:flags.6?true random_id:bytes from_id:flags.3?Peer chat_invite:flags.4?ChatInvite chat_invite_hash:flags.4?string channel_post:flags.2?int start_param:flags.0?string webpage:flags.9?SponsoredWebPage app:flags.10?BotApp message:string entities:flags.1?Vector<MessageEntity> button_text:flags.11?string sponsor_info:flags.7?string additional_info:flags.8?string = SponsoredMessage;
messages.sponsoredMessages#c9ee1d87 flags:# posts_between:flags.0?int messages:Vector<SponsoredMessage> chats:Vector<Chat> users:Vector<User> = messages.SponsoredMessages;
messages.sponsoredMessagesEmpty#1839490f = messages.SponsoredMessages;
searchResultsCalendarPeriod#c9b0539f date:int min_msg_id:int max_msg_id:int count:int = SearchResultsCalendarPeriod;
messages.searchResultsCalendar#147ee23c flags:# inexact:flags.0?true count:int min_date:int min_msg_id:int offset_id_offset:flags.1?int periods:Vector<SearchResultsCalendarPeriod> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.SearchResultsCalendar;
searchResultPosition#7f648b67 msg_id:int date:int offset:int = SearchResultsPosition;
messages.searchResultsPositions#53b22baf count:int positions:Vector<SearchResultsPosition> = messages.SearchResultsPositions;
channels.sendAsPeers#f496b0c6 peers:Vector<SendAsPeer> chats:Vector<Chat> users:Vector<User> = channels.SendAsPeers;
users.userFull#3b6d152e full_user:UserFull chats:Vector<Chat> users:Vector<User> = users.UserFull;
messages.peerSettings#6880b94d settings:PeerSettings chats:Vector<Chat> users:Vector<User> = messages.PeerSettings;
auth.loggedOut#c3a2835f flags:# future_auth_token:flags.0?bytes = auth.LoggedOut;
reactionCount#a3d1cb80 flags:# chosen_order:flags.0?int reaction:Reaction count:int = ReactionCount;
messageReactions#4f2b9479 flags:# min:flags.0?true can_see_list:flags.2?true reactions_as_tags:flags.3?true results:Vector<ReactionCount> recent_reactions:flags.1?Vector<MessagePeerReaction> = MessageReactions;
messages.messageReactionsList#31bd492d flags:# count:int reactions:Vector<MessagePeerReaction> chats:Vector<Chat> users:Vector<User> next_offset:flags.0?string = messages.MessageReactionsList;
availableReaction#c077ec01 flags:# inactive:flags.0?true premium:flags.2?true reaction:string title:string static_icon:Document appear_animation:Document select_animation:Document activate_animation:Document effect_animation:Document around_animation:flags.1?Document center_icon:flags.1?Document = AvailableReaction;
messages.availableReactionsNotModified#9f071957 = messages.AvailableReactions;
messages.availableReactions#768e3aad hash:int reactions:Vector<AvailableReaction> = messages.AvailableReactions;
messagePeerReaction#8c79b63c flags:# big:flags.0?true unread:flags.1?true my:flags.2?true peer_id:Peer date:int reaction:Reaction = MessagePeerReaction;
groupCallStreamChannel#80eb48af channel:int scale:int last_timestamp_ms:long = GroupCallStreamChannel;
phone.groupCallStreamChannels#d0e482b2 channels:Vector<GroupCallStreamChannel> = phone.GroupCallStreamChannels;
phone.groupCallStreamRtmpUrl#2dbf3432 url:string key:string = phone.GroupCallStreamRtmpUrl;
attachMenuBotIconColor#4576f3f0 name:string color:int = AttachMenuBotIconColor;
attachMenuBotIcon#b2a7386b flags:# name:string icon:Document colors:flags.0?Vector<AttachMenuBotIconColor> = AttachMenuBotIcon;
attachMenuBot#d90d8dfe flags:# inactive:flags.0?true has_settings:flags.1?true request_write_access:flags.2?true show_in_attach_menu:flags.3?true show_in_side_menu:flags.4?true side_menu_disclaimer_needed:flags.5?true bot_id:long short_name:string peer_types:flags.3?Vector<AttachMenuPeerType> icons:Vector<AttachMenuBotIcon> = AttachMenuBot;
attachMenuBotsNotModified#f1d88a5c = AttachMenuBots;
attachMenuBots#3c4301c0 hash:long bots:Vector<AttachMenuBot> users:Vector<User> = AttachMenuBots;
attachMenuBotsBot#93bf667f bot:AttachMenuBot users:Vector<User> = AttachMenuBotsBot;
webViewResultUrl#c14557c query_id:long url:string = WebViewResult;
simpleWebViewResultUrl#882f76bb url:string = SimpleWebViewResult;
webViewMessageSent#c94511c flags:# msg_id:flags.0?InputBotInlineMessageID = WebViewMessageSent;
botMenuButtonDefault#7533a588 = BotMenuButton;
botMenuButtonCommands#4258c205 = BotMenuButton;
botMenuButton#c7b57ce6 text:string url:string = BotMenuButton;
account.savedRingtonesNotModified#fbf6e8b1 = account.SavedRingtones;
account.savedRingtones#c1e92cc5 hash:long ringtones:Vector<Document> = account.SavedRingtones;
notificationSoundDefault#97e8bebe = NotificationSound;
notificationSoundNone#6f0c34df = NotificationSound;
notificationSoundLocal#830b9ae4 title:string data:string = NotificationSound;
notificationSoundRingtone#ff6c8049 id:long = NotificationSound;
account.savedRingtone#b7263f6d = account.SavedRingtone;
account.savedRingtoneConverted#1f307eb7 document:Document = account.SavedRingtone;
attachMenuPeerTypeSameBotPM#7d6be90e = AttachMenuPeerType;
attachMenuPeerTypeBotPM#c32bfa1a = AttachMenuPeerType;
attachMenuPeerTypePM#f146d31f = AttachMenuPeerType;
attachMenuPeerTypeChat#509113f = AttachMenuPeerType;
attachMenuPeerTypeBroadcast#7bfbdefc = AttachMenuPeerType;
inputInvoiceMessage#c5b56859 peer:InputPeer msg_id:int = InputInvoice;
inputInvoiceSlug#c326caef slug:string = InputInvoice;
inputInvoicePremiumGiftCode#98986c0d purpose:InputStorePaymentPurpose option:PremiumGiftCodeOption = InputInvoice;
payments.exportedInvoice#aed0cbd9 url:string = payments.ExportedInvoice;
messages.transcribedAudio#cfb9d957 flags:# pending:flags.0?true transcription_id:long text:string trial_remains_num:flags.1?int trial_remains_until_date:flags.1?int = messages.TranscribedAudio;
help.premiumPromo#5334759c status_text:string status_entities:Vector<MessageEntity> video_sections:Vector<string> videos:Vector<Document> period_options:Vector<PremiumSubscriptionOption> users:Vector<User> = help.PremiumPromo;
inputStorePaymentPremiumSubscription#a6751e66 flags:# restore:flags.0?true upgrade:flags.1?true = InputStorePaymentPurpose;
inputStorePaymentGiftPremium#616f7fe8 user_id:InputUser currency:string amount:long = InputStorePaymentPurpose;
inputStorePaymentPremiumGiftCode#a3805f3f flags:# users:Vector<InputUser> boost_peer:flags.0?InputPeer currency:string amount:long = InputStorePaymentPurpose;
inputStorePaymentPremiumGiveaway#160544ca flags:# only_new_subscribers:flags.0?true winners_are_visible:flags.3?true boost_peer:InputPeer additional_peers:flags.1?Vector<InputPeer> countries_iso2:flags.2?Vector<string> prize_description:flags.4?string random_id:long until_date:int currency:string amount:long = InputStorePaymentPurpose;
premiumGiftOption#74c34319 flags:# months:int currency:string amount:long bot_url:string store_product:flags.0?string = PremiumGiftOption;
paymentFormMethod#88f8f21b url:string title:string = PaymentFormMethod;
emojiStatusEmpty#2de11aae = EmojiStatus;
emojiStatus#929b619d document_id:long = EmojiStatus;
emojiStatusUntil#fa30a8c7 document_id:long until:int = EmojiStatus;
account.emojiStatusesNotModified#d08ce645 = account.EmojiStatuses;
account.emojiStatuses#90c467d1 hash:long statuses:Vector<EmojiStatus> = account.EmojiStatuses;
reactionEmpty#79f5d419 = Reaction;
reactionEmoji#1b2286b8 emoticon:string = Reaction;
reactionCustomEmoji#8935fc73 document_id:long = Reaction;
chatReactionsNone#eafc32bc = ChatReactions;
chatReactionsAll#52928bca flags:# allow_custom:flags.0?true = ChatReactions;
chatReactionsSome#661d4037 reactions:Vector<Reaction> = ChatReactions;
messages.reactionsNotModified#b06fdbdf = messages.Reactions;
messages.reactions#eafdf716 hash:long reactions:Vector<Reaction> = messages.Reactions;
emailVerifyPurposeLoginSetup#4345be73 phone_number:string phone_code_hash:string = EmailVerifyPurpose;
emailVerifyPurposeLoginChange#527d22eb = EmailVerifyPurpose;
emailVerifyPurposePassport#bbf51685 = EmailVerifyPurpose;
emailVerificationCode#922e55a9 code:string = EmailVerification;
emailVerificationGoogle#db909ec2 token:string = EmailVerification;
emailVerificationApple#96d074fd token:string = EmailVerification;
account.emailVerified#2b96cd1b email:string = account.EmailVerified;
account.emailVerifiedLogin#e1bb0d61 email:string sent_code:auth.SentCode = account.EmailVerified;
premiumSubscriptionOption#5f2d1df2 flags:# current:flags.1?true can_purchase_upgrade:flags.2?true transaction:flags.3?string months:int currency:string amount:long bot_url:string store_product:flags.0?string = PremiumSubscriptionOption;
sendAsPeer#b81c7034 flags:# premium_required:flags.0?true peer:Peer = SendAsPeer;
messageExtendedMediaPreview#ad628cc8 flags:# w:flags.0?int h:flags.0?int thumb:flags.1?PhotoSize video_duration:flags.2?int = MessageExtendedMedia;
messageExtendedMedia#ee479c64 media:MessageMedia = MessageExtendedMedia;
stickerKeyword#fcfeb29c document_id:long keyword:Vector<string> = StickerKeyword;
username#b4073647 flags:# editable:flags.0?true active:flags.1?true username:string = Username;
forumTopicDeleted#23f109b id:int = ForumTopic;
forumTopic#71701da9 flags:# my:flags.1?true closed:flags.2?true pinned:flags.3?true short:flags.5?true hidden:flags.6?true id:int date:int title:string icon_color:int icon_emoji_id:flags.0?long top_message:int read_inbox_max_id:int read_outbox_max_id:int unread_count:int unread_mentions_count:int unread_reactions_count:int from_id:Peer notify_settings:PeerNotifySettings draft:flags.4?DraftMessage = ForumTopic;
messages.forumTopics#367617d3 flags:# order_by_create_date:flags.0?true count:int topics:Vector<ForumTopic> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> pts:int = messages.ForumTopics;
defaultHistoryTTL#43b46b20 period:int = DefaultHistoryTTL;
exportedContactToken#41bf109b url:string expires:int = ExportedContactToken;
requestPeerTypeUser#5f3b8a00 flags:# bot:flags.0?Bool premium:flags.1?Bool = RequestPeerType;
requestPeerTypeChat#c9f06e1b flags:# creator:flags.0?true bot_participant:flags.5?true has_username:flags.3?Bool forum:flags.4?Bool user_admin_rights:flags.1?ChatAdminRights bot_admin_rights:flags.2?ChatAdminRights = RequestPeerType;
requestPeerTypeBroadcast#339bef6c flags:# creator:flags.0?true has_username:flags.3?Bool user_admin_rights:flags.1?ChatAdminRights bot_admin_rights:flags.2?ChatAdminRights = RequestPeerType;
emojiListNotModified#481eadfa = EmojiList;
emojiList#7a1e11d1 hash:long document_id:Vector<long> = EmojiList;
emojiGroup#7a9abda9 title:string icon_emoji_id:long emoticons:Vector<string> = EmojiGroup;
messages.emojiGroupsNotModified#6fb4ad87 = messages.EmojiGroups;
messages.emojiGroups#881fb94b hash:int groups:Vector<EmojiGroup> = messages.EmojiGroups;
textWithEntities#751f3146 text:string entities:Vector<MessageEntity> = TextWithEntities;
messages.translateResult#33db32f8 result:Vector<TextWithEntities> = messages.TranslatedText;
autoSaveSettings#c84834ce flags:# photos:flags.0?true videos:flags.1?true video_max_size:flags.2?long = AutoSaveSettings;
autoSaveException#81602d47 peer:Peer settings:AutoSaveSettings = AutoSaveException;
account.autoSaveSettings#4c3e069d users_settings:AutoSaveSettings chats_settings:AutoSaveSettings broadcasts_settings:AutoSaveSettings exceptions:Vector<AutoSaveException> chats:Vector<Chat> users:Vector<User> = account.AutoSaveSettings;
help.appConfigNotModified#7cde641d = help.AppConfig;
help.appConfig#dd18782e hash:int config:JSONValue = help.AppConfig;
inputBotAppID#a920bd7a id:long access_hash:long = InputBotApp;
inputBotAppShortName#908c0407 bot_id:InputUser short_name:string = InputBotApp;
botAppNotModified#5da674b7 = BotApp;
botApp#95fcd1d6 flags:# id:long access_hash:long short_name:string title:string description:string photo:Photo document:flags.0?Document hash:long = BotApp;
messages.botApp#eb50adf5 flags:# inactive:flags.0?true request_write_access:flags.1?true has_settings:flags.2?true app:BotApp = messages.BotApp;
appWebViewResultUrl#3c1b4f0d url:string = AppWebViewResult;
inlineBotWebView#b57295d5 text:string url:string = InlineBotWebView;
readParticipantDate#4a4ff172 user_id:long date:int = ReadParticipantDate;
inputChatlistDialogFilter#f3e0da33 filter_id:int = InputChatlist;
exportedChatlistInvite#c5181ac flags:# title:string url:string peers:Vector<Peer> = ExportedChatlistInvite;
chatlists.exportedChatlistInvite#10e6e3a6 filter:DialogFilter invite:ExportedChatlistInvite = chatlists.ExportedChatlistInvite;
chatlists.exportedInvites#10ab6dc7 invites:Vector<ExportedChatlistInvite> chats:Vector<Chat> users:Vector<User> = chatlists.ExportedInvites;
chatlists.chatlistInviteAlready#fa87f659 filter_id:int missing_peers:Vector<Peer> already_peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = chatlists.ChatlistInvite;
chatlists.chatlistInvite#1dcd839d flags:# title:string emoticon:flags.0?string peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = chatlists.ChatlistInvite;
chatlists.chatlistUpdates#93bd878d missing_peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = chatlists.ChatlistUpdates;
bots.botInfo#e8a775b0 name:string about:string description:string = bots.BotInfo;
messagePeerVote#b6cc2d5c peer:Peer option:bytes date:int = MessagePeerVote;
messagePeerVoteInputOption#74cda504 peer:Peer date:int = MessagePeerVote;
messagePeerVoteMultiple#4628f6e6 peer:Peer options:Vector<bytes> date:int = MessagePeerVote;
sponsoredWebPage#3db8ec63 flags:# url:string site_name:string photo:flags.0?Photo = SponsoredWebPage;
storyViews#8d595cd6 flags:# has_viewers:flags.1?true views_count:int forwards_count:flags.2?int reactions:flags.3?Vector<ReactionCount> reactions_count:flags.4?int recent_viewers:flags.0?Vector<long> = StoryViews;
storyItemDeleted#51e6ee4f id:int = StoryItem;
storyItemSkipped#ffadc913 flags:# close_friends:flags.8?true id:int date:int expire_date:int = StoryItem;
storyItem#79b26a24 flags:# pinned:flags.5?true public:flags.7?true close_friends:flags.8?true min:flags.9?true noforwards:flags.10?true edited:flags.11?true contacts:flags.12?true selected_contacts:flags.13?true out:flags.16?true id:int date:int from_id:flags.18?Peer fwd_from:flags.17?StoryFwdHeader expire_date:int caption:flags.0?string entities:flags.1?Vector<MessageEntity> media:MessageMedia media_areas:flags.14?Vector<MediaArea> privacy:flags.2?Vector<PrivacyRule> views:flags.3?StoryViews sent_reaction:flags.15?Reaction = StoryItem;
stories.allStoriesNotModified#1158fe3e flags:# state:string stealth_mode:StoriesStealthMode = stories.AllStories;
stories.allStories#6efc5e81 flags:# has_more:flags.0?true count:int state:string peer_stories:Vector<PeerStories> chats:Vector<Chat> users:Vector<User> stealth_mode:StoriesStealthMode = stories.AllStories;
stories.stories#5dd8c3c8 count:int stories:Vector<StoryItem> chats:Vector<Chat> users:Vector<User> = stories.Stories;
storyView#b0bdeac5 flags:# blocked:flags.0?true blocked_my_stories_from:flags.1?true user_id:long date:int reaction:flags.2?Reaction = StoryView;
storyViewPublicForward#9083670b flags:# blocked:flags.0?true blocked_my_stories_from:flags.1?true message:Message = StoryView;
storyViewPublicRepost#bd74cf49 flags:# blocked:flags.0?true blocked_my_stories_from:flags.1?true peer_id:Peer story:StoryItem = StoryView;
stories.storyViewsList#59d78fc5 flags:# count:int views_count:int forwards_count:int reactions_count:int views:Vector<StoryView> chats:Vector<Chat> users:Vector<User> next_offset:flags.0?string = stories.StoryViewsList;
stories.storyViews#de9eed1d views:Vector<StoryViews> users:Vector<User> = stories.StoryViews;
inputReplyToMessage#22c0f6d5 flags:# reply_to_msg_id:int top_msg_id:flags.0?int reply_to_peer_id:flags.1?InputPeer quote_text:flags.2?string quote_entities:flags.3?Vector<MessageEntity> quote_offset:flags.4?int = InputReplyTo;
inputReplyToStory#5881323a peer:InputPeer story_id:int = InputReplyTo;
exportedStoryLink#3fc9053b link:string = ExportedStoryLink;
storiesStealthMode#712e27fd flags:# active_until_date:flags.0?int cooldown_until_date:flags.1?int = StoriesStealthMode;
mediaAreaCoordinates#3d1ea4e x:double y:double w:double h:double rotation:double = MediaAreaCoordinates;
mediaAreaVenue#be82db9c coordinates:MediaAreaCoordinates geo:GeoPoint title:string address:string provider:string venue_id:string venue_type:string = MediaArea;
inputMediaAreaVenue#b282217f coordinates:MediaAreaCoordinates query_id:long result_id:string = MediaArea;
mediaAreaGeoPoint#df8b3b22 coordinates:MediaAreaCoordinates geo:GeoPoint = MediaArea;
mediaAreaSuggestedReaction#14455871 flags:# dark:flags.0?true flipped:flags.1?true coordinates:MediaAreaCoordinates reaction:Reaction = MediaArea;
mediaAreaChannelPost#770416af coordinates:MediaAreaCoordinates channel_id:long msg_id:int = MediaArea;
inputMediaAreaChannelPost#2271f2bf coordinates:MediaAreaCoordinates channel:InputChannel msg_id:int = MediaArea;
peerStories#9a35e999 flags:# peer:Peer max_read_id:flags.0?int stories:Vector<StoryItem> = PeerStories;
stories.peerStories#cae68768 stories:PeerStories chats:Vector<Chat> users:Vector<User> = stories.PeerStories;
messages.webPage#fd5e12bd webpage:WebPage chats:Vector<Chat> users:Vector<User> = messages.WebPage;
premiumGiftCodeOption#257e962b flags:# users:int months:int store_product:flags.0?string store_quantity:flags.1?int currency:string amount:long = PremiumGiftCodeOption;
payments.checkedGiftCode#284a1096 flags:# via_giveaway:flags.2?true from_id:flags.4?Peer giveaway_msg_id:flags.3?int to_id:flags.0?long date:int months:int used_date:flags.1?int chats:Vector<Chat> users:Vector<User> = payments.CheckedGiftCode;
payments.giveawayInfo#4367daa0 flags:# participating:flags.0?true preparing_results:flags.3?true start_date:int joined_too_early_date:flags.1?int admin_disallowed_chat_id:flags.2?long disallowed_country:flags.4?string = payments.GiveawayInfo;
payments.giveawayInfoResults#cd5570 flags:# winner:flags.0?true refunded:flags.1?true start_date:int gift_code_slug:flags.0?string finish_date:int winners_count:int activated_count:int = payments.GiveawayInfo;
prepaidGiveaway#b2539d54 id:long months:int quantity:int date:int = PrepaidGiveaway;
boost#2a1c8c71 flags:# gift:flags.1?true giveaway:flags.2?true unclaimed:flags.3?true id:string user_id:flags.0?long giveaway_msg_id:flags.2?int date:int expires:int used_gift_slug:flags.4?string multiplier:flags.5?int = Boost;
premium.boostsList#86f8613c flags:# count:int boosts:Vector<Boost> next_offset:flags.0?string users:Vector<User> = premium.BoostsList;
myBoost#c448415c flags:# slot:int peer:flags.0?Peer date:int expires:int cooldown_until_date:flags.1?int = MyBoost;
premium.myBoosts#9ae228e2 my_boosts:Vector<MyBoost> chats:Vector<Chat> users:Vector<User> = premium.MyBoosts;
premium.boostsStatus#4959427a flags:# my_boost:flags.2?true level:int current_level_boosts:int boosts:int gift_boosts:flags.4?int next_level_boosts:flags.0?int premium_audience:flags.1?StatsPercentValue boost_url:string prepaid_giveaways:flags.3?Vector<PrepaidGiveaway> my_boost_slots:flags.2?Vector<int> = premium.BoostsStatus;
storyFwdHeader#b826e150 flags:# modified:flags.3?true from:flags.0?Peer from_name:flags.1?string story_id:flags.2?int = StoryFwdHeader;
postInteractionCountersMessage#e7058e7f msg_id:int views:int forwards:int reactions:int = PostInteractionCounters;
postInteractionCountersStory#8a480e27 story_id:int views:int forwards:int reactions:int = PostInteractionCounters;
stats.storyStats#50cd067c views_graph:StatsGraph reactions_by_emotion_graph:StatsGraph = stats.StoryStats;
publicForwardMessage#1f2bf4a message:Message = PublicForward;
publicForwardStory#edf3add0 peer:Peer story:StoryItem = PublicForward;
stats.publicForwards#93037e20 flags:# count:int forwards:Vector<PublicForward> next_offset:flags.0?string chats:Vector<Chat> users:Vector<User> = stats.PublicForwards;
peerColor#b54b5acf flags:# color:flags.0?int background_emoji_id:flags.1?long = PeerColor;
help.peerColorSet#26219a58 colors:Vector<int> = help.PeerColorSet;
help.peerColorProfileSet#767d61eb palette_colors:Vector<int> bg_colors:Vector<int> story_colors:Vector<int> = help.PeerColorSet;
help.peerColorOption#adec6ebe flags:# hidden:flags.0?true color_id:int colors:flags.1?help.PeerColorSet dark_colors:flags.2?help.PeerColorSet channel_min_level:flags.3?int group_min_level:flags.4?int = help.PeerColorOption;
help.peerColorsNotModified#2ba1f5ce = help.PeerColors;
help.peerColors#f8ed08 hash:int colors:Vector<help.PeerColorOption> = help.PeerColors;
storyReaction#6090d6d5 peer_id:Peer date:int reaction:Reaction = StoryReaction;
storyReactionPublicForward#bbab2643 message:Message = StoryReaction;
storyReactionPublicRepost#cfcd0f13 peer_id:Peer story:StoryItem = StoryReaction;
stories.storyReactionsList#aa5f789c flags:# count:int reactions:Vector<StoryReaction> chats:Vector<Chat> users:Vector<User> next_offset:flags.0?string = stories.StoryReactionsList;
savedDialog#bd87cb6c flags:# pinned:flags.2?true peer:Peer top_message:int = SavedDialog;
messages.savedDialogs#f83ae221 dialogs:Vector<SavedDialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.SavedDialogs;
messages.savedDialogsSlice#44ba9dd9 count:int dialogs:Vector<SavedDialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.SavedDialogs;
messages.savedDialogsNotModified#c01f6fe8 count:int = messages.SavedDialogs;
savedReactionTag#cb6ff828 flags:# reaction:Reaction title:flags.0?string count:int = SavedReactionTag;
messages.savedReactionTagsNotModified#889b59ef = messages.SavedReactionTags;
messages.savedReactionTags#3259950a tags:Vector<SavedReactionTag> hash:long = messages.SavedReactionTags;
outboxReadDate#3bb842ac date:int = OutboxReadDate;
---functions---
invokeAfterMsg#cb9f372d {X:Type} msg_id:long query:!X = X;
initConnection#c1cd5ea9 {X:Type} flags:# api_id:int device_model:string system_version:string app_version:string system_lang_code:string lang_pack:string lang_code:string proxy:flags.0?InputClientProxy params:flags.1?JSONValue query:!X = X;
invokeWithLayer#da9b0d0d {X:Type} layer:int query:!X = X;
auth.sendCode#a677244f phone_number:string api_id:int api_hash:string settings:CodeSettings = auth.SentCode;
auth.signUp#aac7b717 flags:# no_joined_notifications:flags.0?true phone_number:string phone_code_hash:string first_name:string last_name:string = auth.Authorization;
auth.signIn#8d52a951 flags:# phone_number:string phone_code_hash:string phone_code:flags.0?string email_verification:flags.1?EmailVerification = auth.Authorization;
auth.logOut#3e72ba19 = auth.LoggedOut;
auth.resetAuthorizations#9fab0d1a = Bool;
auth.exportAuthorization#e5bfffcd dc_id:int = auth.ExportedAuthorization;
auth.importAuthorization#a57a7dad id:long bytes:bytes = auth.Authorization;
auth.bindTempAuthKey#cdd42a05 perm_auth_key_id:long nonce:long expires_at:int encrypted_message:bytes = Bool;
auth.checkPassword#d18b4d16 password:InputCheckPasswordSRP = auth.Authorization;
auth.requestPasswordRecovery#d897bc66 = auth.PasswordRecovery;
auth.resendCode#3ef1a9bf phone_number:string phone_code_hash:string = auth.SentCode;
auth.cancelCode#1f040578 phone_number:string phone_code_hash:string = Bool;
auth.dropTempAuthKeys#8e48a188 except_auth_keys:Vector<long> = Bool;
auth.exportLoginToken#b7e085fe api_id:int api_hash:string except_ids:Vector<long> = auth.LoginToken;
auth.importLoginToken#95ac5ce4 token:bytes = auth.LoginToken;
auth.importWebTokenAuthorization#2db873a9 api_id:int api_hash:string web_auth_token:string = auth.Authorization;
account.registerDevice#ec86017a flags:# no_muted:flags.0?true token_type:int token:string app_sandbox:Bool secret:bytes other_uids:Vector<long> = Bool;
account.unregisterDevice#6a0d3206 token_type:int token:string other_uids:Vector<long> = Bool;
account.updateNotifySettings#84be5b93 peer:InputNotifyPeer settings:InputPeerNotifySettings = Bool;
account.getNotifySettings#12b3ad31 peer:InputNotifyPeer = PeerNotifySettings;
account.updateProfile#78515775 flags:# first_name:flags.0?string last_name:flags.1?string about:flags.2?string = User;
account.updateStatus#6628562c offline:Bool = Bool;
account.getWallPapers#7967d36 hash:long = account.WallPapers;
account.reportPeer#c5ba3d86 peer:InputPeer reason:ReportReason message:string = Bool;
account.checkUsername#2714d86c username:string = Bool;
account.updateUsername#3e0bdd7c username:string = User;
account.getPrivacy#dadbc950 key:InputPrivacyKey = account.PrivacyRules;
account.setPrivacy#c9f81ce8 key:InputPrivacyKey rules:Vector<InputPrivacyRule> = account.PrivacyRules;
account.getAuthorizations#e320c158 = account.Authorizations;
account.resetAuthorization#df77f3bc hash:long = Bool;
account.getPassword#548a30f5 = account.Password;
account.getPasswordSettings#9cd4eaf9 password:InputCheckPasswordSRP = account.PasswordSettings;
account.updatePasswordSettings#a59b102f password:InputCheckPasswordSRP new_settings:account.PasswordInputSettings = Bool;
account.sendConfirmPhoneCode#1b3faa88 hash:string settings:CodeSettings = auth.SentCode;
account.confirmPhone#5f2178c3 phone_code_hash:string phone_code:string = Bool;
account.getTmpPassword#449e0b51 password:InputCheckPasswordSRP period:int = account.TmpPassword;
account.getWebAuthorizations#182e6d6f = account.WebAuthorizations;
account.resetWebAuthorization#2d01b9ef hash:long = Bool;
account.resetWebAuthorizations#682d2594 = Bool;
account.sendVerifyPhoneCode#a5a356f9 phone_number:string settings:CodeSettings = auth.SentCode;
account.confirmPasswordEmail#8fdf1920 code:string = Bool;
account.getContactSignUpNotification#9f07c728 = Bool;
account.setContactSignUpNotification#cff43f61 silent:Bool = Bool;
account.getNotifyExceptions#53577479 flags:# compare_sound:flags.1?true compare_stories:flags.2?true peer:flags.0?InputNotifyPeer = Updates;
account.uploadWallPaper#e39a8f03 flags:# for_chat:flags.0?true file:InputFile mime_type:string settings:WallPaperSettings = WallPaper;
account.setContentSettings#b574b16b flags:# sensitive_enabled:flags.0?true = Bool;
account.getContentSettings#8b9b4dae = account.ContentSettings;
account.getGlobalPrivacySettings#eb2b4cf6 = GlobalPrivacySettings;
account.setGlobalPrivacySettings#1edaaac2 settings:GlobalPrivacySettings = GlobalPrivacySettings;
account.reportProfilePhoto#fa8cc6f5 peer:InputPeer photo_id:InputPhoto reason:ReportReason message:string = Bool;
account.setAuthorizationTTL#bf899aa0 authorization_ttl_days:int = Bool;
account.changeAuthorizationSettings#40f48462 flags:# confirmed:flags.3?true hash:long encrypted_requests_disabled:flags.0?Bool call_requests_disabled:flags.1?Bool = Bool;
account.updateEmojiStatus#fbd3de6b emoji_status:EmojiStatus = Bool;
account.getRecentEmojiStatuses#f578105 hash:long = account.EmojiStatuses;
account.reorderUsernames#ef500eab order:Vector<string> = Bool;
account.toggleUsername#58d6b376 username:string active:Bool = Bool;
users.getUsers#d91a548 id:Vector<InputUser> = Vector<User>;
users.getFullUser#b60f5918 id:InputUser = users.UserFull;
contacts.getContacts#5dd69e12 hash:long = contacts.Contacts;
contacts.importContacts#2c800be5 contacts:Vector<InputContact> = contacts.ImportedContacts;
contacts.deleteContacts#96a0e00 id:Vector<InputUser> = Updates;
contacts.block#2e2e8734 flags:# my_stories_from:flags.0?true id:InputPeer = Bool;
contacts.unblock#b550d328 flags:# my_stories_from:flags.0?true id:InputPeer = Bool;
contacts.getBlocked#9a868f80 flags:# my_stories_from:flags.0?true offset:int limit:int = contacts.Blocked;
contacts.search#11f812d8 q:string limit:int = contacts.Found;
contacts.resolveUsername#f93ccba3 username:string = contacts.ResolvedPeer;
contacts.getTopPeers#973478b6 flags:# correspondents:flags.0?true bots_pm:flags.1?true bots_inline:flags.2?true phone_calls:flags.3?true forward_users:flags.4?true forward_chats:flags.5?true groups:flags.10?true channels:flags.15?true offset:int limit:int hash:long = contacts.TopPeers;
contacts.addContact#e8f463d0 flags:# add_phone_privacy_exception:flags.0?true id:InputUser first_name:string last_name:string phone:string = Updates;
contacts.resolvePhone#8af94344 phone:string = contacts.ResolvedPeer;
contacts.editCloseFriends#ba6705f0 id:Vector<long> = Bool;
messages.getMessages#63c66506 id:Vector<InputMessage> = messages.Messages;
messages.getDialogs#a0f4cb4f flags:# exclude_pinned:flags.0?true folder_id:flags.1?int offset_date:int offset_id:int offset_peer:InputPeer limit:int hash:long = messages.Dialogs;
messages.getHistory#4423e6c5 peer:InputPeer offset_id:int offset_date:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;
messages.search#29ee847a flags:# peer:InputPeer q:string from_id:flags.0?InputPeer saved_peer_id:flags.2?InputPeer saved_reaction:flags.3?Vector<Reaction> top_msg_id:flags.1?int filter:MessagesFilter min_date:int max_date:int offset_id:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;
messages.readHistory#e306d3a peer:InputPeer max_id:int = messages.AffectedMessages;
messages.deleteHistory#b08f922a flags:# just_clear:flags.0?true revoke:flags.1?true peer:InputPeer max_id:int min_date:flags.2?int max_date:flags.3?int = messages.AffectedHistory;
messages.deleteMessages#e58e95d2 flags:# revoke:flags.0?true id:Vector<int> = messages.AffectedMessages;
messages.receivedMessages#5a954c0 max_id:int = Vector<ReceivedNotifyMessage>;
messages.setTyping#58943ee2 flags:# peer:InputPeer top_msg_id:flags.0?int action:SendMessageAction = Bool;
messages.sendMessage#280d096f flags:# no_webpage:flags.1?true silent:flags.5?true background:flags.6?true clear_draft:flags.7?true noforwards:flags.14?true update_stickersets_order:flags.15?true invert_media:flags.16?true peer:InputPeer reply_to:flags.0?InputReplyTo message:string random_id:long reply_markup:flags.2?ReplyMarkup entities:flags.3?Vector<MessageEntity> schedule_date:flags.10?int send_as:flags.13?InputPeer = Updates;
messages.sendMedia#72ccc23d flags:# silent:flags.5?true background:flags.6?true clear_draft:flags.7?true noforwards:flags.14?true update_stickersets_order:flags.15?true invert_media:flags.16?true peer:InputPeer reply_to:flags.0?InputReplyTo media:InputMedia message:string random_id:long reply_markup:flags.2?ReplyMarkup entities:flags.3?Vector<MessageEntity> schedule_date:flags.10?int send_as:flags.13?InputPeer = Updates;
messages.forwardMessages#c661bbc4 flags:# silent:flags.5?true background:flags.6?true with_my_score:flags.8?true drop_author:flags.11?true drop_media_captions:flags.12?true noforwards:flags.14?true from_peer:InputPeer id:Vector<int> random_id:Vector<long> to_peer:InputPeer top_msg_id:flags.9?int schedule_date:flags.10?int send_as:flags.13?InputPeer = Updates;
messages.reportSpam#cf1592db peer:InputPeer = Bool;
messages.getPeerSettings#efd9a6a2 peer:InputPeer = messages.PeerSettings;
messages.report#8953ab4e peer:InputPeer id:Vector<int> reason:ReportReason message:string = Bool;
messages.getChats#49e9528f id:Vector<long> = messages.Chats;
messages.getFullChat#aeb00b34 chat_id:long = messages.ChatFull;
messages.editChatTitle#73783ffd chat_id:long title:string = Updates;
messages.editChatPhoto#35ddd674 chat_id:long photo:InputChatPhoto = Updates;
messages.addChatUser#f24753e3 chat_id:long user_id:InputUser fwd_limit:int = Updates;
messages.deleteChatUser#a2185cab flags:# revoke_history:flags.0?true chat_id:long user_id:InputUser = Updates;
messages.createChat#34a818 flags:# users:Vector<InputUser> title:string ttl_period:flags.0?int = Updates;
messages.getDhConfig#26cf8950 version:int random_length:int = messages.DhConfig;
messages.readMessageContents#36a73f77 id:Vector<int> = messages.AffectedMessages;
messages.getStickers#d5a5d3a1 emoticon:string hash:long = messages.Stickers;
messages.getAllStickers#b8a0a1a8 hash:long = messages.AllStickers;
messages.getWebPagePreview#8b68b0cc flags:# message:string entities:flags.3?Vector<MessageEntity> = MessageMedia;
messages.exportChatInvite#a02ce5d5 flags:# legacy_revoke_permanent:flags.2?true request_needed:flags.3?true peer:InputPeer expire_date:flags.0?int usage_limit:flags.1?int title:flags.4?string = ExportedChatInvite;
messages.checkChatInvite#3eadb1bb hash:string = ChatInvite;
messages.importChatInvite#6c50051c hash:string = Updates;
messages.getStickerSet#c8a0ec74 stickerset:InputStickerSet hash:int = messages.StickerSet;
messages.installStickerSet#c78fe460 stickerset:InputStickerSet archived:Bool = messages.StickerSetInstallResult;
messages.uninstallStickerSet#f96e55de stickerset:InputStickerSet = Bool;
messages.startBot#e6df7378 bot:InputUser peer:InputPeer random_id:long start_param:string = Updates;
messages.getMessagesViews#5784d3e1 peer:InputPeer id:Vector<int> increment:Bool = messages.MessageViews;
messages.migrateChat#a2875319 chat_id:long = Updates;
messages.searchGlobal#4bc6589a flags:# folder_id:flags.0?int q:string filter:MessagesFilter min_date:int max_date:int offset_rate:int offset_peer:InputPeer offset_id:int limit:int = messages.Messages;
messages.getDocumentByHash#b1f2061f sha256:bytes size:long mime_type:string = Document;
messages.getSavedGifs#5cf09635 hash:long = messages.SavedGifs;
messages.saveGif#327a30cb id:InputDocument unsave:Bool = Bool;
messages.getInlineBotResults#514e999d flags:# bot:InputUser peer:InputPeer geo_point:flags.0?InputGeoPoint query:string offset:string = messages.BotResults;
messages.sendInlineBotResult#f7bc68ba flags:# silent:flags.5?true background:flags.6?true clear_draft:flags.7?true hide_via:flags.11?true peer:InputPeer reply_to:flags.0?InputReplyTo random_id:long query_id:long id:string schedule_date:flags.10?int send_as:flags.13?InputPeer = Updates;
messages.editMessage#48f71778 flags:# no_webpage:flags.1?true invert_media:flags.16?true peer:InputPeer id:int message:flags.11?string media:flags.14?InputMedia reply_markup:flags.2?ReplyMarkup entities:flags.3?Vector<MessageEntity> schedule_date:flags.15?int = Updates;
messages.getBotCallbackAnswer#9342ca07 flags:# game:flags.1?true peer:InputPeer msg_id:int data:flags.0?bytes password:flags.2?InputCheckPasswordSRP = messages.BotCallbackAnswer;
messages.getPeerDialogs#e470bcfd peers:Vector<InputDialogPeer> = messages.PeerDialogs;
messages.saveDraft#7ff3b806 flags:# no_webpage:flags.1?true invert_media:flags.6?true reply_to:flags.4?InputReplyTo peer:InputPeer message:string entities:flags.3?Vector<MessageEntity> media:flags.5?InputMedia = Bool;
messages.getFeaturedStickers#64780b14 hash:long = messages.FeaturedStickers;
messages.readFeaturedStickers#5b118126 id:Vector<long> = Bool;
messages.getRecentStickers#9da9403b flags:# attached:flags.0?true hash:long = messages.RecentStickers;
messages.saveRecentSticker#392718f8 flags:# attached:flags.0?true id:InputDocument unsave:Bool = Bool;
messages.clearRecentStickers#8999602d flags:# attached:flags.0?true = Bool;
messages.getCommonChats#e40ca104 user_id:InputUser max_id:long limit:int = messages.Chats;
messages.getWebPage#8d9692a3 url:string hash:int = messages.WebPage;
messages.toggleDialogPin#a731e257 flags:# pinned:flags.0?true peer:InputDialogPeer = Bool;
messages.getPinnedDialogs#d6b94df2 folder_id:int = messages.PeerDialogs;
messages.uploadMedia#519bc2b1 peer:InputPeer media:InputMedia = MessageMedia;
messages.getFavedStickers#4f1aaa9 hash:long = messages.FavedStickers;
messages.faveSticker#b9ffc55b id:InputDocument unfave:Bool = Bool;
messages.getUnreadMentions#f107e790 flags:# peer:InputPeer top_msg_id:flags.0?int offset_id:int add_offset:int limit:int max_id:int min_id:int = messages.Messages;
messages.readMentions#36e5bf4d flags:# peer:InputPeer top_msg_id:flags.0?int = messages.AffectedHistory;
messages.sendMultiMedia#456e8987 flags:# silent:flags.5?true background:flags.6?true clear_draft:flags.7?true noforwards:flags.14?true update_stickersets_order:flags.15?true invert_media:flags.16?true peer:InputPeer reply_to:flags.0?InputReplyTo multi_media:Vector<InputSingleMedia> schedule_date:flags.10?int send_as:flags.13?InputPeer = Updates;
messages.searchStickerSets#35705b8a flags:# exclude_featured:flags.0?true q:string hash:long = messages.FoundStickerSets;
messages.markDialogUnread#c286d98f flags:# unread:flags.0?true peer:InputDialogPeer = Bool;
messages.updatePinnedMessage#d2aaf7ec flags:# silent:flags.0?true unpin:flags.1?true pm_oneside:flags.2?true peer:InputPeer id:int = Updates;
messages.sendVote#10ea6184 peer:InputPeer msg_id:int options:Vector<bytes> = Updates;
messages.getOnlines#6e2be050 peer:InputPeer = ChatOnlines;
messages.editChatAbout#def60797 peer:InputPeer about:string = Bool;
messages.editChatDefaultBannedRights#a5866b41 peer:InputPeer banned_rights:ChatBannedRights = Updates;
messages.getEmojiKeywordsDifference#1508b6af lang_code:string from_version:int = EmojiKeywordsDifference;
messages.requestUrlAuth#198fb446 flags:# peer:flags.1?InputPeer msg_id:flags.1?int button_id:flags.1?int url:flags.2?string = UrlAuthResult;
messages.acceptUrlAuth#b12c7125 flags:# write_allowed:flags.0?true peer:flags.1?InputPeer msg_id:flags.1?int button_id:flags.1?int url:flags.2?string = UrlAuthResult;
messages.hidePeerSettingsBar#4facb138 peer:InputPeer = Bool;
messages.getScheduledHistory#f516760b peer:InputPeer hash:long = messages.Messages;
messages.sendScheduledMessages#bd38850a peer:InputPeer id:Vector<int> = Updates;
messages.deleteScheduledMessages#59ae2b16 peer:InputPeer id:Vector<int> = Updates;
messages.getPollVotes#b86e380e flags:# peer:InputPeer id:int option:flags.0?bytes offset:flags.1?string limit:int = messages.VotesList;
messages.getDialogFilters#f19ed96d = Vector<DialogFilter>;
messages.getSuggestedDialogFilters#a29cd42c = Vector<DialogFilterSuggested>;
messages.updateDialogFilter#1ad4a04a flags:# id:int filter:flags.0?DialogFilter = Bool;
messages.updateDialogFiltersOrder#c563c1e4 order:Vector<int> = Bool;
messages.getReplies#22ddd30c peer:InputPeer msg_id:int offset_id:int offset_date:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;
messages.getDiscussionMessage#446972fd peer:InputPeer msg_id:int = messages.DiscussionMessage;
messages.readDiscussion#f731a9f4 peer:InputPeer msg_id:int read_max_id:int = Bool;
messages.unpinAllMessages#ee22b9a8 flags:# peer:InputPeer top_msg_id:flags.0?int = messages.AffectedHistory;
messages.deleteChat#5bd0ee50 chat_id:long = Bool;
messages.getExportedChatInvites#a2b5a3f6 flags:# revoked:flags.3?true peer:InputPeer admin_id:InputUser offset_date:flags.2?int offset_link:flags.2?string limit:int = messages.ExportedChatInvites;
messages.editExportedChatInvite#bdca2f75 flags:# revoked:flags.2?true peer:InputPeer link:string expire_date:flags.0?int usage_limit:flags.1?int request_needed:flags.3?Bool title:flags.4?string = messages.ExportedChatInvite;
messages.deleteRevokedExportedChatInvites#56987bd5 peer:InputPeer admin_id:InputUser = Bool;
messages.deleteExportedChatInvite#d464a42b peer:InputPeer link:string = Bool;
messages.getChatInviteImporters#df04dd4e flags:# requested:flags.0?true peer:InputPeer link:flags.1?string q:flags.2?string offset_date:int offset_user:InputUser limit:int = messages.ChatInviteImporters;
messages.getMessageReadParticipants#31c1c44f peer:InputPeer msg_id:int = Vector<ReadParticipantDate>;
messages.hideChatJoinRequest#7fe7e815 flags:# approved:flags.0?true peer:InputPeer user_id:InputUser = Updates;
messages.hideAllChatJoinRequests#e085f4ea flags:# approved:flags.0?true peer:InputPeer link:flags.1?string = Updates;
messages.toggleNoForwards#b11eafa2 peer:InputPeer enabled:Bool = Updates;
messages.saveDefaultSendAs#ccfddf96 peer:InputPeer send_as:InputPeer = Bool;
messages.sendReaction#d30d78d4 flags:# big:flags.1?true add_to_recent:flags.2?true peer:InputPeer msg_id:int reaction:flags.0?Vector<Reaction> = Updates;
messages.getMessagesReactions#8bba90e6 peer:InputPeer id:Vector<int> = Updates;
messages.getMessageReactionsList#461b3f48 flags:# peer:InputPeer id:int reaction:flags.0?Reaction offset:flags.1?string limit:int = messages.MessageReactionsList;
messages.setChatAvailableReactions#feb16771 peer:InputPeer available_reactions:ChatReactions = Updates;
messages.getAvailableReactions#18dea0ac hash:int = messages.AvailableReactions;
messages.setDefaultReaction#4f47a016 reaction:Reaction = Bool;
messages.translateText#63183030 flags:# peer:flags.0?InputPeer id:flags.0?Vector<int> text:flags.1?Vector<TextWithEntities> to_lang:string = messages.TranslatedText;
messages.getUnreadReactions#3223495b flags:# peer:InputPeer top_msg_id:flags.0?int offset_id:int add_offset:int limit:int max_id:int min_id:int = messages.Messages;
messages.readReactions#54aa7f8e flags:# peer:InputPeer top_msg_id:flags.0?int = messages.AffectedHistory;
messages.getAttachMenuBots#16fcc2cb hash:long = AttachMenuBots;
messages.getAttachMenuBot#77216192 bot:InputUser = AttachMenuBotsBot;
messages.toggleBotInAttachMenu#69f59d69 flags:# write_allowed:flags.0?true bot:InputUser enabled:Bool = Bool;
messages.requestWebView#269dc2c1 flags:# from_bot_menu:flags.4?true silent:flags.5?true peer:InputPeer bot:InputUser url:flags.1?string start_param:flags.3?string theme_params:flags.2?DataJSON platform:string reply_to:flags.0?InputReplyTo send_as:flags.13?InputPeer = WebViewResult;
messages.prolongWebView#b0d81a83 flags:# silent:flags.5?true peer:InputPeer bot:InputUser query_id:long reply_to:flags.0?InputReplyTo send_as:flags.13?InputPeer = Bool;
messages.requestSimpleWebView#1a46500a flags:# from_switch_webview:flags.1?true from_side_menu:flags.2?true bot:InputUser url:flags.3?string start_param:flags.4?string theme_params:flags.0?DataJSON platform:string = SimpleWebViewResult;
messages.sendWebViewResultMessage#a4314f5 bot_query_id:string result:InputBotInlineResult = WebViewMessageSent;
messages.sendWebViewData#dc0242c8 bot:InputUser random_id:long button_text:string data:string = Updates;
messages.transcribeAudio#269e9a49 peer:InputPeer msg_id:int = messages.TranscribedAudio;
messages.getCustomEmojiDocuments#d9ab0f54 document_id:Vector<long> = Vector<Document>;
messages.getEmojiStickers#fbfca18f hash:long = messages.AllStickers;
messages.getFeaturedEmojiStickers#ecf6736 hash:long = messages.FeaturedStickers;
messages.getTopReactions#bb8125ba limit:int hash:long = messages.Reactions;
messages.getRecentReactions#39461db2 limit:int hash:long = messages.Reactions;
messages.clearRecentReactions#9dfeefb4 = Bool;
messages.getExtendedMedia#84f80814 peer:InputPeer id:Vector<int> = Updates;
messages.togglePeerTranslations#e47cb579 flags:# disabled:flags.0?true peer:InputPeer = Bool;
messages.getBotApp#34fdc5c3 app:InputBotApp hash:long = messages.BotApp;
messages.requestAppWebView#8c5a3b3c flags:# write_allowed:flags.0?true peer:InputPeer app:InputBotApp start_param:flags.1?string theme_params:flags.2?DataJSON platform:string = AppWebViewResult;
messages.getSavedDialogs#5381d21a flags:# exclude_pinned:flags.0?true offset_date:int offset_id:int offset_peer:InputPeer limit:int hash:long = messages.SavedDialogs;
messages.getSavedHistory#3d9a414d peer:InputPeer offset_id:int offset_date:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;
messages.deleteSavedHistory#6e98102b flags:# peer:InputPeer max_id:int min_date:flags.2?int max_date:flags.3?int = messages.AffectedHistory;
messages.getPinnedSavedDialogs#d63d94e0 = messages.SavedDialogs;
messages.toggleSavedDialogPin#ac81bbde flags:# pinned:flags.0?true peer:InputDialogPeer = Bool;
messages.getSavedReactionTags#3637e05b flags:# peer:flags.0?InputPeer hash:long = messages.SavedReactionTags;
messages.updateSavedReactionTag#60297dec flags:# reaction:Reaction title:flags.0?string = Bool;
messages.getDefaultTagReactions#bdf93428 hash:long = messages.Reactions;
messages.getOutboxReadDate#8c4bfe5d peer:InputPeer msg_id:int = OutboxReadDate;
updates.getState#edd4882a = updates.State;
updates.getDifference#19c2f763 flags:# pts:int pts_limit:flags.1?int pts_total_limit:flags.0?int date:int qts:int qts_limit:flags.2?int = updates.Difference;
updates.getChannelDifference#3173d78 flags:# force:flags.0?true channel:InputChannel filter:ChannelMessagesFilter pts:int limit:int = updates.ChannelDifference;
photos.updateProfilePhoto#9e82039 flags:# fallback:flags.0?true bot:flags.1?InputUser id:InputPhoto = photos.Photo;
photos.uploadProfilePhoto#388a3b5 flags:# fallback:flags.3?true bot:flags.5?InputUser file:flags.0?InputFile video:flags.1?InputFile video_start_ts:flags.2?double video_emoji_markup:flags.4?VideoSize = photos.Photo;
photos.deletePhotos#87cf7f2f id:Vector<InputPhoto> = Vector<long>;
photos.getUserPhotos#91cd32a8 user_id:InputUser offset:int max_id:long limit:int = photos.Photos;
photos.uploadContactProfilePhoto#e14c4a71 flags:# suggest:flags.3?true save:flags.4?true user_id:InputUser file:flags.0?InputFile video:flags.1?InputFile video_start_ts:flags.2?double video_emoji_markup:flags.5?VideoSize = photos.Photo;
upload.saveFilePart#b304a621 file_id:long file_part:int bytes:bytes = Bool;
upload.getFile#be5335be flags:# precise:flags.0?true cdn_supported:flags.1?true location:InputFileLocation offset:long limit:int = upload.File;
upload.saveBigFilePart#de7b673d file_id:long file_part:int file_total_parts:int bytes:bytes = Bool;
upload.getWebFile#24e6818d location:InputWebFileLocation offset:int limit:int = upload.WebFile;
help.getConfig#c4f9186b = Config;
help.getNearestDc#1fb33026 = NearestDc;
help.getSupport#9cdf08cd = help.Support;
help.acceptTermsOfService#ee72f79a id:DataJSON = Bool;
help.getAppConfig#61e3f854 hash:int = help.AppConfig;
help.getCountriesList#735787a8 lang_code:string hash:int = help.CountriesList;
help.getPremiumPromo#b81b93d4 = help.PremiumPromo;
help.getPeerColors#da80f42f hash:int = help.PeerColors;
channels.readHistory#cc104937 channel:InputChannel max_id:int = Bool;
channels.deleteMessages#84c1fd4e channel:InputChannel id:Vector<int> = messages.AffectedMessages;
channels.getMessages#ad8c9a23 channel:InputChannel id:Vector<InputMessage> = messages.Messages;
channels.getParticipants#77ced9d0 channel:InputChannel filter:ChannelParticipantsFilter offset:int limit:int hash:long = channels.ChannelParticipants;
channels.getParticipant#a0ab6cc6 channel:InputChannel participant:InputPeer = channels.ChannelParticipant;
channels.getChannels#a7f6bbb id:Vector<InputChannel> = messages.Chats;
channels.getFullChannel#8736a09 channel:InputChannel = messages.ChatFull;
channels.createChannel#91006707 flags:# broadcast:flags.0?true megagroup:flags.1?true for_import:flags.3?true forum:flags.5?true title:string about:string geo_point:flags.2?InputGeoPoint address:flags.2?string ttl_period:flags.4?int = Updates;
channels.editAdmin#d33c8902 channel:InputChannel user_id:InputUser admin_rights:ChatAdminRights rank:string = Updates;
channels.editTitle#566decd0 channel:InputChannel title:string = Updates;
channels.editPhoto#f12e57c9 channel:InputChannel photo:InputChatPhoto = Updates;
channels.checkUsername#10e6bd2c channel:InputChannel username:string = Bool;
channels.updateUsername#3514b3de channel:InputChannel username:string = Bool;
channels.joinChannel#24b524c5 channel:InputChannel = Updates;
channels.leaveChannel#f836aa95 channel:InputChannel = Updates;
channels.inviteToChannel#199f3a6c channel:InputChannel users:Vector<InputUser> = Updates;
channels.deleteChannel#c0111fe3 channel:InputChannel = Updates;
channels.toggleSignatures#1f69b606 channel:InputChannel enabled:Bool = Updates;
channels.editBanned#96e6cd81 channel:InputChannel participant:InputPeer banned_rights:ChatBannedRights = Updates;
channels.readMessageContents#eab5dc38 channel:InputChannel id:Vector<int> = Bool;
channels.togglePreHistoryHidden#eabbb94c channel:InputChannel enabled:Bool = Updates;
channels.getGroupsForDiscussion#f5dad378 = messages.Chats;
channels.setDiscussionGroup#40582bb2 broadcast:InputChannel group:InputChannel = Bool;
channels.viewSponsoredMessage#beaedb94 channel:InputChannel random_id:bytes = Bool;
channels.getSponsoredMessages#ec210fbf channel:InputChannel = messages.SponsoredMessages;
channels.getSendAs#dc770ee peer:InputPeer = channels.SendAsPeers;
channels.toggleJoinToSend#e4cb9580 channel:InputChannel enabled:Bool = Updates;
channels.toggleJoinRequest#4c2985b6 channel:InputChannel enabled:Bool = Updates;
channels.reorderUsernames#b45ced1d channel:InputChannel order:Vector<string> = Bool;
channels.toggleUsername#50f24105 channel:InputChannel username:string active:Bool = Bool;
channels.deactivateAllUsernames#a245dd3 channel:InputChannel = Bool;
channels.toggleForum#a4298b29 channel:InputChannel enabled:Bool = Updates;
channels.createForumTopic#f40c0224 flags:# channel:InputChannel title:string icon_color:flags.0?int icon_emoji_id:flags.3?long random_id:long send_as:flags.2?InputPeer = Updates;
channels.getForumTopics#de560d1 flags:# channel:InputChannel q:flags.0?string offset_date:int offset_id:int offset_topic:int limit:int = messages.ForumTopics;
channels.getForumTopicsByID#b0831eb9 channel:InputChannel topics:Vector<int> = messages.ForumTopics;
channels.editForumTopic#f4dfa185 flags:# channel:InputChannel topic_id:int title:flags.0?string icon_emoji_id:flags.1?long closed:flags.2?Bool hidden:flags.3?Bool = Updates;
channels.updatePinnedForumTopic#6c2d9026 channel:InputChannel topic_id:int pinned:Bool = Updates;
channels.deleteTopicHistory#34435f2d channel:InputChannel top_msg_id:int = messages.AffectedHistory;
channels.toggleParticipantsHidden#6a6e7854 channel:InputChannel enabled:Bool = Updates;
channels.clickSponsoredMessage#18afbc93 channel:InputChannel random_id:bytes = Bool;
channels.toggleViewForumAsMessages#9738bb15 channel:InputChannel enabled:Bool = Updates;
channels.getChannelRecommendations#83b70d97 channel:InputChannel = messages.Chats;
bots.setBotInfo#10cf3123 flags:# bot:flags.2?InputUser lang_code:string name:flags.3?string about:flags.0?string description:flags.1?string = Bool;
bots.canSendMessage#1359f4e6 bot:InputUser = Bool;
bots.allowSendMessage#f132e3ef bot:InputUser = Updates;
bots.invokeWebViewCustomMethod#87fc5e7 bot:InputUser custom_method:string params:DataJSON = DataJSON;
payments.getPaymentForm#37148dbb flags:# invoice:InputInvoice theme_params:flags.0?DataJSON = payments.PaymentForm;
payments.getPaymentReceipt#2478d1cc peer:InputPeer msg_id:int = payments.PaymentReceipt;
payments.validateRequestedInfo#b6c8f12b flags:# save:flags.0?true invoice:InputInvoice info:PaymentRequestedInfo = payments.ValidatedRequestedInfo;
payments.sendPaymentForm#2d03522f flags:# form_id:long invoice:InputInvoice requested_info_id:flags.0?string shipping_option_id:flags.1?string credentials:InputPaymentCredentials tip_amount:flags.2?long = payments.PaymentResult;
payments.getSavedInfo#227d824b = payments.SavedInfo;
payments.checkGiftCode#8e51b4c1 slug:string = payments.CheckedGiftCode;
payments.applyGiftCode#f6e26854 slug:string = Updates;
payments.getGiveawayInfo#f4239425 peer:InputPeer msg_id:int = payments.GiveawayInfo;
phone.requestCall#42ff96ed flags:# video:flags.0?true user_id:InputUser random_id:int g_a_hash:bytes protocol:PhoneCallProtocol = phone.PhoneCall;
phone.acceptCall#3bd2b4a0 peer:InputPhoneCall g_b:bytes protocol:PhoneCallProtocol = phone.PhoneCall;
phone.confirmCall#2efe1722 peer:InputPhoneCall g_a:bytes key_fingerprint:long protocol:PhoneCallProtocol = phone.PhoneCall;
phone.receivedCall#17d54f61 peer:InputPhoneCall = Bool;
phone.discardCall#b2cbc1c0 flags:# video:flags.0?true peer:InputPhoneCall duration:int reason:PhoneCallDiscardReason connection_id:long = Updates;
phone.setCallRating#59ead627 flags:# user_initiative:flags.0?true peer:InputPhoneCall rating:int comment:string = Updates;
phone.saveCallDebug#277add7e peer:InputPhoneCall debug:DataJSON = Bool;
phone.sendSignalingData#ff7a9383 peer:InputPhoneCall data:bytes = Bool;
phone.createGroupCall#48cdc6d8 flags:# rtmp_stream:flags.2?true peer:InputPeer random_id:int title:flags.0?string schedule_date:flags.1?int = Updates;
phone.joinGroupCall#b132ff7b flags:# muted:flags.0?true video_stopped:flags.2?true call:InputGroupCall join_as:InputPeer invite_hash:flags.1?string params:DataJSON = Updates;
phone.leaveGroupCall#500377f9 call:InputGroupCall source:int = Updates;
phone.discardGroupCall#7a777135 call:InputGroupCall = Updates;
phone.getGroupCall#41845db call:InputGroupCall limit:int = phone.GroupCall;
phone.getGroupParticipants#c558d8ab call:InputGroupCall ids:Vector<InputPeer> sources:Vector<int> offset:string limit:int = phone.GroupParticipants;
phone.editGroupCallParticipant#a5273abf flags:# call:InputGroupCall participant:InputPeer muted:flags.0?Bool volume:flags.1?int raise_hand:flags.2?Bool video_stopped:flags.3?Bool video_paused:flags.4?Bool presentation_paused:flags.5?Bool = Updates;
phone.exportGroupCallInvite#e6aa647f flags:# can_self_unmute:flags.0?true call:InputGroupCall = phone.ExportedGroupCallInvite;
phone.toggleGroupCallStartSubscription#219c34e6 call:InputGroupCall subscribed:Bool = Updates;
phone.joinGroupCallPresentation#cbea6bc4 call:InputGroupCall params:DataJSON = Updates;
phone.leaveGroupCallPresentation#1c50d144 call:InputGroupCall = Updates;
langpack.getLangPack#f2f2330a lang_pack:string lang_code:string = LangPackDifference;
langpack.getStrings#efea3803 lang_pack:string lang_code:string keys:Vector<string> = Vector<LangPackString>;
langpack.getLanguages#42c6978f lang_pack:string = Vector<LangPackLanguage>;
folders.editPeerFolders#6847d0ab folder_peers:Vector<InputFolderPeer> = Updates;
stats.getBroadcastStats#ab42441a flags:# dark:flags.0?true channel:InputChannel = stats.BroadcastStats;
stats.loadAsyncGraph#621d5fa0 flags:# token:string x:flags.0?long = StatsGraph;
stats.getMegagroupStats#dcdf8607 flags:# dark:flags.0?true channel:InputChannel = stats.MegagroupStats;
stats.getMessagePublicForwards#5f150144 channel:InputChannel msg_id:int offset:string limit:int = stats.PublicForwards;
stats.getMessageStats#b6e0a3f5 flags:# dark:flags.0?true channel:InputChannel msg_id:int = stats.MessageStats;
stats.getStoryStats#374fef40 flags:# dark:flags.0?true peer:InputPeer id:int = stats.StoryStats;
stats.getStoryPublicForwards#a6437ef6 peer:InputPeer id:int offset:string limit:int = stats.PublicForwards;
chatlists.exportChatlistInvite#8472478e chatlist:InputChatlist title:string peers:Vector<InputPeer> = chatlists.ExportedChatlistInvite;
chatlists.deleteExportedInvite#719c5c5e chatlist:InputChatlist slug:string = Bool;
chatlists.editExportedInvite#653db63d flags:# chatlist:InputChatlist slug:string title:flags.1?string peers:flags.2?Vector<InputPeer> = ExportedChatlistInvite;
chatlists.getExportedInvites#ce03da83 chatlist:InputChatlist = chatlists.ExportedInvites;
chatlists.checkChatlistInvite#41c10fff slug:string = chatlists.ChatlistInvite;
chatlists.joinChatlistInvite#a6b1e39a slug:string peers:Vector<InputPeer> = Updates;
chatlists.getLeaveChatlistSuggestions#fdbcd714 chatlist:InputChatlist = Vector<Peer>;
chatlists.leaveChatlist#74fae13a chatlist:InputChatlist peers:Vector<InputPeer> = Updates;
stories.editStory#b583ba46 flags:# peer:InputPeer id:int media:flags.0?InputMedia media_areas:flags.3?Vector<MediaArea> caption:flags.1?string entities:flags.1?Vector<MessageEntity> privacy_rules:flags.2?Vector<InputPrivacyRule> = Updates;
stories.deleteStories#ae59db5f peer:InputPeer id:Vector<int> = Vector<int>;
stories.togglePinned#9a75a1ef peer:InputPeer id:Vector<int> pinned:Bool = Vector<int>;
stories.getAllStories#eeb0d625 flags:# next:flags.1?true hidden:flags.2?true state:flags.0?string = stories.AllStories;
stories.getPinnedStories#5821a5dc peer:InputPeer offset_id:int limit:int = stories.Stories;
stories.getStoriesArchive#b4352016 peer:InputPeer offset_id:int limit:int = stories.Stories;
stories.getStoriesByID#5774ca74 peer:InputPeer id:Vector<int> = stories.Stories;
stories.readStories#a556dac8 peer:InputPeer max_id:int = Vector<int>;
stories.incrementStoryViews#b2028afb peer:InputPeer id:Vector<int> = Bool;
stories.getStoryViewsList#7ed23c57 flags:# just_contacts:flags.0?true reactions_first:flags.2?true forwards_first:flags.3?true peer:InputPeer q:flags.1?string id:int offset:string limit:int = stories.StoryViewsList;
stories.getStoriesViews#28e16cc8 peer:InputPeer id:Vector<int> = stories.StoryViews;
stories.exportStoryLink#7b8def20 peer:InputPeer id:int = ExportedStoryLink;
stories.report#1923fa8c peer:InputPeer id:Vector<int> reason:ReportReason message:string = Bool;
stories.activateStealthMode#57bbd166 flags:# past:flags.0?true future:flags.1?true = Updates;
stories.sendReaction#7fd736b2 flags:# add_to_recent:flags.0?true peer:InputPeer story_id:int reaction:Reaction = Updates;
stories.getPeerStories#2c4ada50 peer:InputPeer = stories.PeerStories;
stories.getPeerMaxIDs#535983c3 id:Vector<InputPeer> = Vector<int>;
stories.togglePeerStoriesHidden#bd0415c4 peer:InputPeer hidden:Bool = Bool;
premium.getBoostsList#60f67660 flags:# gifts:flags.0?true peer:InputPeer offset:string limit:int = premium.BoostsList;
premium.getMyBoosts#be77b4a = premium.MyBoosts;
premium.applyBoost#6b7da746 flags:# slots:flags.0?Vector<int> peer:InputPeer = premium.MyBoosts;
premium.getBoostsStatus#42f1f61 peer:InputPeer = premium.BoostsStatus;`});var lf=z((Gw,of)=>{"use strict";of.exports=`resPQ#05162463 nonce:int128 server_nonce:int128 pq:string server_public_key_fingerprints:Vector<long> = ResPQ;
p_q_inner_data#83c95aec pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 = P_Q_inner_data;
p_q_inner_data_dc#a9f55f95 pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 dc:int = P_Q_inner_data;
p_q_inner_data_temp#3c6a84d4 pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 expires_in:int = P_Q_inner_data;
p_q_inner_data_temp_dc#56fddf88 pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 dc:int expires_in:int = P_Q_inner_data;
server_DH_params_fail#79cb045d nonce:int128 server_nonce:int128 new_nonce_hash:int128 = Server_DH_Params;
server_DH_params_ok#d0e8075c nonce:int128 server_nonce:int128 encrypted_answer:string = Server_DH_Params;
server_DH_inner_data#b5890dba nonce:int128 server_nonce:int128 g:int dh_prime:string g_a:string server_time:int = Server_DH_inner_data;
client_DH_inner_data#6643b654 nonce:int128 server_nonce:int128 retry_id:long g_b:string = Client_DH_Inner_Data;
dh_gen_ok#3bcbf734 nonce:int128 server_nonce:int128 new_nonce_hash1:int128 = Set_client_DH_params_answer;
dh_gen_retry#46dc1fb9 nonce:int128 server_nonce:int128 new_nonce_hash2:int128 = Set_client_DH_params_answer;
dh_gen_fail#a69dae02 nonce:int128 server_nonce:int128 new_nonce_hash3:int128 = Set_client_DH_params_answer;
destroy_auth_key_ok#f660e1d4 = DestroyAuthKeyRes;
destroy_auth_key_none#0a9f2259 = DestroyAuthKeyRes;
destroy_auth_key_fail#ea109b13 = DestroyAuthKeyRes;
---functions---
req_pq#60469778 nonce:int128 = ResPQ;
req_pq_multi#be7e8ef1 nonce:int128 = ResPQ;
req_pq_multi_new#51b410fd nonce:int128 = ResPQ;
req_DH_params#d712e4be nonce:int128 server_nonce:int128 p:string q:string public_key_fingerprint:long encrypted_data:string = Server_DH_Params;
set_client_DH_params#f5045f1f nonce:int128 server_nonce:int128 encrypted_data:string = Set_client_DH_params_answer;
destroy_auth_key#d1435160 = DestroyAuthKeyRes;
---types---
msgs_ack#62d6b459 msg_ids:Vector<long> = MsgsAck;
bad_msg_notification#a7eff811 bad_msg_id:long bad_msg_seqno:int error_code:int = BadMsgNotification;
bad_server_salt#edab447b bad_msg_id:long bad_msg_seqno:int error_code:int new_server_salt:long = BadMsgNotification;
msgs_state_req#da69fb52 msg_ids:Vector<long> = MsgsStateReq;
msgs_state_info#04deb57d req_msg_id:long info:string = MsgsStateInfo;
msgs_all_info#8cc0d131 msg_ids:Vector<long> info:string = MsgsAllInfo;
msg_detailed_info#276d3ec6 msg_id:long answer_msg_id:long bytes:int status:int = MsgDetailedInfo;
msg_new_detailed_info#809db6df answer_msg_id:long bytes:int status:int = MsgDetailedInfo;
msg_resend_req#7d861a08 msg_ids:Vector<long> = MsgResendReq;
rpc_error#2144ca19 error_code:int error_message:string = RpcError;
rpc_answer_unknown#5e2ad36e = RpcDropAnswer;
rpc_answer_dropped_running#cd78e586 = RpcDropAnswer;
rpc_answer_dropped#a43ad8b7 msg_id:long seq_no:int bytes:int = RpcDropAnswer;
future_salt#0949d9dc valid_since:int valid_until:int salt:long = FutureSalt;
future_salts#ae500895 req_msg_id:long now:int salts:vector<future_salt> = FutureSalts;
pong#347773c5 msg_id:long ping_id:long = Pong;
destroy_session_ok#e22045fc session_id:long = DestroySessionRes;
destroy_session_none#62d350c9 session_id:long = DestroySessionRes;
new_session_created#9ec20908 first_msg_id:long unique_id:long server_salt:long = NewSession;
http_wait#9299359f max_delay:int wait_after:int max_wait:int = HttpWait;
ipPort#d433ad73 ipv4:int port:int = IpPort;
ipPortSecret#37982646 ipv4:int port:int secret:bytes = IpPort;
accessPointRule#4679b65f phone_prefix_rules:string dc_id:int ips:vector<IpPort> = AccessPointRule;
help.configSimple#5a592a6c date:int expires:int rules:vector<AccessPointRule> = help.ConfigSimple;
tlsClientHello blocks:vector<TlsBlock> = TlsClientHello;
tlsBlockString data:string = TlsBlock;
tlsBlockRandom length:int = TlsBlock;
tlsBlockZero length:int = TlsBlock;
tlsBlockDomain = TlsBlock;
tlsBlockGrease seed:int = TlsBlock;
tlsBlockScope entries:Vector<TlsBlock> = TlsBlock;
---functions---
ping#7abe77ec ping_id:long = Pong;
ping_delay_disconnect#f3427b8c ping_id:long disconnect_delay:int = Pong;`});var Gn=z(($w,gf)=>{"use strict";var{parseTl:Pm,serializeBytes:cf,serializeDate:Cm}=Do(),{toSignedLittleBuffer:Wo}=rt(),Rm=af(),Im=lf();function Em(){let r=Am();return km(df("constructor",r.constructors),df("request",r.requests))}function Am(){let[r,e]=uf(Rm),[t,s]=uf(Im),i=[].concat(r,t),o=[].concat(e,s);return{constructors:i,requests:o}}function km(r,e){let t={...r};return Object.keys(e).forEach(s=>{typeof e[s]=="function"||!t[s]?t[s]=e[s]:Object.assign(t[s],e[s])}),t}function uf(r){let e=Pm(r),t=[],s=[];for(let i of e)i.isFunction?s.push(i):t.push(i);return[t,s]}function ff(r,e){switch(e){case"int":{let t=Buffer.alloc(4);return t.writeInt32LE(r,0),t}case"long":return Wo(r,8);case"int128":return Wo(r,16);case"int256":return Wo(r,32);case"double":{let t=Buffer.alloc(8);return t.writeDoubleLE(r,0),t}case"string":return cf(r);case"Bool":return r?Buffer.from("b5757299","hex"):Buffer.from("379779bc","hex");case"true":return Buffer.alloc(0);case"bytes":return cf(r);case"date":return Cm(r);default:return r.getBytes()}}function jo(r,e){if(e.isVector){e.useVectorId&&r.readInt();let t=[],s=r.readInt();e.isVector=!1;for(let i=0;i<s;i++)t.push(jo(r,e));return e.isVector=!0,t}else{if(e.flagIndicator)return r.readInt();switch(e.type){case"int":return r.readInt();case"long":return r.readLong();case"int128":return r.readLargeInt(128);case"int256":return r.readLargeInt(256);case"double":return r.readDouble();case"string":return r.tgReadString();case"Bool":return r.tgReadBool();case"true":return!0;case"bytes":return r.tgReadBytes();case"date":return r.tgReadDate();default:if(e.skipConstructorId)throw new Error(`Unknown type ${e}`);return r.tgReadObject()}}}function df(r,e){let t={};for(let s of e){let{name:i,constructorId:o,subclassOfId:u,argsConfig:p,namespace:g,result:d}=s,h=[g,i].join(".").replace(/^\./,"");class S{static CONSTRUCTOR_ID=o;static SUBCLASS_OF_ID=u;static className=h;static classType=r;CONSTRUCTOR_ID=o;SUBCLASS_OF_ID=u;className=h;classType=r;constructor(O){O=O||{},Object.keys(O).forEach(E=>{this[E]=O[E]})}static fromReader(O){let E={};for(let q in p)if(p.hasOwnProperty(q)){let U=p[q];if(U.isFlag){let N=U.flagGroup>1?U.flagGroup:"",H=E[`flags${N}`]&1<<U.flagIndex;if(U.type==="true"){E[q]=!!H;continue}E[q]=H?jo(O,U):void 0}else E[q]=jo(O,U)}return new S(E)}getBytes(){let O=this.CONSTRUCTOR_ID,E=Buffer.alloc(4);E.writeUInt32LE(O,0);let q=[E];for(let U in p)if(p.hasOwnProperty(U)){if(p[U].isFlag&&(this[U]===!1&&p[U].type==="true"||this[U]===void 0))continue;if(p[U].isVector){p[U].useVectorId&&q.push(Buffer.from("15c4b51c","hex"));let N=Buffer.alloc(4);N.writeInt32LE(this[U].length,0),q.push(N,Buffer.concat(this[U].map(H=>ff(H,p[U].type))))}else if(p[U].flagIndicator)if(!Object.values(p).some(N=>N.isFlag))q.push(Buffer.alloc(4));else{let N=0;for(let te in p)p[te].isFlag&&(this[te]===!1&&p[te].type==="true"||this[te]===void 0?N|=0:N|=1<<p[te].flagIndex);let H=Buffer.alloc(4);H.writeUInt32LE(N,0),q.push(H)}else if(q.push(ff(this[U],p[U].type)),this[U]&&typeof this[U].getBytes=="function"){let N=p[U].type.charAt(p[U].type.indexOf(".")+1);N=N===N.toUpperCase(),N||q.shift()}}return Buffer.concat(q)}readResult(O){if(r!=="request")throw new Error("`readResult()` called for non-request instance");let E=d.match(/Vector<(int|long)>/);if(E){O.readInt();let q=[],U=O.readInt();if(E[1]==="int")for(let N=0;N<U;N++)q.push(O.readInt());else for(let N=0;N<U;N++)q.push(O.readLong());return q}else return O.tgReadObject()}}g?(t[g]||(t[g]={}),t[g][i]=S):t[i]=S}return t}gf.exports=Em()});var Go=z((Hw,hf)=>{"use strict";var zo=class{get dcId(){throw new Error("Not Implemented")}get serverAddress(){throw new Error("Not Implemented")}get port(){throw new Error("Not Implemented")}get authKey(){throw new Error("Not Implemented")}set authKey(e){throw new Error("Not Implemented")}setDC(){throw new Error("Not implemented")}};hf.exports=zo});var _f=z((Kw,pf)=>{"use strict";var Tm=Go(),$o=class extends Tm{constructor(){super(),this._serverAddress=void 0,this._dcId=0,this._port=void 0,this._takeoutId=void 0,this._entities=new Set,this._updateStates={}}get dcId(){return this._dcId}get serverAddress(){return this._serverAddress}get port(){return this._port}get authKey(){return this._authKey}set authKey(e){this._authKey=e}setDC(e,t,s){this._dcId=e|0,this._serverAddress=t,this._port=s}};pf.exports=$o});var Ir=z((Zw,mf)=>{"use strict";var Ho=class extends Error{constructor(){super("The read operation was cancelled.")}},Ko=class extends Error{constructor(e,t){super(`Could not find a matching Constructor ID for the TLObject that was supposed to be
        read with ID ${e}. Most likely, a TLObject was trying to be read when
         it should not be read. Remaining bytes: ${t.length}`),typeof alert<"u"&&alert(`Missing MTProto Entity: Please, make sure to add TL definition for ID ${e}`),this.invalidConstructorId=e,this.remaining=t}},Zo=class extends Error{constructor(e,t){super(`Invalid checksum (${e} when ${t} was expected). This packet should be skipped.`),this.checksum=e,this.validChecksum=t}},Yo=class extends Error{constructor(e){let t;e.length===4?(t=-e.readInt32LE(0),super(`Invalid response buffer (HTTP code ${t})`)):super(`Invalid response buffer (too short ${e})`),this.code=t,this.payload=e}},Zi=class extends Error{constructor(...e){e.length||(e=["A security check failed."]),super(...e)}},Jo=class extends Zi{constructor(){super("The CDN file has been altered and its download cancelled.")}},Qo=class r extends Error{static ErrorMessages={16:"msg_id too low (most likely, client time is wrong it would be worthwhile to synchronize it using msg_id notifications and re-send the original message with the \u201Ccorrect\u201D msg_id or wrap it in a container with a new msg_id if the original message had waited too long on the client to be transmitted).",17:"msg_id too high (similar to the previous case, the client time has to be synchronized, and the message re-sent with the correct msg_id).",18:"Incorrect two lower order msg_id bits (the server expects client message msg_id to be divisible by 4).",19:"Container msg_id is the same as msg_id of a previously received message (this must never happen).",20:"Message too old, and it cannot be verified whether the server has received a message with this msg_id or not.",32:"msg_seqno too low (the server has already received a message with a lower msg_id but with either a higher or an equal and odd seqno).",33:"msg_seqno too high (similarly, there is a message with a higher msg_id but with either a lower or an equal and odd seqno).",34:"An even msg_seqno expected (irrelevant message), but odd received.",35:"Odd msg_seqno expected (relevant message), but even received.",48:"Incorrect server salt (in this case, the bad_server_salt response is received with the correct salt, and the message is to be re-sent with it).",64:"Invalid container."};constructor(e,t){let s=r.ErrorMessages[t]||`Unknown error code (this should not happen): ${t}.`;s+=`  Caused by ${e.className}`,super(s),this.message=s,this.code=t}};mf.exports={ReadCancelledError:Ho,TypeNotFoundError:Ko,InvalidChecksumError:Zo,InvalidBufferError:Yo,SecurityError:Zi,CdnFileTamperedError:Jo,BadMessageError:Qo}});var Yi=z((Yw,bf)=>{"use strict";var Xo=class{static SIZE_OVERHEAD=12;static classType="constructor";constructor(e,t,s){this.msgId=e,this.seqNo=t,this.obj=s,this.classType="constructor"}};bf.exports=Xo});var Kr=z((Jw,wf)=>{"use strict";var yf=Gn(),{serializeBytes:xm,serializeDate:Mm}=Do();wf.exports={constructors:yf,requests:yf,serializeBytes:xm,serializeDate:Mm}});var vf=z((Ji,Sf)=>{(function(r,e){typeof Ji=="object"&&typeof Sf<"u"?e(Ji):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.pako={}))})(Ji,function(r){"use strict";var t=(b,P,c,B)=>{let j=b&65535|0,I=b>>>16&65535|0,K=0;for(;c!==0;){K=c>2e3?2e3:c,c-=K;do j=j+P[B++]|0,I=I+j|0;while(--K);j%=65521,I%=65521}return j|I<<16|0};let s=()=>{let b,P=[];for(var c=0;c<256;c++){b=c;for(var B=0;B<8;B++)b=b&1?3988292384^b>>>1:b>>>1;P[c]=b}return P},i=new Uint32Array(s());var u=(b,P,c,B)=>{let j=i,I=B+c;b^=-1;for(let K=B;K<I;K++)b=b>>>8^j[(b^P[K])&255];return b^-1};let p=16209,g=16191;var d=function(P,c){let B,j,I,K,L,ye,A,T,Re,le,W,oe,ze,me,ue,we,pe,G,Se,Ee,Q,Ce,_e,re,fe=P.state;B=P.next_in,_e=P.input,j=B+(P.avail_in-5),I=P.next_out,re=P.output,K=I-(c-P.avail_out),L=I+(P.avail_out-257),ye=fe.dmax,A=fe.wsize,T=fe.whave,Re=fe.wnext,le=fe.window,W=fe.hold,oe=fe.bits,ze=fe.lencode,me=fe.distcode,ue=(1<<fe.lenbits)-1,we=(1<<fe.distbits)-1;e:do{oe<15&&(W+=_e[B++]<<oe,oe+=8,W+=_e[B++]<<oe,oe+=8),pe=ze[W&ue];t:for(;;){if(G=pe>>>24,W>>>=G,oe-=G,G=pe>>>16&255,G===0)re[I++]=pe&65535;else if(G&16){Se=pe&65535,G&=15,G&&(oe<G&&(W+=_e[B++]<<oe,oe+=8),Se+=W&(1<<G)-1,W>>>=G,oe-=G),oe<15&&(W+=_e[B++]<<oe,oe+=8,W+=_e[B++]<<oe,oe+=8),pe=me[W&we];r:for(;;){if(G=pe>>>24,W>>>=G,oe-=G,G=pe>>>16&255,G&16){if(Ee=pe&65535,G&=15,oe<G&&(W+=_e[B++]<<oe,oe+=8,oe<G&&(W+=_e[B++]<<oe,oe+=8)),Ee+=W&(1<<G)-1,Ee>ye){P.msg="invalid distance too far back",fe.mode=p;break e}if(W>>>=G,oe-=G,G=I-K,Ee>G){if(G=Ee-G,G>T&&fe.sane){P.msg="invalid distance too far back",fe.mode=p;break e}if(Q=0,Ce=le,Re===0){if(Q+=A-G,G<Se){Se-=G;do re[I++]=le[Q++];while(--G);Q=I-Ee,Ce=re}}else if(Re<G){if(Q+=A+Re-G,G-=Re,G<Se){Se-=G;do re[I++]=le[Q++];while(--G);if(Q=0,Re<Se){G=Re,Se-=G;do re[I++]=le[Q++];while(--G);Q=I-Ee,Ce=re}}}else if(Q+=Re-G,G<Se){Se-=G;do re[I++]=le[Q++];while(--G);Q=I-Ee,Ce=re}for(;Se>2;)re[I++]=Ce[Q++],re[I++]=Ce[Q++],re[I++]=Ce[Q++],Se-=3;Se&&(re[I++]=Ce[Q++],Se>1&&(re[I++]=Ce[Q++]))}else{Q=I-Ee;do re[I++]=re[Q++],re[I++]=re[Q++],re[I++]=re[Q++],Se-=3;while(Se>2);Se&&(re[I++]=re[Q++],Se>1&&(re[I++]=re[Q++]))}}else if(G&64){P.msg="invalid distance code",fe.mode=p;break e}else{pe=me[(pe&65535)+(W&(1<<G)-1)];continue r}break}}else if(G&64)if(G&32){fe.mode=g;break e}else{P.msg="invalid literal/length code",fe.mode=p;break e}else{pe=ze[(pe&65535)+(W&(1<<G)-1)];continue t}break}}while(B<j&&I<L);Se=oe>>3,B-=Se,oe-=Se<<3,W&=(1<<oe)-1,P.next_in=B,P.next_out=I,P.avail_in=B<j?5+(j-B):5-(B-j),P.avail_out=I<L?257+(L-I):257-(I-L),fe.hold=W,fe.bits=oe};let h=15,S=852,C=592,O=0,E=1,q=2,U=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),N=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),H=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),te=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ne=(b,P,c,B,j,I,K,L)=>{let ye=L.bits,A=0,T=0,Re=0,le=0,W=0,oe=0,ze=0,me=0,ue=0,we=0,pe,G,Se,Ee,Q,Ce=null,_e,re=new Uint16Array(h+1),fe=new Uint16Array(h+1),Lt=null,ws,Mn,Wr;for(A=0;A<=h;A++)re[A]=0;for(T=0;T<B;T++)re[P[c+T]]++;for(W=ye,le=h;le>=1&&re[le]===0;le--);if(W>le&&(W=le),le===0)return j[I++]=1<<24|64<<16|0,j[I++]=1<<24|64<<16|0,L.bits=1,0;for(Re=1;Re<le&&re[Re]===0;Re++);for(W<Re&&(W=Re),me=1,A=1;A<=h;A++)if(me<<=1,me-=re[A],me<0)return-1;if(me>0&&(b===O||le!==1))return-1;for(fe[1]=0,A=1;A<h;A++)fe[A+1]=fe[A]+re[A];for(T=0;T<B;T++)P[c+T]!==0&&(K[fe[P[c+T]]++]=T);if(b===O?(Ce=Lt=K,_e=20):b===E?(Ce=U,Lt=N,_e=257):(Ce=H,Lt=te,_e=0),we=0,T=0,A=Re,Q=I,oe=W,ze=0,Se=-1,ue=1<<W,Ee=ue-1,b===E&&ue>S||b===q&&ue>C)return 1;for(;;){ws=A-ze,K[T]+1<_e?(Mn=0,Wr=K[T]):K[T]>=_e?(Mn=Lt[K[T]-_e],Wr=Ce[K[T]-_e]):(Mn=96,Wr=0),pe=1<<A-ze,G=1<<oe,Re=G;do G-=pe,j[Q+(we>>ze)+G]=ws<<24|Mn<<16|Wr|0;while(G!==0);for(pe=1<<A-1;we&pe;)pe>>=1;if(pe!==0?(we&=pe-1,we+=pe):we=0,T++,--re[A]===0){if(A===le)break;A=P[c+K[T]]}if(A>W&&(we&Ee)!==Se){for(ze===0&&(ze=W),Q+=Re,oe=A-ze,me=1<<oe;oe+ze<le&&(me-=re[oe+ze],!(me<=0));)oe++,me<<=1;if(ue+=1<<oe,b===E&&ue>S||b===q&&ue>C)return 1;Se=we&Ee,j[Se]=W<<24|oe<<16|Q-I|0}}return we!==0&&(j[Q+we]=A-ze<<24|64<<16|0),L.bits=W,0},se={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let Ie=0,Ve=1,Be=2,{Z_FINISH:Ct,Z_BLOCK:Ot,Z_TREES:Je,Z_OK:Fe,Z_STREAM_END:Ht,Z_NEED_DICT:Vt,Z_STREAM_ERROR:We,Z_DATA_ERROR:Qe,Z_MEM_ERROR:Xe,Z_BUF_ERROR:Ur,Z_DEFLATED:Kt}=se,Pe=16180,pt=16181,_t=16182,Ge=16183,qe=16184,Zt=16185,_r=16186,Ke=16187,et=16188,ct=16189,Rt=16190,st=16191,or=16192,Yt=16193,mt=16194,lr=16195,Jt=16196,ut=16197,Or=16198,it=16199,ft=16200,Y=16201,qt=16202,f=16203,_=16204,y=16205,v=16206,x=16207,R=16208,M=16209,V=16210,F=16211,ee=852,de=592,he=15,$e=b=>(b>>>24&255)+(b>>>8&65280)+((b&65280)<<8)+((b&255)<<24);function Te(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let je=b=>{if(!b)return 1;let P=b.state;return!P||P.strm!==b||P.mode<Pe||P.mode>F?1:0},mr=b=>{if(je(b))return We;let P=b.state;return b.total_in=b.total_out=P.total=0,b.msg="",P.wrap&&(b.adler=P.wrap&1),P.mode=Pe,P.last=0,P.havedict=0,P.flags=-1,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new Int32Array(ee),P.distcode=P.distdyn=new Int32Array(de),P.sane=1,P.back=-1,Fe},on=b=>{if(je(b))return We;let P=b.state;return P.wsize=0,P.whave=0,P.wnext=0,mr(b)},di=(b,P)=>{let c;if(je(b))return We;let B=b.state;return P<0?(c=0,P=-P):(c=(P>>4)+5,P<48&&(P&=15)),P&&(P<8||P>15)?We:(B.window!==null&&B.wbits!==P&&(B.window=null),B.wrap=c,B.wbits=P,on(b))},In=(b,P)=>{if(!b)return We;let c=new Te;b.state=c,c.strm=b,c.window=null,c.mode=Pe;let B=di(b,P);return B!==Fe&&(b.state=null),B},gi=b=>In(b,he),hi=!0,ss,is,lo=b=>{if(hi){ss=new Int32Array(512),is=new Int32Array(32);let P=0;for(;P<144;)b.lens[P++]=8;for(;P<256;)b.lens[P++]=9;for(;P<280;)b.lens[P++]=7;for(;P<288;)b.lens[P++]=8;for(ne(Ve,b.lens,0,288,ss,0,b.work,{bits:9}),P=0;P<32;)b.lens[P++]=5;ne(Be,b.lens,0,32,is,0,b.work,{bits:5}),hi=!1}b.lencode=ss,b.lenbits=9,b.distcode=is,b.distbits=5},as=(b,P,c,B)=>{let j,I=b.state;return I.window===null&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new Uint8Array(I.wsize)),B>=I.wsize?(I.window.set(P.subarray(c-I.wsize,c),0),I.wnext=0,I.whave=I.wsize):(j=I.wsize-I.wnext,j>B&&(j=B),I.window.set(P.subarray(c-B,c-B+j),I.wnext),B-=j,B?(I.window.set(P.subarray(c-B,c),0),I.wnext=B,I.whave=I.wsize):(I.wnext+=j,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=j))),0},os=(b,P)=>{let c,B,j,I,K,L,ye,A,T,Re,le,W,oe,ze,me=0,ue,we,pe,G,Se,Ee,Q,Ce,_e=new Uint8Array(4),re,fe,Lt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(je(b)||!b.output||!b.input&&b.avail_in!==0)return We;c=b.state,c.mode===st&&(c.mode=or),K=b.next_out,j=b.output,ye=b.avail_out,I=b.next_in,B=b.input,L=b.avail_in,A=c.hold,T=c.bits,Re=L,le=ye,Ce=Fe;e:for(;;)switch(c.mode){case Pe:if(c.wrap===0){c.mode=or;break}for(;T<16;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}if(c.wrap&2&&A===35615){c.wbits===0&&(c.wbits=15),c.check=0,_e[0]=A&255,_e[1]=A>>>8&255,c.check=u(c.check,_e,2,0),A=0,T=0,c.mode=pt;break}if(c.head&&(c.head.done=!1),!(c.wrap&1)||(((A&255)<<8)+(A>>8))%31){b.msg="incorrect header check",c.mode=M;break}if((A&15)!==Kt){b.msg="unknown compression method",c.mode=M;break}if(A>>>=4,T-=4,Q=(A&15)+8,c.wbits===0&&(c.wbits=Q),Q>15||Q>c.wbits){b.msg="invalid window size",c.mode=M;break}c.dmax=1<<c.wbits,c.flags=0,b.adler=c.check=1,c.mode=A&512?ct:st,A=0,T=0;break;case pt:for(;T<16;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}if(c.flags=A,(c.flags&255)!==Kt){b.msg="unknown compression method",c.mode=M;break}if(c.flags&57344){b.msg="unknown header flags set",c.mode=M;break}c.head&&(c.head.text=A>>8&1),c.flags&512&&c.wrap&4&&(_e[0]=A&255,_e[1]=A>>>8&255,c.check=u(c.check,_e,2,0)),A=0,T=0,c.mode=_t;case _t:for(;T<32;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}c.head&&(c.head.time=A),c.flags&512&&c.wrap&4&&(_e[0]=A&255,_e[1]=A>>>8&255,_e[2]=A>>>16&255,_e[3]=A>>>24&255,c.check=u(c.check,_e,4,0)),A=0,T=0,c.mode=Ge;case Ge:for(;T<16;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}c.head&&(c.head.xflags=A&255,c.head.os=A>>8),c.flags&512&&c.wrap&4&&(_e[0]=A&255,_e[1]=A>>>8&255,c.check=u(c.check,_e,2,0)),A=0,T=0,c.mode=qe;case qe:if(c.flags&1024){for(;T<16;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}c.length=A,c.head&&(c.head.extra_len=A),c.flags&512&&c.wrap&4&&(_e[0]=A&255,_e[1]=A>>>8&255,c.check=u(c.check,_e,2,0)),A=0,T=0}else c.head&&(c.head.extra=null);c.mode=Zt;case Zt:if(c.flags&1024&&(W=c.length,W>L&&(W=L),W&&(c.head&&(Q=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Uint8Array(c.head.extra_len)),c.head.extra.set(B.subarray(I,I+W),Q)),c.flags&512&&c.wrap&4&&(c.check=u(c.check,B,W,I)),L-=W,I+=W,c.length-=W),c.length))break e;c.length=0,c.mode=_r;case _r:if(c.flags&2048){if(L===0)break e;W=0;do Q=B[I+W++],c.head&&Q&&c.length<65536&&(c.head.name+=String.fromCharCode(Q));while(Q&&W<L);if(c.flags&512&&c.wrap&4&&(c.check=u(c.check,B,W,I)),L-=W,I+=W,Q)break e}else c.head&&(c.head.name=null);c.length=0,c.mode=Ke;case Ke:if(c.flags&4096){if(L===0)break e;W=0;do Q=B[I+W++],c.head&&Q&&c.length<65536&&(c.head.comment+=String.fromCharCode(Q));while(Q&&W<L);if(c.flags&512&&c.wrap&4&&(c.check=u(c.check,B,W,I)),L-=W,I+=W,Q)break e}else c.head&&(c.head.comment=null);c.mode=et;case et:if(c.flags&512){for(;T<16;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}if(c.wrap&4&&A!==(c.check&65535)){b.msg="header crc mismatch",c.mode=M;break}A=0,T=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),b.adler=c.check=0,c.mode=st;break;case ct:for(;T<32;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}b.adler=c.check=$e(A),A=0,T=0,c.mode=Rt;case Rt:if(c.havedict===0)return b.next_out=K,b.avail_out=ye,b.next_in=I,b.avail_in=L,c.hold=A,c.bits=T,Vt;b.adler=c.check=1,c.mode=st;case st:if(P===Ot||P===Je)break e;case or:if(c.last){A>>>=T&7,T-=T&7,c.mode=v;break}for(;T<3;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}switch(c.last=A&1,A>>>=1,T-=1,A&3){case 0:c.mode=Yt;break;case 1:if(lo(c),c.mode=it,P===Je){A>>>=2,T-=2;break e}break;case 2:c.mode=Jt;break;case 3:b.msg="invalid block type",c.mode=M}A>>>=2,T-=2;break;case Yt:for(A>>>=T&7,T-=T&7;T<32;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}if((A&65535)!==(A>>>16^65535)){b.msg="invalid stored block lengths",c.mode=M;break}if(c.length=A&65535,A=0,T=0,c.mode=mt,P===Je)break e;case mt:c.mode=lr;case lr:if(W=c.length,W){if(W>L&&(W=L),W>ye&&(W=ye),W===0)break e;j.set(B.subarray(I,I+W),K),L-=W,I+=W,ye-=W,K+=W,c.length-=W;break}c.mode=st;break;case Jt:for(;T<14;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}if(c.nlen=(A&31)+257,A>>>=5,T-=5,c.ndist=(A&31)+1,A>>>=5,T-=5,c.ncode=(A&15)+4,A>>>=4,T-=4,c.nlen>286||c.ndist>30){b.msg="too many length or distance symbols",c.mode=M;break}c.have=0,c.mode=ut;case ut:for(;c.have<c.ncode;){for(;T<3;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}c.lens[Lt[c.have++]]=A&7,A>>>=3,T-=3}for(;c.have<19;)c.lens[Lt[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,re={bits:c.lenbits},Ce=ne(Ie,c.lens,0,19,c.lencode,0,c.work,re),c.lenbits=re.bits,Ce){b.msg="invalid code lengths set",c.mode=M;break}c.have=0,c.mode=Or;case Or:for(;c.have<c.nlen+c.ndist;){for(;me=c.lencode[A&(1<<c.lenbits)-1],ue=me>>>24,we=me>>>16&255,pe=me&65535,!(ue<=T);){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}if(pe<16)A>>>=ue,T-=ue,c.lens[c.have++]=pe;else{if(pe===16){for(fe=ue+2;T<fe;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}if(A>>>=ue,T-=ue,c.have===0){b.msg="invalid bit length repeat",c.mode=M;break}Q=c.lens[c.have-1],W=3+(A&3),A>>>=2,T-=2}else if(pe===17){for(fe=ue+3;T<fe;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}A>>>=ue,T-=ue,Q=0,W=3+(A&7),A>>>=3,T-=3}else{for(fe=ue+7;T<fe;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}A>>>=ue,T-=ue,Q=0,W=11+(A&127),A>>>=7,T-=7}if(c.have+W>c.nlen+c.ndist){b.msg="invalid bit length repeat",c.mode=M;break}for(;W--;)c.lens[c.have++]=Q}}if(c.mode===M)break;if(c.lens[256]===0){b.msg="invalid code -- missing end-of-block",c.mode=M;break}if(c.lenbits=9,re={bits:c.lenbits},Ce=ne(Ve,c.lens,0,c.nlen,c.lencode,0,c.work,re),c.lenbits=re.bits,Ce){b.msg="invalid literal/lengths set",c.mode=M;break}if(c.distbits=6,c.distcode=c.distdyn,re={bits:c.distbits},Ce=ne(Be,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,re),c.distbits=re.bits,Ce){b.msg="invalid distances set",c.mode=M;break}if(c.mode=it,P===Je)break e;case it:c.mode=ft;case ft:if(L>=6&&ye>=258){b.next_out=K,b.avail_out=ye,b.next_in=I,b.avail_in=L,c.hold=A,c.bits=T,d(b,le),K=b.next_out,j=b.output,ye=b.avail_out,I=b.next_in,B=b.input,L=b.avail_in,A=c.hold,T=c.bits,c.mode===st&&(c.back=-1);break}for(c.back=0;me=c.lencode[A&(1<<c.lenbits)-1],ue=me>>>24,we=me>>>16&255,pe=me&65535,!(ue<=T);){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}if(we&&!(we&240)){for(G=ue,Se=we,Ee=pe;me=c.lencode[Ee+((A&(1<<G+Se)-1)>>G)],ue=me>>>24,we=me>>>16&255,pe=me&65535,!(G+ue<=T);){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}A>>>=G,T-=G,c.back+=G}if(A>>>=ue,T-=ue,c.back+=ue,c.length=pe,we===0){c.mode=y;break}if(we&32){c.back=-1,c.mode=st;break}if(we&64){b.msg="invalid literal/length code",c.mode=M;break}c.extra=we&15,c.mode=Y;case Y:if(c.extra){for(fe=c.extra;T<fe;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}c.length+=A&(1<<c.extra)-1,A>>>=c.extra,T-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=qt;case qt:for(;me=c.distcode[A&(1<<c.distbits)-1],ue=me>>>24,we=me>>>16&255,pe=me&65535,!(ue<=T);){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}if(!(we&240)){for(G=ue,Se=we,Ee=pe;me=c.distcode[Ee+((A&(1<<G+Se)-1)>>G)],ue=me>>>24,we=me>>>16&255,pe=me&65535,!(G+ue<=T);){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}A>>>=G,T-=G,c.back+=G}if(A>>>=ue,T-=ue,c.back+=ue,we&64){b.msg="invalid distance code",c.mode=M;break}c.offset=pe,c.extra=we&15,c.mode=f;case f:if(c.extra){for(fe=c.extra;T<fe;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}c.offset+=A&(1<<c.extra)-1,A>>>=c.extra,T-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){b.msg="invalid distance too far back",c.mode=M;break}c.mode=_;case _:if(ye===0)break e;if(W=le-ye,c.offset>W){if(W=c.offset-W,W>c.whave&&c.sane){b.msg="invalid distance too far back",c.mode=M;break}W>c.wnext?(W-=c.wnext,oe=c.wsize-W):oe=c.wnext-W,W>c.length&&(W=c.length),ze=c.window}else ze=j,oe=K-c.offset,W=c.length;W>ye&&(W=ye),ye-=W,c.length-=W;do j[K++]=ze[oe++];while(--W);c.length===0&&(c.mode=ft);break;case y:if(ye===0)break e;j[K++]=c.length,ye--,c.mode=ft;break;case v:if(c.wrap){for(;T<32;){if(L===0)break e;L--,A|=B[I++]<<T,T+=8}if(le-=ye,b.total_out+=le,c.total+=le,c.wrap&4&&le&&(b.adler=c.check=c.flags?u(c.check,j,le,K-le):t(c.check,j,le,K-le)),le=ye,c.wrap&4&&(c.flags?A:$e(A))!==c.check){b.msg="incorrect data check",c.mode=M;break}A=0,T=0}c.mode=x;case x:if(c.wrap&&c.flags){for(;T<32;){if(L===0)break e;L--,A+=B[I++]<<T,T+=8}if(c.wrap&4&&A!==(c.total&4294967295)){b.msg="incorrect length check",c.mode=M;break}A=0,T=0}c.mode=R;case R:Ce=Ht;break e;case M:Ce=Qe;break e;case V:return Xe;case F:default:return We}return b.next_out=K,b.avail_out=ye,b.next_in=I,b.avail_in=L,c.hold=A,c.bits=T,(c.wsize||le!==b.avail_out&&c.mode<M&&(c.mode<v||P!==Ct))&&as(b,b.output,b.next_out,le-b.avail_out),Re-=b.avail_in,le-=b.avail_out,b.total_in+=Re,b.total_out+=le,c.total+=le,c.wrap&4&&le&&(b.adler=c.check=c.flags?u(c.check,j,le,b.next_out-le):t(c.check,j,le,b.next_out-le)),b.data_type=c.bits+(c.last?64:0)+(c.mode===st?128:0)+(c.mode===it||c.mode===mt?256:0),(Re===0&&le===0||P===Ct)&&Ce===Fe&&(Ce=Ur),Ce},ls=b=>{if(je(b))return We;let P=b.state;return P.window&&(P.window=null),b.state=null,Fe},co=(b,P)=>{if(je(b))return We;let c=b.state;return c.wrap&2?(c.head=P,P.done=!1,Fe):We},cr=(b,P)=>{let c=P.length,B,j,I;return je(b)||(B=b.state,B.wrap!==0&&B.mode!==Rt)?We:B.mode===Rt&&(j=1,j=t(j,P,c,0),j!==B.check)?Qe:(I=as(b,P,c,c),I?(B.mode=V,Xe):(B.havedict=1,Fe))};var pi=on,uo=di,fo=mr,br=gi,Qt=In,yr=os,cs=ls,wr=co,_i=cr,us="pako inflate (from Nodeca project)",Ft={inflateReset:pi,inflateReset2:uo,inflateResetKeep:fo,inflateInit:br,inflateInit2:Qt,inflate:yr,inflateEnd:cs,inflateGetHeader:wr,inflateSetDictionary:_i,inflateInfo:us};let En=(b,P)=>Object.prototype.hasOwnProperty.call(b,P);var mi=function(b){let P=Array.prototype.slice.call(arguments,1);for(;P.length;){let c=P.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(let B in c)En(c,B)&&(b[B]=c[B])}}return b},bi=b=>{let P=0;for(let B=0,j=b.length;B<j;B++)P+=b[B].length;let c=new Uint8Array(P);for(let B=0,j=0,I=b.length;B<I;B++){let K=b[B];c.set(K,j),j+=K.length}return c},fs={assign:mi,flattenChunks:bi};let ds=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ds=!1}let Vr=new Uint8Array(256);for(let b=0;b<256;b++)Vr[b]=b>=252?6:b>=248?5:b>=240?4:b>=224?3:b>=192?2:1;Vr[254]=Vr[254]=1;var gs=b=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(b);let P,c,B,j,I,K=b.length,L=0;for(j=0;j<K;j++)c=b.charCodeAt(j),(c&64512)===55296&&j+1<K&&(B=b.charCodeAt(j+1),(B&64512)===56320&&(c=65536+(c-55296<<10)+(B-56320),j++)),L+=c<128?1:c<2048?2:c<65536?3:4;for(P=new Uint8Array(L),I=0,j=0;I<L;j++)c=b.charCodeAt(j),(c&64512)===55296&&j+1<K&&(B=b.charCodeAt(j+1),(B&64512)===56320&&(c=65536+(c-55296<<10)+(B-56320),j++)),c<128?P[I++]=c:c<2048?(P[I++]=192|c>>>6,P[I++]=128|c&63):c<65536?(P[I++]=224|c>>>12,P[I++]=128|c>>>6&63,P[I++]=128|c&63):(P[I++]=240|c>>>18,P[I++]=128|c>>>12&63,P[I++]=128|c>>>6&63,P[I++]=128|c&63);return P};let hs=(b,P)=>{if(P<65534&&b.subarray&&ds)return String.fromCharCode.apply(null,b.length===P?b:b.subarray(0,P));let c="";for(let B=0;B<P;B++)c+=String.fromCharCode(b[B]);return c};var go=(b,P)=>{let c=P||b.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(b.subarray(0,P));let B,j,I=new Array(c*2);for(j=0,B=0;B<c;){let K=b[B++];if(K<128){I[j++]=K;continue}let L=Vr[K];if(L>4){I[j++]=65533,B+=L-1;continue}for(K&=L===2?31:L===3?15:7;L>1&&B<c;)K=K<<6|b[B++]&63,L--;if(L>1){I[j++]=65533;continue}K<65536?I[j++]=K:(K-=65536,I[j++]=55296|K>>10&1023,I[j++]=56320|K&1023)}return hs(I,j)},ho=(b,P)=>{P=P||b.length,P>b.length&&(P=b.length);let c=P-1;for(;c>=0&&(b[c]&192)===128;)c--;return c<0||c===0?P:c+Vr[b[c]]>P?c:P},ps={string2buf:gs,buf2string:go,utf8border:ho},_s={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function yi(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var qr=yi;function po(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var An=po;let Fr=Object.prototype.toString,{Z_NO_FLUSH:kn,Z_FINISH:bt,Z_OK:Lr,Z_STREAM_END:ln,Z_NEED_DICT:Tn,Z_STREAM_ERROR:xn,Z_DATA_ERROR:cn,Z_MEM_ERROR:wi}=se;function un(b){this.options=fs.assign({chunkSize:1024*64,windowBits:15,to:""},b||{});let P=this.options;P.raw&&P.windowBits>=0&&P.windowBits<16&&(P.windowBits=-P.windowBits,P.windowBits===0&&(P.windowBits=-15)),P.windowBits>=0&&P.windowBits<16&&!(b&&b.windowBits)&&(P.windowBits+=32),P.windowBits>15&&P.windowBits<48&&(P.windowBits&15||(P.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qr,this.strm.avail_out=0;let c=Ft.inflateInit2(this.strm,P.windowBits);if(c!==Lr)throw new Error(_s[c]);if(this.header=new An,Ft.inflateGetHeader(this.strm,this.header),P.dictionary&&(typeof P.dictionary=="string"?P.dictionary=ps.string2buf(P.dictionary):Fr.call(P.dictionary)==="[object ArrayBuffer]"&&(P.dictionary=new Uint8Array(P.dictionary)),P.raw&&(c=Ft.inflateSetDictionary(this.strm,P.dictionary),c!==Lr)))throw new Error(_s[c])}un.prototype.push=function(b,P){let c=this.strm,B=this.options.chunkSize,j=this.options.dictionary,I,K,L;if(this.ended)return!1;for(P===~~P?K=P:K=P===!0?bt:kn,Fr.call(b)==="[object ArrayBuffer]"?c.input=new Uint8Array(b):c.input=b,c.next_in=0,c.avail_in=c.input.length;;){for(c.avail_out===0&&(c.output=new Uint8Array(B),c.next_out=0,c.avail_out=B),I=Ft.inflate(c,K),I===Tn&&j&&(I=Ft.inflateSetDictionary(c,j),I===Lr?I=Ft.inflate(c,K):I===cn&&(I=Tn));c.avail_in>0&&I===ln&&c.state.wrap>0&&b[c.next_in]!==0;)Ft.inflateReset(c),I=Ft.inflate(c,K);switch(I){case xn:case cn:case Tn:case wi:return this.onEnd(I),this.ended=!0,!1}if(L=c.avail_out,c.next_out&&(c.avail_out===0||I===ln))if(this.options.to==="string"){let ye=ps.utf8border(c.output,c.next_out),A=c.next_out-ye,T=ps.buf2string(c.output,ye);c.next_out=A,c.avail_out=B-A,A&&c.output.set(c.output.subarray(ye,ye+A),0),this.onData(T)}else this.onData(c.output.length===c.next_out?c.output:c.output.subarray(0,c.next_out));if(!(I===Lr&&L===0)){if(I===ln)return I=Ft.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,!0;if(c.avail_in===0)break}}return!0},un.prototype.onData=function(b){this.chunks.push(b)},un.prototype.onEnd=function(b){b===Lr&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=fs.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};function ms(b,P){let c=new un(P);if(c.push(b),c.err)throw c.msg||_s[c.err];return c.result}function bs(b,P){return P=P||{},P.raw=!0,ms(b,P)}var Nr=un,Si=ms,vi=bs,Pi=ms,ys=se,Ci={Inflate:Nr,inflate:Si,inflateRaw:vi,ungzip:Pi,constants:ys};r.Inflate=Nr,r.constants=ys,r.default=Ci,r.inflate=Si,r.inflateRaw=vi,r.ungzip=Pi,Object.defineProperty(r,"__esModule",{value:!0})})});var Bs=z((Qw,Pf)=>{"use strict";var{inflate:Bm}=vf(),{serializeBytes:Dm}=Kr(),el=class r{static CONSTRUCTOR_ID=812830625;static classType="constructor";constructor(e){this.data=e,this.CONSTRUCTOR_ID=812830625,this.classType="constructor"}static async gzipIfSmaller(e,t){if(e&&t.length>512){let s=await new r(t).toBytes();if(s.length<t.length)return s}return t}static gzip(e){return Buffer.from(e)}static ungzip(e){return Buffer.from(Bm(e))}static read(e){if(e.readInt(!1)!==r.CONSTRUCTOR_ID)throw new Error("not equal");return r.gzip(e.tgReadBytes())}static async fromReader(e){return new r(await r.ungzip(e.tgReadBytes()))}async toBytes(){let e=Buffer.alloc(4);return e.writeUInt32LE(r.CONSTRUCTOR_ID,0),Buffer.concat([e,Dm(await r.gzip(this.data))])}};Pf.exports=el});var rl=z((Xw,If)=>{"use strict";var{RpcError:Cf}=Kr().constructors,Rf=Bs(),tl=class r{static CONSTRUCTOR_ID=4082920705;static classType="constructor";constructor(e,t,s){this.CONSTRUCTOR_ID=4082920705,this.reqMsgId=e,this.body=t,this.error=s,this.classType="constructor"}static async fromReader(e){let t=e.readLong(),s=e.readInt(!1);return s===Cf.CONSTRUCTOR_ID?new r(t,void 0,Cf.fromReader(e)):s===Rf.CONSTRUCTOR_ID?new r(t,(await Rf.fromReader(e)).data):(e.seek(-4),new r(t,e.read(),void 0))}};If.exports=tl});var Qi=z((eS,Ef)=>{"use strict";var Um=Yi(),nl=class r{static CONSTRUCTOR_ID=1945237724;static classType="constructor";static MAXIMUM_SIZE=1044448;static MAXIMUM_LENGTH=100;constructor(e){this.CONSTRUCTOR_ID=1945237724,this.messages=e,this.classType="constructor"}static fromReader(e){let t=[],s=e.readInt();for(let i=0;i<s;i++){let o=e.readLong(),u=e.readInt(),p=e.readInt(),g=e.tellPosition(),d=e.tgReadObject();e.setPosition(g+p);let h=new Um(o,u,d);t.push(h)}return new r(t)}};Ef.exports=nl});var ol=z((tS,Af)=>{"use strict";var Om=Yi(),sl=rl(),il=Qi(),al=Bs(),Vm={[sl.CONSTRUCTOR_ID]:sl,[al.CONSTRUCTOR_ID]:al,[il.CONSTRUCTOR_ID]:il};Af.exports={TLMessage:Om,RPCResult:sl,MessageContainer:il,GZIPPacked:al,coreObjects:Vm}});var cl=z((rS,kf)=>{"use strict";var qm=Gn(),Fm=174,ll={};for(let r of Object.values(qm))if(r.CONSTRUCTOR_ID)ll[r.CONSTRUCTOR_ID]=r;else for(let e of Object.values(r))ll[e.CONSTRUCTOR_ID]=e;kf.exports={LAYER:Fm,tlobjects:ll}});var pn=z((nS,Tf)=>{"use strict";var{TypeNotFoundError:Lm}=Ir(),{coreObjects:Nm}=ol(),{tlobjects:Wm}=cl(),{readBigIntFromBuffer:jm}=rt(),ul=class{constructor(e){this.stream=e,this._last=void 0,this.offset=0}readByte(){return this.read(1)[0]}readInt(e=!0){let t;return e?t=this.stream.readInt32LE(this.offset):t=this.stream.readUInt32LE(this.offset),this.offset+=4,t}readLong(e=!0){return this.readLargeInt(64,e)}readFloat(){return this.read(4).readFloatLE(0)}readDouble(){return this.read(8).readDoubleLE(0)}readLargeInt(e,t=!0){let s=this.read(Math.floor(e/8));return jm(s,!0,t)}read(e=-1){e===-1&&(e=this.stream.length-this.offset);let t=this.stream.slice(this.offset,this.offset+e);if(this.offset+=e,t.length!==e)throw Error(`No more data left to read (need ${e}, got ${t.length}: ${t}); last read ${this._last}`);return this._last=t,t}getBuffer(){return this.stream}tgReadBytes(){let e=this.readByte(),t,s;e===254?(s=this.readByte()|this.readByte()<<8|this.readByte()<<16,t=s%4):(s=e,t=(s+1)%4);let i=this.read(s);return t>0&&(t=4-t,this.read(t)),i}tgReadString(){return this.tgReadBytes().toString("utf-8")}tgReadBool(){let e=this.readInt(!1);if(e===2574415285)return!0;if(e===3162085175)return!1;throw new Error(`Invalid boolean code ${e.toString("16")}`)}tgReadDate(){let e=this.readInt();return new Date(e*1e3)}tgReadObject(){let e=this.readInt(!1),t=Wm[e];if(t===void 0){let s=e;if(s===2574415285)return!0;if(s===3162085175)return!1;if(s===481674261){let i=[],o=this.readInt();for(let u=0;u<o;u++)i.push(this.tgReadObject());return i}if(t=Nm[e],t===void 0){this.seek(-4);let i=this.tellPosition(),o=new Lm(e,this.read());throw this.setPosition(i),o}}return t.fromReader(this)}tgReadVector(){if(this.readInt(!1)!==481674261)throw new Error("Invalid constructor code, vector was expected");let e=this.readInt(),t=[];for(let s=0;s<e;s++)t.push(this.tgReadObject());return t}close(){this.stream=void 0}tellPosition(){return this.offset}setPosition(e){this.offset=e}seek(e){this.offset+=e}};Tf.exports=ul});var Xi=z((sS,Bf)=>{"use strict";var{sha1:xf,toSignedLittleBuffer:zm,readBufferFromBigInt:Gm,readBigIntFromBuffer:$m}=rt(),Mf=pn(),{sleep:Hm}=rt(),fl=class r{constructor(e,t){if(!t||!e)return;this._key=e,this._hash=t;let s=new Mf(t);this.auxHash=s.readLong(!1),s.read(4),this.keyId=s.readLong(!1)}async setKey(e){if(!e){this._key=void 0,this.auxHash=void 0,this.keyId=void 0,this._hash=void 0;return}if(e instanceof r){this._key=e._key,this.auxHash=e.auxHash,this.keyId=e.keyId,this._hash=e._hash;return}this._key=e,this._hash=await xf(this._key);let t=new Mf(this._hash);this.auxHash=t.readLong(!1),t.read(4),this.keyId=t.readLong(!1)}async waitForKey(){for(;!this.keyId;)await Hm(20)}getKey(){return this._key}async calcNewNonceHash(e,t){e=zm(e,32);let s=Buffer.alloc(1);s.writeUInt8(t,0);let i=Buffer.concat([e,Buffer.concat([s,Gm(this.auxHash,8,!0)])]),o=(await xf(i)).slice(4,20);return $m(o,!0,!0)}equals(e){return e instanceof this.constructor&&this._key&&e.getKey()&&e.getKey().equals(this._key)}};Bf.exports=fl});var Of=z((iS,Uf)=>{"use strict";var{constructors:De}=Kr(),Km=Buffer.from("ffd8ffe000104a46494600010100000100010000ffdb004300281c1e231e19282321232d2b28303c64413c37373c7b585d4964918099968f808c8aa0b4e6c3a0aadaad8a8cc8ffcbdaeef5ffffff9bc1fffffffaffe6fdfff8ffdb0043012b2d2d3c353c76414176f8a58ca5f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8ffc00011080000000003012200021101031101ffc4001f0000010501010101010100000000000000000102030405060708090a0bffc400b5100002010303020403050504040000017d01020300041105122131410613516107227114328191a1082342b1c11552d1f02433627282090a161718191a25262728292a3435363738393a434445464748494a535455565758595a636465666768696a737475767778797a838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae1e2e3e4e5e6e7e8e9eaf1f2f3f4f5f6f7f8f9faffc4001f0100030101010101010101010000000000000102030405060708090a0bffc400b51100020102040403040705040400010277000102031104052131061241510761711322328108144291a1b1c109233352f0156272d10a162434e125f11718191a262728292a35363738393a434445464748494a535455565758595a636465666768696a737475767778797a82838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae2e3e4e5e6e7e8e9eaf2f3f4f5f6f7f8f9faffda000c03010002110311003f00","hex"),Zm=Buffer.from("ffd9","hex");function Df(r,e){throw new Error(`Cannot cast ${r.className} to any kind of ${e}`)}function dl(r,e=!0,t=!0){if(r.SUBCLASS_OF_ID===void 0){if(e&&"inputEntity"in r)return r.inputEntity;if("entity"in r)return dl(r.entity);Df(r,"InputPeer")}if(r.SUBCLASS_OF_ID===3374092470)return r;if(r instanceof De.User){if(r.isSelf&&e)return new De.InputPeerSelf;if(r.accessHash!==void 0||!t)return new De.InputPeerUser({userId:r.id,accessHash:r.accessHash});throw new Error("User without accessHash or min info cannot be input")}if(r instanceof De.Chat||r instanceof De.ChatEmpty||r instanceof De.ChatForbidden)return new De.InputPeerChat({chatId:r.id});if(r instanceof De.Channel){if(r.accessHash!==void 0||!t)return new De.InputPeerChannel({channelId:r.id,accessHash:r.accessHash});throw new TypeError("Channel without accessHash or min info cannot be input")}if(r instanceof De.ChannelForbidden)return new De.InputPeerChannel({channelId:r.id,accessHash:r.accessHash});if(r instanceof De.InputUser)return new De.InputPeerUser({userId:r.userId,accessHash:r.accessHash});if(r instanceof De.InputChannel)return new De.InputPeerChannel({channelId:r.channelId,accessHash:r.accessHash});if(r instanceof De.UserEmpty)return new De.InputPeerEmpty;if(r instanceof De.UserFull)return dl(r.user);if(r instanceof De.ChatFull)return new De.InputPeerChat({chatId:r.id});if(r instanceof De.PeerChat)return new De.InputPeerChat(r.chatId);Df(r,"InputPeer")}function Ym(r){if(r.length<3||r[0]!==1)return r;let e=Buffer.from(Km);return e[164]=r[1],e[166]=r[2],Buffer.concat([e,r.slice(3),Zm])}function Jm(r){if(r<=65536)return 64;if(r<=104857600)return 128;if(r<=786432e3)return 256;if(r<=2097152e3)return 512;if(r<=4194304e3)return 1024;throw new Error("File size too large")}function Qm(r){if(r<=104857600)return 128;if(r<=786432e3)return 256;if(r<=2097152e3||r<=4194304e3)return 512;throw new Error("File size too large")}function Xm(r){if(r!==void 0){if(typeof r=="number")return r;if(r.SUBCLASS_OF_ID===2030045667)return r.id;throw new Error(`Invalid message type: ${r.constructor.name}`)}}function eb(r){return r instanceof De.User?r.lastName&&r.firstName?`${r.firstName} ${r.lastName}`:r.firstName?r.firstName:r.lastName?r.lastName:"":r instanceof De.Chat||r instanceof De.Channel?r.title:""}function tb(r,e=!1){switch(r){case 1:return{id:1,ipAddress:`zws1${e?"-1":""}.web.telegram.org`,port:443};case 2:return{id:2,ipAddress:`zws2${e?"-1":""}.web.telegram.org`,port:443};case 3:return{id:3,ipAddress:`zws3${e?"-1":""}.web.telegram.org`,port:443};case 4:return{id:4,ipAddress:`zws4${e?"-1":""}.web.telegram.org`,port:443};case 5:return{id:5,ipAddress:`zws5${e?"-1":""}.web.telegram.org`,port:443};default:throw new Error(`Cannot find the DC with the ID of ${r}`)}}Uf.exports={getMessageId:Xm,getInputPeer:dl,getDisplayName:eb,getDownloadPartSize:Jm,getUploadPartSize:Qm,strippedPhotoToJpg:Ym,getDC:tb}});var Ff=z((aS,qf)=>{"use strict";var rb=_f(),Vf=Xi(),nb=Of(),gl=class extends rb{constructor(e,t){super(),this._sessionData=e,this._callback=t,this._authKeys={}}get authKey(){throw new Error("Not supported")}set authKey(e){throw new Error("Not supported")}async load(){if(!this._sessionData)return;let{mainDcId:e,keys:t,hashes:s}=this._sessionData,{ipAddress:i,port:o}=nb.getDC(e);this.setDC(e,i,o,!0),await Promise.all(Object.keys(t).map(async u=>{let p=typeof t[u]=="string"?Buffer.from(t[u],"hex"):Buffer.from(t[u]);if(s[u]){let g=typeof s[u]=="string"?Buffer.from(s[u],"hex"):Buffer.from(s[u]);this._authKeys[u]=new Vf(p,g)}else this._authKeys[u]=new Vf,await this._authKeys[u].setKey(p,!0)}))}setDC(e,t,s,i=!1){this._dcId=e,this._serverAddress=t,this._port=s,delete this._authKeys[e],i||this._onUpdate()}getAuthKey(e=this._dcId){return this._authKeys[e]}setAuthKey(e,t=this._dcId){this._authKeys[t]=e,this._onUpdate()}getSessionData(){let e={mainDcId:this._dcId,keys:{},hashes:{}};return Object.keys(this._authKeys).forEach(t=>{let s=this._authKeys[t];!s||!s._key||(e.keys[t]=s._key.toString("hex"),e.hashes[t]=s._hash.toString("hex"))}),e}_onUpdate(){this._callback(this.getSessionData())}delete(){this._callback(void 0)}};qf.exports=gl});var pl=z((oS,Lf)=>{"use strict";var Ds,hl=class r{static LEVEL_MAP=new Map([["error",new Set(["error"])],["warn",new Set(["error","warn"])],["info",new Set(["error","warn","info"])],["debug",new Set(["error","warn","info","debug"])]]);constructor(e){Ds||(Ds=e||"debug"),this.colors={start:"%c",warn:"color : #ff00ff",info:"color : #ffff00",debug:"color : #00ffff",error:"color : #ff0000",end:""},this.messageFormat="[%t] [%l] - [%m]"}static setLevel(e){Ds=e}canSend(e){return r.LEVEL_MAP.get(Ds).has(e)}warn(e){this._log("warn",e,this.colors.warn)}info(e){this._log("info",e,this.colors.info)}debug(e){this._log("debug",e,this.colors.debug)}error(e){this._log("error",e,this.colors.error)}format(e,t){return this.messageFormat.replace("%t",new Date().toISOString()).replace("%l",t.toUpperCase()).replace("%m",e)}_log(e,t,s){Ds&&this.canSend(e)&&console.log(this.colors.start+this.format(t,e),s)}};Lf.exports=hl});var ea=z((lS,Nf)=>{"use strict";var Wt=class r extends Error{constructor(e,t,s=void 0){super("RPCError {0}: {1}{2}".replace("{0}",s).replace("{1}",e).replace("{2}",r._fmtRequest(t))),this.code=s,this.message=e}static _fmtRequest(e){return e?` (caused by ${e.className})`:""}},_l=class extends Wt{constructor(e,t,s){super(t,e,s),this.code=s||303,this.message=t||"ERROR_SEE_OTHER"}},ml=class extends Wt{code=400;message="BAD_REQUEST"},bl=class extends Wt{code=401;message="UNAUTHORIZED"},yl=class extends Wt{code=403;message="FORBIDDEN"},wl=class extends Wt{code=404;message="NOT_FOUND"},Sl=class extends Wt{code=406;message="AUTH_KEY"},vl=class extends Wt{code=420;message="FLOOD"},Pl=class extends Wt{code=500;message="INTERNAL"},Cl=class extends Wt{code=503;message="Timeout"};Nf.exports={RPCError:Wt,InvalidDCError:_l,BadRequestError:ml,UnauthorizedError:bl,ForbiddenError:yl,NotFoundError:wl,AuthKeyError:Sl,FloodError:vl,ServerError:Pl,TimedOutError:Cl}});var Rl=z((cS,Wf)=>{"use strict";var{RPCError:Ze,InvalidDCError:ua,FloodError:fa,BadRequestError:sb,TimedOutError:ib}=ea(),ta=class extends ua{constructor(e){let t=Number(e.capture||0);super(`The user whose identity is being used to execute queries is associated with DC ${t}${Ze._fmtRequest(e.request)}`),this.message=`The user whose identity is being used to execute queries is associated with DC ${t}${Ze._fmtRequest(e.request)}`,this.newDc=t}},ra=class extends ua{constructor(e){let t=Number(e.capture||0);super(`The phone number a user is trying to use for authorization is associated with DC ${t}${Ze._fmtRequest(e.request)}`),this.message=`The phone number a user is trying to use for authorization is associated with DC ${t}${Ze._fmtRequest(e.request)}`,this.newDc=t}},na=class extends fa{constructor(e){let t=Number(e.capture||0);super(`A wait of ${t} seconds is required before sending another message in this chat${Ze._fmtRequest(e.request)}`),this.message=`A wait of ${t} seconds is required before sending another message in this chat${Ze._fmtRequest(e.request)}`,this.seconds=t}},sa=class extends fa{constructor(e){let t=Number(e.capture||0);super(`A wait of ${t} seconds is required${Ze._fmtRequest(e.request)}`),this.message=`A wait of ${t} seconds is required${Ze._fmtRequest(e.request)}`,this.seconds=t}},ia=class extends fa{constructor(e){super(`Message failed to be sent.${Ze._fmtRequest(e.request)}`),this.message=`Message failed to be sent.${Ze._fmtRequest(e.request)}`}},aa=class extends fa{constructor(e){let t=Number(e.capture||0);super(`A wait of ${t} seconds is required in the test servers${Ze._fmtRequest(e.request)}`),this.message=`A wait of ${t} seconds is required in the test servers${Ze._fmtRequest(e.request)}`,this.seconds=t}},oa=class extends ua{constructor(e){let t=Number(e.capture||0);super(`The file to be accessed is currently stored in DC ${t}${Ze._fmtRequest(e.request)}`),this.message=`The file to be accessed is currently stored in DC ${t}${Ze._fmtRequest(e.request)}`,this.newDc=t}},la=class extends ua{constructor(e){let t=Number(e.capture||0);super(`The source IP address is associated with DC ${t}${Ze._fmtRequest(e.request)}`),this.message=`The source IP address is associated with DC ${t}${Ze._fmtRequest(e.request)}`,this.newDc=t}},ca=class extends sb{constructor(e){let t=Number(e.capture||0);super(`Email unconfirmed, the length of the code must be ${t}${Ze._fmtRequest(e.request)}`),this.message=`Email unconfirmed, the length of the code must be ${t}${Ze._fmtRequest(e.request)}`,this.codeLength=t}},ab=[[/FILE_MIGRATE_(\d+)/,oa],[/FLOOD_TEST_PHONE_WAIT_(\d+)/,aa],[/FLOOD_WAIT_(\d+)/,sa],[/MSG_WAIT_(.*)/,ia],[/PHONE_MIGRATE_(\d+)/,ra],[/SLOWMODE_WAIT_(\d+)/,na],[/USER_MIGRATE_(\d+)/,ta],[/NETWORK_MIGRATE_(\d+)/,la],[/EMAIL_UNCONFIRMED_(\d+)/,ca],[/^Timeout$/,ib]];Wf.exports={rpcErrorRe:ab,FileMigrateError:oa,FloodTestPhoneWaitError:aa,FloodWaitError:sa,PhoneMigrateError:ra,SlowModeWaitError:na,UserMigrateError:ta,NetworkMigrateError:la,MsgWaitError:ia,EmailUnconfirmedError:ca}});var Us=z((uS,jf)=>{"use strict";var{RPCError:ob}=ea(),{rpcErrorRe:lb}=Rl();function cb(r,e){for(let[t,s]of lb){let i=r.errorMessage.match(t);if(i){let o=i.length===2?parseInt(i[1],10):void 0;return new s({request:e,capture:o})}}return new ob(r.errorMessage,e)}var ub=Ir(),fb=ea(),db=Rl();jf.exports={RPCMessageToError:cb,...ub,...fb,...db}});var Al=z((fS,zf)=>{"use strict";var{IGE:gb}=Gi(),Il=rt(),El=class{constructor(e,t){this.ige=new gb(e,t)}decryptIge(e){return Il.convertToLittle(this.ige.decrypt(e))}encryptIge(e){let t=e.length%16;return t&&(e=Buffer.concat([e,Il.generateRandomBytes(16-t)])),Il.convertToLittle(this.ige.encrypt(e))}};zf.exports=El});var xl=z((dS,Kf)=>{"use strict";var Er=Rr(),Gf=Gi(),kt=rt(),$f=Al(),hb=pn(),Hf=Bs(),{TLMessage:pb}=ol(),{SecurityError:Zr,InvalidBufferError:_b}=Ir(),{InvokeAfterMsg:mb}=Kr().requests,{toSignedLittleBuffer:kl}=rt(),Tl=class{constructor(e,t,s=!1,i=!1){this.authKey=e,this._log=t,this._isCall=s,this._isOutgoing=i,this.timeOffset=0,this.salt=0,this.id=void 0,this._sequence=void 0,this._lastMsgId=void 0,this.msgIds=[],this.reset()}reset(){this.id=kt.generateRandomLong(!0),this._sequence=0,this._lastMsgId=Er(0),this.msgIds=[]}updateMessageId(e){e.msgId=this._getNewMsgId()}async _calcKey(e,t,s){let i=this._isCall?128+(this._isOutgoing^s?8:0):s===!0?0:8,[o,u]=await Promise.all([kt.sha256(Buffer.concat([t,e.slice(i,i+36)])),kt.sha256(Buffer.concat([e.slice(i+40,i+76),t]))]),p=Buffer.concat([o.slice(0,8),u.slice(8,24),o.slice(24,32)]);if(this._isCall){let d=Buffer.concat([u.slice(0,4),o.slice(8,16),u.slice(24,28)]);return{key:p,iv:d}}let g=Buffer.concat([u.slice(0,8),o.slice(8,24),u.slice(24,32)]);return{key:p,iv:g}}async writeDataAsMessage(e,t,s,i){let o=this._getNewMsgId(),u=this._getSeqNo(s),p;i?p=await Hf.gzipIfSmaller(s,new mb({msgId:i,query:{getBytes(){return t}}}).getBytes()):p=await Hf.gzipIfSmaller(s,t);let g=Buffer.alloc(4);g.writeInt32LE(u,0);let d=Buffer.alloc(4);d.writeInt32LE(p.length,0);let h=kl(o,8);return e.write(Buffer.concat([h,g,d])),e.write(p),o}async encryptMessageData(e){if(await this.authKey.waitForKey(),this._isCall){let t=128+(this._isOutgoing?0:8),s=e.length;e=Buffer.from(e),s%4!==0&&(e=Buffer.concat([e,Buffer.from(new Array(4-s%4).fill(32))]));let o=(await kt.sha256(Buffer.concat([this.authKey.getKey().slice(88+t,88+t+32),Buffer.from(e)]))).slice(8,24),{iv:u,key:p}=await this._calcKey(this.authKey.getKey(),o,!0);return e=kt.convertToLittle(new Gf.CTR(p,u).encrypt(e)),Buffer.concat([o,e])}else{let t=kl(this.salt,8),s=kl(this.id,8);e=Buffer.concat([Buffer.concat([t,s]),e]);let i=kt.generateRandomBytes(kt.mod(-(e.length+12),16)+12),u=(await kt.sha256(Buffer.concat([this.authKey.getKey().slice(88,120),e,i]))).slice(8,24),{iv:p,key:g}=await this._calcKey(this.authKey.getKey(),u,!0),d=kt.readBufferFromBigInt(this.authKey.keyId,8);return Buffer.concat([d,u,new $f(g,p).encryptIge(Buffer.concat([e,i]))])}}async decryptMessageData(e){var g;if(e.length<8)throw new _b(e);if(e.length<0)throw new Zr("Server replied with negative length");if(e.length%4!==0&&!this._isCall)throw new Zr("Server replied with length not divisible by 4");if(!this._isCall&&kt.readBigIntFromBuffer(e.slice(0,8)).neq(this.authKey.keyId))throw new Zr("Server replied with an invalid auth key");let t=this._isCall?e.slice(0,16):e.slice(8,24),s=this._isCall?128+(this.isOutgoing?8:0):void 0,{iv:i,key:o}=await this._calcKey(this.authKey.getKey(),t,!1);if(this._isCall){e=e.slice(16);let d=e.length;e=Buffer.concat([e,Buffer.from(new Array(4-d%4).fill(0))]),e=kt.convertToLittle(new Gf.CTR(o,i).decrypt(e)),e=e.slice(0,d)}else e=new $f(o,i).decryptIge(this._isCall?e.slice(16):e.slice(24));let u=this._isCall?await kt.sha256(Buffer.concat([this.authKey.getKey().slice(88+s,88+s+32),e])):await kt.sha256(Buffer.concat([this.authKey.getKey().slice(96,128),e]));if(!this._isCall&&!t.equals(u.slice(8,24)))throw new Zr("Received msg_key doesn't match with expected one");let p=new hb(e);if(this._isCall)return p.readInt(!1),p.read(e.length-4);{if(p.readLong(),!p.readLong().eq(this.id))throw new Zr("Server replied with a wrong session ID");let h=p.readLong();if(this.msgIds.includes(h.toString()))throw new Zr("Duplicate msgIds");this.msgIds.length>500&&this.msgIds.shift();let S=p.readInt(),C=p.readInt(),O=e.length-C;if(O<12||O>1024)throw new Zr("Server replied with the wrong message padding");let E=await p.tgReadObject();if((g=E==null?void 0:E.className)!=null&&g.startsWith("Update")){let q=Math.floor(Date.now()/1e3),U=this.getMsgIdTimeLocal(h);if(U&&(U-q>30||q-U>300))throw new Zr("The message time is incorrect.")}return E&&!("errorCode"in E)&&this.msgIds.push(h.toString()),new pb(h,S,E)}}_getNewMsgId(){let e=Date.now()/1e3+this.timeOffset,t=Math.floor((e-Math.floor(e))*1e9),s=Er(Math.floor(e)).shiftLeft(Er(32)).or(Er(t).shiftLeft(Er(2)));return this._lastMsgId.greaterOrEquals(s)&&(s=this._lastMsgId.add(Er(4))),this._lastMsgId=s,s}getMsgIdTimeLocal(e){return this._lastMsgId.eq(0)?!1:e.shiftRight(Er(32)).toJSNumber()-this.timeOffset}updateTimeOffset(e){let t=this._getNewMsgId(),s=this.timeOffset,i=Math.floor(Date.now()/1e3),o=e.shiftRight(Er(32));return this.timeOffset=o-i,this.timeOffset!==s&&(this._lastMsgId=Er(0),this._log.debug(`Updated time offset (old offset ${s}, bad ${t}, good ${e}, new ${this.timeOffset})`)),this.timeOffset}_getSeqNo(e){if(e){let t=this._sequence*2+1;return this._sequence+=1,t}else return this._sequence*2}};Kf.exports=Tl});var Jf=z((gS,Yf)=>{"use strict";var Zf=Rr(),bb=xl(),yb=pn(),{InvalidBufferError:wb}=Ir(),{toSignedLittleBuffer:Sb}=rt(),Ml=class{constructor(e,t){this._state=new bb(e,t),this._connection=e}async send(e){let t=e.getBytes(),s=this._state._getNewMsgId(),i=Sb(s,8),o=Buffer.alloc(4);o.writeInt32LE(t.length,0);let u=Buffer.concat([Buffer.concat([Buffer.alloc(8),i,o]),t]);if(await this._connection.send(u),t=await this._connection.recv(),t.length<8)throw new wb(t);let p=new yb(t);if(p.readLong().neq(Zf(0)))throw new Error("Bad authKeyId");if(s=p.readLong(),s.eq(Zf(0)))throw new Error("Bad msgId");if(p.readInt()<=0)throw new Error("Bad length");return p.tgReadObject()}};Yf.exports=Ml});var Os,Vs,Qf,Xf=Ue(()=>{"use strict";Os=tt(Rr()),Vs=tt(rt()),Qf=[{fingerprint:(0,Os.default)("-3414540481677951611"),n:(0,Os.default)("29379598170669337022986177149456128565388431120058863768162556424047512191330847455146576344487764408661701890505066208632169112269581063774293102577308490531282748465986139880977280302242772832972539403531316010870401287642763009136156734339538042419388722777357134487746169093539093850251243897188928735903389451772730245253062963384108812842079887538976360465290946139638691491496062099570836476454855996319192747663615955633778034897140982517446405334423701359108810182097749467210509584293428076654573384828809574217079944388301239431309115013843331317877374435868468779972014486325557807783825502498215169806323"),e:65537},{fingerprint:(0,Os.default)("-5595554452916591101"),n:(0,Os.default)("25342889448840415564971689590713473206898847759084779052582026594546022463853940585885215951168491965708222649399180603818074200620463776135424884632162512403163793083921641631564740959529419359595852941166848940585952337613333022396096584117954892216031229237302943701877588456738335398602461675225081791820393153757504952636234951323237820036543581047826906120927972487366805292115792231423684261262330394324750785450942589751755390156647751460719351439969059949569615302809050721500330239005077889855323917509948255722081644689442127297605422579707142646660768825302832201908302295573257427896031830742328565032949"),e:65537}].reduce((r,{fingerprint:e,...t})=>(r.set(e.toString(),t),r),new Map)});var td=z((pS,ed)=>{"use strict";var Oe=Rr(),{modExp:Bl}=rt(),Dl=class r{static gcd(e,t){for(;t.neq(Oe.zero);){let s=t;t=e.remainder(t),e=s}return e}static factorize(e){if(e.remainder(2).equals(Oe.zero))return{p:Oe(2),q:e.divide(Oe(2))};let t=Oe.randBetween(Oe(1),e.minus(1)),s=Oe.randBetween(Oe(1),e.minus(1)),i=Oe.randBetween(Oe(1),e.minus(1)),o=Oe.one,u=Oe.one,p=Oe.one,g=Oe.zero,d=Oe.zero,h;for(;o.eq(Oe.one);){g=t;for(let C=0;Oe(C).lesser(u);C++)t=Bl(t,Oe(2),e).add(s).remainder(e);for(h=Oe.zero;h.lesser(u)&&o.eq(Oe.one);){d=t;let C=Oe.min(i,u.minus(h));for(let O=0;Oe(O).lesser(C);O++)t=Bl(t,Oe(2),e).add(s).remainder(e),p=p.multiply(g.minus(t).abs()).remainder(e);o=r.gcd(p,e),h=h.add(i)}u=u.multiply(2)}if(o.eq(e))for(;d=Bl(d,Oe(2),e).add(s).remainder(e),o=r.gcd(g.minus(d).abs(),e),!o.greater(1););let S=o;return p=e.divide(o),S<p?{p:S,q:p}:{p,q:S}}};ed.exports=Dl});var nd={};Hr(nd,{doAuthentication:()=>Ib});async function Ib(r,e){let t=ve.generateRandomBytes(16),s=ve.readBigIntFromBuffer(t,!1,!0),i=await r.send(new ot.default.ReqPqMulti({nonce:s}));if(e.debug("Starting authKey generation step 1"),!(i instanceof ot.default.ResPQ))throw new Le.SecurityError(`Step 1 answer was ${i}`);if(i.nonce.neq(s))throw new Le.SecurityError("Step 1 invalid nonce from server");let o=ve.readBigIntFromBuffer(i.pq,!1,!0);e.debug("Finished authKey generation step 1");let{p:u,q:p}=Pb.factorize(o),g=ve.getByteArray(u),d=ve.getByteArray(p);t=ve.generateRandomBytes(32);let h=ve.readBigIntFromBuffer(t,!0,!0),S=new ot.default.PQInnerData({pq:ve.getByteArray(o),p:g,q:d,nonce:i.nonce,serverNonce:i.serverNonce,newNonce:h}).getBytes();if(S.length>144)throw new Le.SecurityError("Step 1 invalid nonce from server");let C,O;for(let et of i.serverPublicKeyFingerprints)if(O=Qf.get(et.toString()),O!==void 0){C=et;break}if(C===void 0||O===void 0)throw new Le.SecurityError("Step 2 could not find a valid key for fingerprints");let E=ve.generateRandomBytes(192-S.length),q=Buffer.concat([S,E]),U=Buffer.from(q).reverse(),N;for(let et=0;et<Rb;et++){let ct=ve.generateRandomBytes(32),Rt=await ve.sha256(Buffer.concat([ct,q])),st=Buffer.concat([U,Rt]),Yt=new rd(ct,Buffer.alloc(32)).encryptIge(st),mt=ve.bufferXor(ct,await ve.sha256(Yt)),lr=Buffer.concat([mt,Yt]),Jt=ve.readBigIntFromBuffer(lr,!1,!1);if(Jt.greaterOrEquals(O.n)){e.debug("Aes key greater than RSA. retrying");continue}let ut=ve.modExp(Jt,da(O.e),O.n);N=ve.readBufferFromBigInt(ut,256,!1,!1);break}if(N===void 0)throw new Le.SecurityError("Step 2 could create a secure encrypted key");e.debug("Step 2 : Generated a secure aes encrypted data");let H=await r.send(new ot.default.ReqDHParams({nonce:i.nonce,serverNonce:i.serverNonce,p:g,q:d,publicKeyFingerprint:C,encryptedData:N}));if(!(H instanceof ot.default.ServerDHParamsOk||H instanceof ot.default.ServerDHParamsFail))throw new Error(`Step 2.1 answer was ${H}`);if(H.nonce.neq(i.nonce))throw new Le.SecurityError("Step 2 invalid nonce from server");if(H.serverNonce.neq(i.serverNonce))throw new Le.SecurityError("Step 2 invalid server nonce from server");if(H instanceof ot.default.ServerDHParamsFail){let et=await ve.sha1(ve.toSignedLittleBuffer(h,32).slice(4,20)),ct=ve.readBigIntFromBuffer(et,!0,!0);if(H.newNonceHash.neq(ct))throw new Le.SecurityError("Step 2 invalid DH fail nonce from server")}if(!(H instanceof ot.default.ServerDHParamsOk))throw new Error(`Step 2.2 answer was ${H}`);e.debug("Finished authKey generation step 2"),e.debug("Starting authKey generation step 3");let{key:te,iv:Z}=await ve.generateKeyDataFromNonce(i.serverNonce,h);if(H.encryptedAnswer.length%16!==0)throw new Le.SecurityError("Step 3 AES block size mismatch");let ne=new rd(te,Z),se=ne.decryptIge(H.encryptedAnswer),Ie=new Cb(se),Ve=Ie.read(20),Be=Ie.tgReadObject();if(!(Be instanceof ot.default.ServerDHInnerData))throw new Error(`Step 3 answer was ${Be}`);let Ct=await ve.sha1(Be.getBytes());if(!Ve.equals(Ct))throw new Le.SecurityError("Step 3 Invalid hash answer");if(Be.nonce.neq(i.nonce))throw new Le.SecurityError("Step 3 Invalid nonce in encrypted answer");if(Be.serverNonce.neq(i.serverNonce))throw new Le.SecurityError("Step 3 Invalid server nonce in encrypted answer");if(Be.g!==3||Be.dhPrime.toString("hex")!=="c71caeb9c6b1c9048e6c522f70f13f73980d40238e3e21c14934d037563d930f48198a0aa7c14058229493d22530f4dbfa336f6e0ac925139543aed44cce7c3720fd51f69458705ac68cd4fe6b6b13abdc9746512969328454f18faf8c595f642477fe96bb2a941d5bcd1d4ac8cc49880708fa9b378e3c4f3a9060bee67cf9a4a4a695811051907e162753b56b0f6b410dba74d8a84b2a14b3144e0ef1284754fd17ed950d5965b4b9dd46582db1178d169c6bc465b0d6ff9ca3928fef5b9ae4e418fc15e83ebea0f87fa9ff5eed70050ded2849f47bf959d956850ce929851f0d8115f635b105ee2e4e15d04b2454bf6f4fadf034b10403119cd8e3b92fcc5b")throw new Le.SecurityError("Step 3 invalid dhPrime or g");let Ot=ve.readBigIntFromBuffer(Be.dhPrime,!1,!1),Je=ve.readBigIntFromBuffer(Be.gA,!1,!1),Fe=Be.serverTime-Math.floor(Date.now()/1e3),Ht=ve.readBigIntFromBuffer(ve.generateRandomBytes(256),!1,!1),Vt=ve.modExp(da(Be.g),Ht,Ot),We=ve.modExp(Je,Ht,Ot);if(Je.lesserOrEquals(1))throw new Le.SecurityError("Step 3 failed ga > 1 check");if(Vt.lesserOrEquals(1))throw new Le.SecurityError("Step 3 failed gb > 1 check");if(Je.greater(Ot.minus(1)))throw new Le.SecurityError("Step 3 failed ga > dh_prime - 1 check");let Qe=da(2).pow(1984);if(!(Je.greaterOrEquals(Qe)&&Je.lesserOrEquals(Ot.minus(Qe))))throw new Le.SecurityError("Step 3 failed dh_prime - 2^{2048-64} < ga < 2^{2048-64} check");if(!(Vt.greaterOrEquals(Qe)&&Vt.lesserOrEquals(Ot.minus(Qe))))throw new Le.SecurityError("Step 3 failed dh_prime - 2^{2048-64} < gb < 2^{2048-64} check");let Xe=new ot.default.ClientDHInnerData({nonce:i.nonce,serverNonce:i.serverNonce,retryId:da.zero,gB:ve.getByteArray(Vt,!1)}).getBytes(),Ur=Buffer.concat([await ve.sha1(Xe),Xe]),Kt=ne.encryptIge(Ur),Pe=await r.send(new ot.default.SetClientDHParams({nonce:i.nonce,serverNonce:i.serverNonce,encryptedData:Kt})),pt=[ot.default.DhGenOk,ot.default.DhGenRetry,ot.default.DhGenFail],_t=["DhGenOk","DhGenRetry","DhGenFail"];if(!(Pe instanceof pt[0]||Pe instanceof pt[1]||Pe instanceof pt[2]))throw new Error(`Step 3.1 answer was ${Pe}`);let{name:Ge}=Pe.constructor;if(Pe.nonce.neq(i.nonce))throw new Le.SecurityError(`Step 3 invalid ${Ge} nonce from server`);if(Pe.serverNonce.neq(i.serverNonce))throw new Le.SecurityError(`Step 3 invalid ${Ge} server nonce from server`);let qe=new vb;await qe.setKey(ve.getByteArray(We));let Zt=1+_t.indexOf(Pe.className),_r=await qe.calcNewNonceHash(h,Zt);if(Pe[`newNonceHash${Zt}`].neq(_r))throw new Le.SecurityError("Step 3 invalid new nonce hash");if(!(Pe instanceof ot.default.DhGenOk))throw new Error(`Step 3.2 answer was ${Pe}`);return e.debug("Finished authKey generation step 3"),{authKey:qe,timeOffset:Fe}}var ot,Le,da,rd,vb,Pb,ve,Cb,Rb,sd=Ue(()=>{"use strict";ot=tt(Gn()),Le=tt(Us());Xf();da=Rr(),rd=Al(),vb=Xi(),Pb=td(),ve=rt(),Cb=pn(),Rb=20});var Ul={};Hr(Ul,{default:()=>ga});var ga,Ol=Ue(()=>{"use strict";ga=class r{promise;reject;resolve;constructor(){this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}static resolved(e){let t=new r;return t.resolve(e),t}}});var ql=z((mS,id)=>{"use strict";var Eb=(Ol(),rr(Ul)).default,Vl=class{constructor(e,t=void 0){this.containerId=void 0,this.msgId=void 0,this.request=e,this.data=e.getBytes(),this.after=void 0,this.result=void 0,this.abortSignal=t,this.finished=new Eb,this.resetPromise()}isReady(){return this.after?this.after.finished.promise:!0}resetPromise(){var e;(e=this.reject)==null||e.call(this),this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}};id.exports=Vl});var Ll=z((bS,ad)=>{"use strict";var Fl=class{constructor(e){this._stream=e}write(e){this._stream=Buffer.concat([this._stream,e])}getValue(){return this._stream}};ad.exports=Fl});var zl=z((yS,ld)=>{"use strict";var ha=Qi(),od=Yi(),Nl=Ll(),Wl=new Set(["messages.SendMessage","messages.SendMedia","messages.SendMultiMedia","messages.ForwardMessages","messages.SendInlineBotResult"]),jl=class{constructor(e,t){this._state=e,this._queue=[],this._pendingStates=[],this._ready=new Promise(s=>{this.setReady=s}),this._log=t}values(){return this._queue}clear(){this._queue=[],this.append(void 0)}append(e,t=!0,s=!1){var i,o;if(e&&Wl.has(e.request.className)){if(s){for(let u=0;u<this._queue.length;u++)if(Wl.has((i=this._queue[u])==null?void 0:i.request.className)){this._queue[u].after=e;break}}else for(let u=this._queue.length-1;u>=0;u--)if(Wl.has((o=this._queue[u])==null?void 0:o.request.className)){e.after=this._queue[u];break}}s?this._queue.unshift(e):this._queue.push(e),t&&this.setReady(!0),e&&e.request.CONSTRUCTOR_ID!==1658238041&&(this._pendingStates.push(e),e.promise.catch(()=>{}).finally(()=>{this._pendingStates=this._pendingStates.filter(u=>u!==e)}))}prepend(e){e.reverse().forEach(t=>{this.append(t,!1,!0)}),this.setReady(!0)}extend(e){e.forEach(t=>{this.append(t,!1)}),this.setReady(!0)}async getBeacon(e){let t=new Nl(Buffer.alloc(0));if(e.data.length+od.SIZE_OVERHEAD<=ha.MAXIMUM_SIZE){let i;return e.after&&(i=e.after.msgId),e.msgId=await this._state.writeDataAsMessage(t,e.data,e.request.classType==="request",i),this._log.debug(`Assigned msgId = ${e.msgId} to ${e.request.className||e.request.constructor.name}`),t.getValue()}this._log.warn(`Message payload for ${e.request.className||e.request.constructor.name} is too long ${e.data.length} and cannot be sent`),e.reject("Request Payload is too big")}async wait(){this._queue.length||(this._ready=new Promise(e=>{this.setReady=e}),await this._ready)}async get(){var o;if(!this._queue[this._queue.length-1]){this._queue=this._queue.filter(Boolean);return}let e,t=new Nl(Buffer.alloc(0)),s=[],i=0;for(;this._queue.length&&s.length<=ha.MAXIMUM_LENGTH;){let u=this._queue.shift();if(u){if((o=u.abortSignal)!=null&&o.aborted){u.reject(new Error("Request aborted"));continue}if(i+=u.data.length+od.SIZE_OVERHEAD,i<=ha.MAXIMUM_SIZE){let p;u.after&&(p=u.after.msgId),u.msgId=await this._state.writeDataAsMessage(t,u.data,u.request.classType==="request",p),this._log.debug(`Assigned msgId = ${u.msgId} to ${u.request.className||u.request.constructor.name}`),s.push(u);continue}if(s.length){this._queue.unshift(u);break}this._log.warn(`Message payload for ${u.request.className||u.request.constructor.name} is too long ${u.data.length} and cannot be sent`),u.reject("Request Payload is too big"),i=0}}if(s.length){if(s.length>1){let u=Buffer.alloc(8);u.writeUInt32LE(ha.CONSTRUCTOR_ID,0),u.writeInt32LE(s.length,4),e=Buffer.concat([u,t.getValue()]),t=new Nl(Buffer.alloc(0));let p=await this._state.writeDataAsMessage(t,e,!1);for(let g of s)g.containerId=p}return e=t.getValue(),{batch:s,data:e}}}};ld.exports=jl});var ud=z((wS,cd)=>{"use strict";var Gl=class{constructor(){this._pending=new Map}set(e,t){this._pending.set(e.toString(),t)}get(e){return this._pending.get(e.toString())}getAndDelete(e){let t=this.get(e);return this.delete(e),t}values(){return Array.from(this._pending.values())}delete(e){this._pending.delete(e.toString())}clear(){this._pending.clear()}};cd.exports=Gl});var Kl=z((SS,fd)=>{"use strict";var $l=class{static disconnected=-1;static connected=1;static broken=0;constructor(e,t){this.state=e,this.origin=t}},Hl=class{constructor(e){this.timeOffset=e}};fd.exports={UpdateConnectionState:$l,UpdateServerTimeOffset:Hl}});var pd=z((vS,hd)=>{"use strict";var{RPCError:Ab}=Us(),kb=Jf(),Tb=xl(),pa=rt(),xb=Xi(),{doAuthentication:Mb}=(sd(),rr(nd)),Bb=rl(),Db=Qi(),Ub=Bs(),qs=ql(),{MsgsAck:Zl,upload:Ob,MsgsStateInfo:Vb,Pong:qb}=Kr().constructors,dd=zl(),Yl=pn(),Fb=ud(),{UpdateConnectionState:Yr,UpdateServerTimeOffset:Jl}=Kl(),{BadMessageError:Lb}=Ir(),{BadServerSalt:Nb,BadMsgNotification:Wb,MsgDetailedInfo:jb,MsgNewDetailedInfo:zb,NewSessionCreated:Gb,FutureSalts:$b,MsgsStateReq:Hb,MsgResendReq:Kb,MsgsAllInfo:Zb,HttpWait:gd}=Kr().constructors,{SecurityError:Yb}=Ir(),{InvalidBufferError:Jb}=Ir(),{RPCMessageToError:Qb}=Us(),{TypeNotFoundError:Ql}=Ir(),Xb=3e3,ey=500,ty=150,Xl=class r{static DEFAULT_OPTIONS={logger:void 0,retries:1/0,retriesToFallback:1,delay:2e3,retryMainConnectionDelay:1e4,shouldForceHttpTransport:!1,shouldAllowHttpTransport:!1,autoReconnect:!0,connectTimeout:void 0,authKeyCallback:void 0,updateCallback:void 0,autoReconnectCallback:void 0,isMainSender:void 0,onConnectionBreak:void 0,isExported:void 0,getShouldDebugExportedSenders:void 0};constructor(e,t){let s={...r.DEFAULT_OPTIONS,...t};this._connection=void 0,this._fallbackConnection=void 0,this._shouldForceHttpTransport=s.shouldForceHttpTransport,this._shouldAllowHttpTransport=s.shouldAllowHttpTransport,this._log=s.logger,this._dcId=s.dcId,this._senderIndex=s.senderIndex,this._retries=s.retries,this._retriesToFallback=s.retriesToFallback,this._delay=s.delay,this._retryMainConnectionDelay=s.retryMainConnectionDelay,this._autoReconnect=s.autoReconnect,this._connectTimeout=s.connectTimeout,this._authKeyCallback=s.authKeyCallback,this._updateCallback=s.updateCallback,this._autoReconnectCallback=s.autoReconnectCallback,this._isMainSender=s.isMainSender,this._isExported=s.isExported,this._onConnectionBreak=s.onConnectionBreak,this._isFallback=!1,this._getShouldDebugExportedSenders=s.getShouldDebugExportedSenders,this.userDisconnected=!1,this._user_connected=!1,this.isReconnecting=!1,this._disconnected=!0,this._send_loop_handle=void 0,this._long_poll_loop_handle=void 0,this._recv_loop_handle=void 0,this.authKey=e||new xb,this._state=new Tb(this.authKey,this._log),this._send_queue=new dd(this._state,this._log),this._send_queue_long_poll=new dd(this._state,this._log),this._pending_state=new Fb,this._pending_ack=new Set,this._last_acks=[],this._handlers={[Bb.CONSTRUCTOR_ID]:this._handleRPCResult.bind(this),[Db.CONSTRUCTOR_ID]:this._handleContainer.bind(this),[Ub.CONSTRUCTOR_ID]:this._handleGzipPacked.bind(this),[qb.CONSTRUCTOR_ID]:this._handlePong.bind(this),[Nb.CONSTRUCTOR_ID]:this._handleBadServerSalt.bind(this),[Wb.CONSTRUCTOR_ID]:this._handleBadNotification.bind(this),[jb.CONSTRUCTOR_ID]:this._handleDetailedInfo.bind(this),[zb.CONSTRUCTOR_ID]:this._handleNewDetailedInfo.bind(this),[Gb.CONSTRUCTOR_ID]:this._handleNewSessionCreated.bind(this),[Zl.CONSTRUCTOR_ID]:this._handleAck.bind(this),[$b.CONSTRUCTOR_ID]:this._handleFutureSalts.bind(this),[Hb.CONSTRUCTOR_ID]:this._handleStateForgotten.bind(this),[Kb.CONSTRUCTOR_ID]:this._handleStateForgotten.bind(this),[Zb.CONSTRUCTOR_ID]:this._handleMsgAll.bind(this)}}logWithIndexCallback(e){return(...t)=>{!this._getShouldDebugExportedSenders||!this._getShouldDebugExportedSenders()||console[e](`[${this._isExported?`idx=${this._senderIndex} `:"M "}dcId=${this._dcId}]`,...t)}}logWithIndex={debug:this.logWithIndexCallback("debug"),log:this.logWithIndexCallback("log"),warn:this.logWithIndexCallback("warn"),error:this.logWithIndexCallback("error")};getConnection(){return this._isFallback?this._fallbackConnection:this._connection}async connect(e,t,s){if(this.userDisconnected=!1,this._user_connected&&!t)return this._log.info("User is already connected!"),!1;this.isConnecting=!0,this._isFallback=this._shouldForceHttpTransport&&this._shouldAllowHttpTransport,this._connection=e,this._fallbackConnection=s;for(let i=0;i<this._retries+this._retriesToFallback;i++)try{i>=this._retriesToFallback&&this._shouldAllowHttpTransport&&(this._isFallback=!0,this.logWithIndex.warn("Using fallback connection"),this._log.warn("Using fallback connection")),this.logWithIndex.warn("Connecting..."),await this._connect(this.getConnection()),this.logWithIndex.warn("Connected!"),this._updateCallback&&this._updateCallback(new Yr(Yr.connected));break}catch(o){this._updateCallback&&i===0&&this._updateCallback(new Yr(Yr.disconnected)),this._log.error(`${this._isFallback?"HTTP":"WebSocket"} connection failed attempt: ${i+1}`),console.error(o),await pa.sleep(this._delay)}return this.isConnecting=!1,this._isFallback&&!this._shouldForceHttpTransport&&this.tryReconnectToMain(),!0}async tryReconnectToMain(){if(!this.isConnecting&&this._isFallback&&!this._isReconnectingToMain&&!this.isReconnecting&&!this._shouldForceHttpTransport&&!this._isExported){this._log.debug("Trying to reconnect to main connection"),this._isReconnectingToMain=!0;try{await this._connection.connect(),this._log.info("Reconnected to main connection"),this.logWithIndex.warn("Reconnected to main connection"),this.isReconnecting=!0,await this._disconnect(this._fallbackConnection),await this.connect(this._connection,!0,this._fallbackConnection),this.isReconnecting=!1,this._isReconnectingToMain=!1}catch{this.isReconnecting=!1,this._isReconnectingToMain=!1,this._log.error(`Failed to reconnect to main connection, retrying in ${this._retryMainConnectionDelay}ms`),await pa.sleep(this._retryMainConnectionDelay),this.tryReconnectToMain()}}else await pa.sleep(this._retryMainConnectionDelay)}isConnected(){return this._user_connected}async disconnect(){this.userDisconnected=!0,this.logWithIndex.warn("Disconnecting..."),await this._disconnect(this.getConnection())}destroy(){this._send_queue.clear()}send(e,t,s=!1){let i=new qs(e,t);return s?this._send_queue_long_poll.append(i):(this.logWithIndex.debug(`Send ${e.className}`),this._send_queue.append(i)),i.promise}addStateToQueue(e){this._send_queue.append(e)}async sendBeacon(e){if(!this._user_connected)throw new Error("Cannot send requests while disconnected");let t=new qs(e,void 0),s=await this._send_queue.getBeacon(t),i=await this._state.encryptMessageData(s);postMessage({type:"sendBeacon",data:i,url:this._fallbackConnection.href})}async _connect(e){if(e.isConnected()||(this._log.info("Connecting to {0}...".replace("{0}",e)),await e.connect(),this._log.debug("Connection success!")),this.authKey.getKey())this._authenticated=!0,this._log.debug("Already have an auth key ...");else{let t=new kb(e,this._log);this._log.debug("New auth_key attempt ...");let s=await Mb(t,this._log);this._log.debug("Generated new auth_key successfully"),await this.authKey.setKey(s.authKey),this._state.timeOffset=s.timeOffset,this._updateCallback&&this._updateCallback(new Jl(this._state.timeOffset)),this._authKeyCallback&&await this._authKeyCallback(this.authKey,this._dcId)}this._user_connected=!0,this.isReconnecting=!1,this._send_loop_handle||(this._log.debug("Starting send loop"),this._send_loop_handle=this._sendLoop()),this._recv_loop_handle||(this._log.debug("Starting receive loop"),this._recv_loop_handle=this._recvLoop()),!this._long_poll_loop_handle&&e.shouldLongPoll&&(this._log.debug("Starting long-poll loop"),this._long_poll_loop_handle=this._longPollLoop()),this._log.info("Connection to %s complete!".replace("%s",e.toString()))}async _disconnect(e){if(this._updateCallback&&this._updateCallback(new Yr(Yr.disconnected)),e===void 0){this._log.info("Not disconnecting (already have no connection)");return}this._log.info("Disconnecting from %s...".replace("%s",e.toString())),this._user_connected=!1,this._log.debug("Closing current connection..."),this.logWithIndex.warn("Disconnecting"),await e.disconnect()}async _longPollLoop(){for(;this._user_connected&&!this.isReconnecting&&this._isFallback&&this.getConnection().shouldLongPoll;){await this._send_queue_long_poll.wait();let e=await this._send_queue_long_poll.get();if(this.isReconnecting||!this._isFallback){this._long_poll_loop_handle=void 0;return}if(!e)continue;let{data:t}=e,{batch:s}=e;this._log.debug(`Encrypting ${s.length} message(s) in ${t.length} bytes for sending`),t=await this._state.encryptMessageData(t);try{await this._fallbackConnection.send(t)}catch(i){this._log.error(i),this._log.info("Connection closed while sending data"),this._long_poll_loop_handle=void 0,this.isSendingLongPoll=!1,this.userDisconnected||this.reconnect();return}this.isSendingLongPoll=!1,this.checkLongPoll()}this._long_poll_loop_handle=void 0}async _sendLoop(){for(this._send_queue.prepend(this._pending_state.values()),this._pending_state.clear();this._user_connected&&!this.isReconnecting;){let e=()=>{if(this._pending_ack.size){let o=new qs(new Zl({msgIds:Array(...this._pending_ack)}));this._send_queue.append(o),this._last_acks.push(o),this._last_acks.length>=10&&this._last_acks.shift(),this._pending_ack.clear()}};e(),this.logWithIndex.debug(`Waiting for messages to send... ${this.isReconnecting}`),this._log.debug(`Waiting for messages to send... ${this.isReconnecting}`),await this._send_queue.wait(),this._isFallback&&this.send(new gd({maxDelay:0,waitAfter:0,maxWait:0})),e();let t=await this._send_queue.get();if(this.logWithIndex.debug(`Got ${t==null?void 0:t.batch.length} message(s) to send`),!t)continue;let{data:s}=t,{batch:i}=t;for(let o of i)if(!Array.isArray(o))o.request.classType==="request"&&o.request.className!=="HttpWait"&&this._pending_state.set(o.msgId,o);else for(let u of o)u.request.classType==="request"&&u.request.className!=="HttpWait"&&this._pending_state.set(u.msgId,u);if(this.isReconnecting){this.logWithIndex.debug("Reconnecting :("),this._send_loop_handle=void 0;return}this._log.debug(`Encrypting ${i.length} message(s) in ${s.length} bytes for sending`),this.logWithIndex.debug("Sending",i.map(o=>o.request.className)),s=await this._state.encryptMessageData(s);try{await this.getConnection().send(s)}catch(o){this.logWithIndex.debug(`Connection closed while sending data ${o}`),this._log.error(o),this._log.info("Connection closed while sending data"),this._send_loop_handle=void 0,this.userDisconnected||this.reconnect();return}finally{for(let o of i)if(!Array.isArray(o))o.request.className==="HttpWait"&&o.resolve();else for(let u of o)u.request.className==="HttpWait"&&o.resolve();this.logWithIndex.debug("Encrypted messages put in a queue to be sent"),this._log.debug("Encrypted messages put in a queue to be sent")}}this._send_loop_handle=void 0}async _recvLoop(){let e,t;for(;this._user_connected&&!this.isReconnecting;){this._log.debug("Receiving items from the network..."),this.logWithIndex.debug("Receiving items from the network...");try{e=await this.getConnection().recv()}catch(s){this.userDisconnected||(this._log.error(s),this._log.warn("Connection closed while receiving data"),this.reconnect()),this._recv_loop_handle=void 0;return}try{t=await this._state.decryptMessageData(e)}catch(s){if(this.logWithIndex.debug(`Error while receiving items from the network ${s.toString()}`),s instanceof Ql){this._log.info(`Type ${s.invalidConstructorId} not found, remaining data ${s.remaining}`);continue}else if(s instanceof Yb){this._log.warn(`Security error while unpacking a received message: ${s}`);continue}else if(s instanceof Jb){s.code===404?this._handleBadAuthKey():(this._log.warn(`Invalid buffer ${s.code} for dc ${this._dcId}`),this.reconnect()),this._recv_loop_handle=void 0;return}else{this._log.error("Unhandled error while receiving data"),this._log.error(s),this.reconnect(),this._recv_loop_handle=void 0;return}}try{await this._processMessage(t)}catch(s){s instanceof Ab?(s.message==="AUTH_KEY_UNREGISTERED"||s.message==="SESSION_REVOKED")&&this._handleBadAuthKey(!0):(this._log.error("Unhandled error while receiving data"),this._log.error(s))}this.checkLongPoll()}this._recv_loop_handle=void 0}checkLongPoll(){this.isSendingLongPoll||!this._isFallback||(this.isSendingLongPoll=!0,this.send(new gd({maxDelay:ey,waitAfter:ty,maxWait:Xb}),void 0,!0))}_handleBadAuthKey(e){e&&this._isMainSender||(this._log.warn(`Broken authorization key for dc ${this._dcId}, resetting...`),this._isMainSender&&this._updateCallback?this._updateCallback(new Yr(Yr.broken)):!this._isMainSender&&this._onConnectionBreak&&this._onConnectionBreak(this._dcId))}async _processMessage(e){if(e.obj.className==="MsgsAck")return;this.logWithIndex.debug(`Process message ${e.obj.className}`),this._pending_ack.add(e.msgId),this.getConnection().shouldLongPoll&&this._send_queue.setReady(!0),e.obj=await e.obj;let t=this._handlers[e.obj.CONSTRUCTOR_ID];t||(t=this._handleUpdate.bind(this)),await t(e)}_popStates(e){var i;let t=this._pending_state.getAndDelete(e);if(t)return[t];let s=[];for(let o of this._pending_state.values())(i=o.containerId)!=null&&i.equals(e)&&s.push(o.msgId);if(s.length){let o=[];for(let u of s)o.push(this._pending_state.getAndDelete(u));return o}for(let o of this._last_acks)if(o.msgId===e)return[o];return[]}_handleRPCResult(e){let t=e.obj,s=this._pending_state.getAndDelete(t.reqMsgId);if(this._log.debug(`Handling RPC result for message ${t.reqMsgId}`),!s){try{if(!(new Yl(t.body).tgReadObject()instanceof Ob.File))throw new Ql("Not an upload.File")}catch(i){if(i instanceof Ql){this._log.info(`Received response without parent request: ${t.body}`);return}else if(this._isFallback)return;throw i}return}if(t.error){let i=Qb(t.error,s.request);throw this._send_queue.append(new qs(new Zl({msgIds:[s.msgId]}))),s.reject(i),i}else try{let i=new Yl(t.body),o=s.request.readResult(i);this.logWithIndex.debug("Handling RPC result",o),s.resolve(o)}catch(i){throw s.reject(i),i}}async _handleContainer(e){this._log.debug("Handling container");for(let t of e.obj.messages)await this._processMessage(t)}async _handleGzipPacked(e){this._log.debug("Handling gzipped data");let t=new Yl(e.obj.data);e.obj=t.tgReadObject(),await this._processMessage(e)}_handleUpdate(e){if(e.obj.SUBCLASS_OF_ID!==2331323052){this._log.warn(`Note: ${e.obj.className} is not an update, not dispatching it`);return}this._log.debug(`Handling update ${e.obj.className}`),this._updateCallback&&this._updateCallback(e.obj)}_handlePong(e){let t=e.obj,s=this._state.updateTimeOffset(e.msgId);this._updateCallback&&this._updateCallback(new Jl(s)),this._log.debug(`Handling pong for message ${t.msgId}`);let i=this._pending_state.getAndDelete(t.msgId);i&&i.resolve(t)}_handleBadServerSalt(e){let t=e.obj;this._log.debug(`Handling bad salt for message ${t.badMsgId}`),this._state.salt=t.newServerSalt;let s=this._popStates(t.badMsgId);this._send_queue.extend(s),this._log.debug(`${s.length} message(s) will be resent`)}_handleBadNotification(e){let t=e.obj,s=this._popStates(t.badMsgId);if(this._log.debug(`Handling bad msg ${JSON.stringify(t)}`),[16,17].includes(t.errorCode)){let i=this._state.updateTimeOffset(e.msgId);this._updateCallback&&this._updateCallback(new Jl(i)),this._log.info(`System clock is wrong, set time offset to ${i}s`)}else if(t.errorCode===32)this._state._sequence+=64;else if(t.errorCode===33)this._state._sequence-=16;else{for(let i of s)i.reject(new Lb(i.request,t.errorCode));return}this._send_queue.extend(s),this._log.debug(`${s.length} messages will be resent due to bad msg`)}_handleDetailedInfo(e){let t=e.obj.answerMsgId;this._log.debug(`Handling detailed info for message ${t}`),this._pending_ack.add(t)}_handleNewDetailedInfo(e){let t=e.obj.answerMsgId;this._log.debug(`Handling new detailed info for message ${t}`),this._pending_ack.add(t)}_handleNewSessionCreated(e){this._log.debug("Handling new session created"),this._state.salt=e.obj.serverSalt}_handleAck(){}_handleFutureSalts(e){this._log.debug(`Handling future salts for message ${e.msgId}`);let t=this._pending_state.getAndDelete(e.msgId);t&&t.resolve(e.obj)}_handleStateForgotten(e){this._send_queue.append(new qs(new Vb({msgId:e.msgId,query:"".repeat(e.obj.msgIds)})))}_handleMsgAll(e){}reconnect(){this._user_connected&&!this.isReconnecting&&(this.isReconnecting=!0,pa.sleep(1e3).then(()=>{this.logWithIndex.log("Reconnecting..."),this._log.info("Started reconnecting"),this._reconnect()}))}async _reconnect(){this._log.debug("Closing current connection...");try{this.logWithIndex.warn("[Reconnect] Closing current connection..."),await this._disconnect(this.getConnection())}catch(s){this._log.warn(s)}this._send_queue.append(void 0),this._state.reset();let e=new this._connection.constructor(this._connection._ip,this._connection._port,this._connection._dcId,this._connection._log,this._connection._testServers),t=new this._fallbackConnection.constructor(this._connection._ip,this._connection._port,this._connection._dcId,this._connection._log,this._connection._testServers);await this.connect(e,!0,t),this.isReconnecting=!1,this._send_queue.prepend(this._pending_state.values()),this._pending_state.clear(),this._autoReconnectCallback&&await this._autoReconnectCallback()}};hd.exports=Xl});var Fs={};Hr(Fs,{__addDisposableResource:()=>Od,__assign:()=>_a,__asyncDelegator:()=>Ad,__asyncGenerator:()=>Ed,__asyncValues:()=>kd,__await:()=>$n,__awaiter:()=>Sd,__classPrivateFieldGet:()=>Bd,__classPrivateFieldIn:()=>Ud,__classPrivateFieldSet:()=>Dd,__createBinding:()=>ba,__decorate:()=>bd,__disposeResources:()=>Vd,__esDecorate:()=>ry,__exportStar:()=>Pd,__extends:()=>_d,__generator:()=>vd,__importDefault:()=>Md,__importStar:()=>xd,__makeTemplateObject:()=>Td,__metadata:()=>wd,__param:()=>yd,__propKey:()=>sy,__read:()=>tc,__rest:()=>md,__runInitializers:()=>ny,__setFunctionName:()=>iy,__spread:()=>Cd,__spreadArray:()=>Id,__spreadArrays:()=>Rd,__values:()=>ma,default:()=>ly});function _d(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ec(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function md(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(r);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(r,s[i])&&(t[s[i]]=r[s[i]]);return t}function bd(r,e,t,s){var i=arguments.length,o=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,s);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(o=(i<3?u(o):i>3?u(e,t,o):u(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function yd(r,e){return function(t,s){e(t,s,r)}}function ry(r,e,t,s,i,o){function u(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var p=s.kind,g=p==="getter"?"get":p==="setter"?"set":"value",d=!e&&r?s.static?r:r.prototype:null,h=e||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),S,C=!1,O=t.length-1;O>=0;O--){var E={};for(var q in s)E[q]=q==="access"?{}:s[q];for(var q in s.access)E.access[q]=s.access[q];E.addInitializer=function(N){if(C)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(N||null))};var U=(0,t[O])(p==="accessor"?{get:h.get,set:h.set}:h[g],E);if(p==="accessor"){if(U===void 0)continue;if(U===null||typeof U!="object")throw new TypeError("Object expected");(S=u(U.get))&&(h.get=S),(S=u(U.set))&&(h.set=S),(S=u(U.init))&&i.unshift(S)}else(S=u(U))&&(p==="field"?i.unshift(S):h[g]=S)}d&&Object.defineProperty(d,s.name,h),C=!0}function ny(r,e,t){for(var s=arguments.length>2,i=0;i<e.length;i++)t=s?e[i].call(r,t):e[i].call(r);return s?t:void 0}function sy(r){return typeof r=="symbol"?r:"".concat(r)}function iy(r,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function wd(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function Sd(r,e,t,s){function i(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function p(h){try{d(s.next(h))}catch(S){u(S)}}function g(h){try{d(s.throw(h))}catch(S){u(S)}}function d(h){h.done?o(h.value):i(h.value).then(p,g)}d((s=s.apply(r,e||[])).next())})}function vd(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,i,o,u;return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(d){return function(h){return g([d,h])}}function g(d){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(t=0)),t;)try{if(s=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(r,t)}catch(h){d=[6,h],i=0}finally{s=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Pd(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ba(e,r,t)}function ma(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],s=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tc(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var s=t.call(r),i,o=[],u;try{for(;(e===void 0||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(p){u={error:p}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(u)throw u.error}}return o}function Cd(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(tc(arguments[e]));return r}function Rd(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var s=Array(r),i=0,e=0;e<t;e++)for(var o=arguments[e],u=0,p=o.length;u<p;u++,i++)s[i]=o[u];return s}function Id(r,e,t){if(t||arguments.length===2)for(var s=0,i=e.length,o;s<i;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return r.concat(o||Array.prototype.slice.call(e))}function $n(r){return this instanceof $n?(this.v=r,this):new $n(r)}function Ed(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(r,e||[]),i,o=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(C){s[C]&&(i[C]=function(O){return new Promise(function(E,q){o.push([C,O,E,q])>1||p(C,O)})})}function p(C,O){try{g(s[C](O))}catch(E){S(o[0][3],E)}}function g(C){C.value instanceof $n?Promise.resolve(C.value.v).then(d,h):S(o[0][2],C)}function d(C){p("next",C)}function h(C){p("throw",C)}function S(C,O){C(O),o.shift(),o.length&&p(o[0][0],o[0][1])}}function Ad(r){var e,t;return e={},s("next"),s("throw",function(i){throw i}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(i,o){e[i]=r[i]?function(u){return(t=!t)?{value:$n(r[i](u)),done:!1}:o?o(u):u}:o}}function kd(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof ma=="function"?ma(r):r[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(o){t[o]=r[o]&&function(u){return new Promise(function(p,g){u=r[o](u),i(p,g,u.done,u.value)})}}function i(o,u,p,g){Promise.resolve(g).then(function(d){o({value:d,done:p})},u)}}function Td(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function xd(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ba(e,r,t);return ay(e,r),e}function Md(r){return r&&r.__esModule?r:{default:r}}function Bd(r,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(r):s?s.value:e.get(r)}function Dd(r,e,t,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t}function Ud(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function Od(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose]}if(typeof s!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:s,async:t})}else t&&r.stack.push({async:!0});return e}function Vd(r){function e(s){r.error=r.hasError?new oy(s,r.error,"An error was suppressed during disposal."):s,r.hasError=!0}function t(){for(;r.stack.length;){var s=r.stack.pop();try{var i=s.dispose&&s.dispose.call(s.value);if(s.async)return Promise.resolve(i).then(t,function(o){return e(o),t()})}catch(o){e(o)}}if(r.hasError)throw r.error}return t()}var ec,_a,ba,ay,oy,ly,Ls=Ue(()=>{ec=function(r,e){return ec=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])},ec(r,e)};_a=function(){return _a=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_a.apply(this,arguments)};ba=Object.create?function(r,e,t,s){s===void 0&&(s=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,s,i)}:function(r,e,t,s){s===void 0&&(s=t),r[s]=e[t]};ay=Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e};oy=typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var s=new Error(t);return s.name="SuppressedError",s.error=r,s.suppressed=e,s};ly={__extends:_d,__assign:_a,__rest:md,__decorate:bd,__param:yd,__metadata:wd,__awaiter:Sd,__generator:vd,__createBinding:ba,__exportStar:Pd,__values:ma,__read:tc,__spread:Cd,__spreadArrays:Rd,__spreadArray:Id,__await:$n,__asyncGenerator:Ed,__asyncDelegator:Ad,__asyncValues:kd,__makeTemplateObject:Td,__importStar:xd,__importDefault:Md,__classPrivateFieldGet:Bd,__classPrivateFieldSet:Dd,__classPrivateFieldIn:Ud,__addDisposableResource:Od,__disposeResources:Vd}});var Ns=z(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.E_CANCELED=Jr.E_ALREADY_LOCKED=Jr.E_TIMEOUT=void 0;Jr.E_TIMEOUT=new Error("timeout while waiting for mutex to become available");Jr.E_ALREADY_LOCKED=new Error("mutex already locked");Jr.E_CANCELED=new Error("request for lock canceled")});var nc=z(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});var qd=(Ls(),rr(Fs)),cy=Ns(),uy=function(){function r(e,t){t===void 0&&(t=cy.E_CANCELED),this._value=e,this._cancelError=t,this._queue=[],this._weightedWaiters=[]}return r.prototype.acquire=function(e,t){var s=this;if(e===void 0&&(e=1),t===void 0&&(t=0),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));return new Promise(function(i,o){var u={resolve:i,reject:o,weight:e,priority:t},p=Fd(s._queue,function(g){return t<=g.priority});p===-1&&e<=s._value?s._dispatchItem(u):s._queue.splice(p+1,0,u)})},r.prototype.runExclusive=function(e){return qd.__awaiter(this,arguments,void 0,function(t,s,i){var o,u,p;return s===void 0&&(s=1),i===void 0&&(i=0),qd.__generator(this,function(g){switch(g.label){case 0:return[4,this.acquire(s,i)];case 1:o=g.sent(),u=o[0],p=o[1],g.label=2;case 2:return g.trys.push([2,,4,5]),[4,t(u)];case 3:return[2,g.sent()];case 4:return p(),[7];case 5:return[2]}})})},r.prototype.waitForUnlock=function(e,t){var s=this;if(e===void 0&&(e=1),t===void 0&&(t=0),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));return this._couldLockImmediately(e,t)?Promise.resolve():new Promise(function(i){s._weightedWaiters[e-1]||(s._weightedWaiters[e-1]=[]),fy(s._weightedWaiters[e-1],{resolve:i,priority:t})})},r.prototype.isLocked=function(){return this._value<=0},r.prototype.getValue=function(){return this._value},r.prototype.setValue=function(e){this._value=e,this._dispatchQueue()},r.prototype.release=function(e){if(e===void 0&&(e=1),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));this._value+=e,this._dispatchQueue()},r.prototype.cancel=function(){var e=this;this._queue.forEach(function(t){return t.reject(e._cancelError)}),this._queue=[]},r.prototype._dispatchQueue=function(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()},r.prototype._dispatchItem=function(e){var t=this._value;this._value-=e.weight,e.resolve([t,this._newReleaser(e.weight)])},r.prototype._newReleaser=function(e){var t=this,s=!1;return function(){s||(s=!0,t.release(e))}},r.prototype._drainUnlockWaiters=function(){if(this._queue.length===0)for(var e=this._value;e>0;e--){var t=this._weightedWaiters[e-1];t&&(t.forEach(function(o){return o.resolve()}),this._weightedWaiters[e-1]=[])}else for(var s=this._queue[0].priority,e=this._value;e>0;e--){var t=this._weightedWaiters[e-1];if(t){var i=t.findIndex(function(p){return p.priority<=s});(i===-1?t:t.splice(0,i)).forEach(function(p){return p.resolve()})}}},r.prototype._couldLockImmediately=function(e,t){return(this._queue.length===0||this._queue[0].priority<t)&&e<=this._value},r}();function fy(r,e){var t=Fd(r,function(s){return e.priority<=s.priority});r.splice(t+1,0,e)}function Fd(r,e){for(var t=r.length-1;t>=0;t--)if(e(r[t]))return t;return-1}rc.default=uy});var Nd=z(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});var Ld=(Ls(),rr(Fs)),dy=nc(),gy=function(){function r(e){this._semaphore=new dy.default(1,e)}return r.prototype.acquire=function(){return Ld.__awaiter(this,arguments,void 0,function(e){var t,s;return e===void 0&&(e=0),Ld.__generator(this,function(i){switch(i.label){case 0:return[4,this._semaphore.acquire(1,e)];case 1:return t=i.sent(),s=t[1],[2,s]}})})},r.prototype.runExclusive=function(e,t){return t===void 0&&(t=0),this._semaphore.runExclusive(function(){return e()},1,t)},r.prototype.isLocked=function(){return this._semaphore.isLocked()},r.prototype.waitForUnlock=function(e){return e===void 0&&(e=0),this._semaphore.waitForUnlock(1,e)},r.prototype.release=function(){this._semaphore.isLocked()&&this._semaphore.release()},r.prototype.cancel=function(){return this._semaphore.cancel()},r}();sc.default=gy});var ic=z(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.withTimeout=void 0;var ya=(Ls(),rr(Fs)),hy=Ns();function py(r,e,t){var s=this;return t===void 0&&(t=hy.E_TIMEOUT),{acquire:function(i,o){var u;if(wa(r)?u=i:(u=void 0,o=i),u!==void 0&&u<=0)throw new Error("invalid weight ".concat(u,": must be positive"));return new Promise(function(p,g){return ya.__awaiter(s,void 0,void 0,function(){var d,h,S,C,O;return ya.__generator(this,function(E){switch(E.label){case 0:d=!1,h=setTimeout(function(){d=!0,g(t)},e),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,wa(r)?r.acquire(u,o):r.acquire(o)];case 2:return S=E.sent(),d?(C=Array.isArray(S)?S[1]:S,C()):(clearTimeout(h),p(S)),[3,4];case 3:return O=E.sent(),d||(clearTimeout(h),g(O)),[3,4];case 4:return[2]}})})})},runExclusive:function(i,o,u){return ya.__awaiter(this,void 0,void 0,function(){var p,g;return ya.__generator(this,function(d){switch(d.label){case 0:p=function(){},d.label=1;case 1:return d.trys.push([1,,7,8]),[4,this.acquire(o,u)];case 2:return g=d.sent(),Array.isArray(g)?(p=g[1],[4,i(g[0])]):[3,4];case 3:return[2,d.sent()];case 4:return p=g,[4,i()];case 5:return[2,d.sent()];case 6:return[3,8];case 7:return p(),[7];case 8:return[2]}})})},release:function(i){r.release(i)},cancel:function(){return r.cancel()},waitForUnlock:function(i,o){var u;if(wa(r)?u=i:(u=void 0,o=i),u!==void 0&&u<=0)throw new Error("invalid weight ".concat(u,": must be positive"));return new Promise(function(p,g){var d=setTimeout(function(){return g(t)},e);(wa(r)?r.waitForUnlock(u,o):r.waitForUnlock(o)).then(function(){clearTimeout(d),p()})})},isLocked:function(){return r.isLocked()},getValue:function(){return r.getValue()},setValue:function(i){return r.setValue(i)}}}Sa.withTimeout=py;function wa(r){return r.getValue!==void 0}});var Wd=z(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.tryAcquire=void 0;var _y=Ns(),my=ic();function by(r,e){return e===void 0&&(e=_y.E_ALREADY_LOCKED),(0,my.withTimeout)(r,0,e)}va.tryAcquire=by});var jd=z(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.tryAcquire=nr.withTimeout=nr.Semaphore=nr.Mutex=void 0;var yy=(Ls(),rr(Fs)),wy=Nd();Object.defineProperty(nr,"Mutex",{enumerable:!0,get:function(){return wy.default}});var Sy=nc();Object.defineProperty(nr,"Semaphore",{enumerable:!0,get:function(){return Sy.default}});var vy=ic();Object.defineProperty(nr,"withTimeout",{enumerable:!0,get:function(){return vy.withTimeout}});var Py=Wd();Object.defineProperty(nr,"tryAcquire",{enumerable:!0,get:function(){return Py.tryAcquire}});yy.__exportStar(Ns(),nr)});function Cy(r){if(!/^data:/i.test(r))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');r=r.replace(/\r?\n/g,"");let e=r.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let t=r.substring(5,e).split(";"),s="",i=!1,o=t[0]||"text/plain",u=o;for(let h=1;h<t.length;h++)t[h]==="base64"?i=!0:t[h]&&(u+=`;${t[h]}`,t[h].indexOf("charset=")===0&&(s=t[h].substring(8)));!t[0]&&!s.length&&(u+=";charset=US-ASCII",s="US-ASCII");let p=i?"base64":"ascii",g=unescape(r.substring(e+1)),d=Buffer.from(g,p);return d.type=o,d.typeFull=u,d.charset=s,d}var zd,Gd=Ue(()=>{zd=Cy});var Hd=z((Pa,$d)=>{(function(r,e){typeof Pa=="object"&&typeof $d<"u"?e(Pa):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.WebStreamsPolyfill={}))})(Pa,function(r){"use strict";function e(){}function t(n){return typeof n=="object"&&n!==null||typeof n=="function"}let s=e;function i(n,a){try{Object.defineProperty(n,"name",{value:a,configurable:!0})}catch{}}let o=Promise,u=Promise.prototype.then,p=Promise.reject.bind(o);function g(n){return new o(n)}function d(n){return g(a=>a(n))}function h(n){return p(n)}function S(n,a,l){return u.call(n,a,l)}function C(n,a,l){S(S(n,a,l),void 0,s)}function O(n,a){C(n,a)}function E(n,a){C(n,void 0,a)}function q(n,a,l){return S(n,a,l)}function U(n){S(n,void 0,s)}let N=n=>{if(typeof queueMicrotask=="function")N=queueMicrotask;else{let a=d(void 0);N=l=>S(a,l)}return N(n)};function H(n,a,l){if(typeof n!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(n,a,l)}function te(n,a,l){try{return d(H(n,a,l))}catch(m){return h(m)}}let Z=16384;class ne{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(a){let l=this._back,m=l;l._elements.length===Z-1&&(m={_elements:[],_next:void 0}),l._elements.push(a),m!==l&&(this._back=m,l._next=m),++this._size}shift(){let a=this._front,l=a,m=this._cursor,w=m+1,k=a._elements,D=k[m];return w===Z&&(l=a._next,w=0),--this._size,this._cursor=w,a!==l&&(this._front=l),k[m]=void 0,D}forEach(a){let l=this._cursor,m=this._front,w=m._elements;for(;(l!==w.length||m._next!==void 0)&&!(l===w.length&&(m=m._next,w=m._elements,l=0,w.length===0));)a(w[l]),++l}peek(){let a=this._front,l=this._cursor;return a._elements[l]}}let se=Symbol("[[AbortSteps]]"),Ie=Symbol("[[ErrorSteps]]"),Ve=Symbol("[[CancelSteps]]"),Be=Symbol("[[PullSteps]]"),Ct=Symbol("[[ReleaseSteps]]");function Ot(n,a){n._ownerReadableStream=a,a._reader=n,a._state==="readable"?Vt(n):a._state==="closed"?Qe(n):We(n,a._storedError)}function Je(n,a){let l=n._ownerReadableStream;return er(l,a)}function Fe(n){let a=n._ownerReadableStream;a._state==="readable"?Xe(n,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Ur(n,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),a._readableStreamController[Ct](),a._reader=void 0,n._ownerReadableStream=void 0}function Ht(n){return new TypeError("Cannot "+n+" a stream using a released reader")}function Vt(n){n._closedPromise=g((a,l)=>{n._closedPromise_resolve=a,n._closedPromise_reject=l})}function We(n,a){Vt(n),Xe(n,a)}function Qe(n){Vt(n),Kt(n)}function Xe(n,a){n._closedPromise_reject!==void 0&&(U(n._closedPromise),n._closedPromise_reject(a),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0)}function Ur(n,a){We(n,a)}function Kt(n){n._closedPromise_resolve!==void 0&&(n._closedPromise_resolve(void 0),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0)}let Pe=Number.isFinite||function(n){return typeof n=="number"&&isFinite(n)},pt=Math.trunc||function(n){return n<0?Math.ceil(n):Math.floor(n)};function _t(n){return typeof n=="object"||typeof n=="function"}function Ge(n,a){if(n!==void 0&&!_t(n))throw new TypeError(`${a} is not an object.`)}function qe(n,a){if(typeof n!="function")throw new TypeError(`${a} is not a function.`)}function Zt(n){return typeof n=="object"&&n!==null||typeof n=="function"}function _r(n,a){if(!Zt(n))throw new TypeError(`${a} is not an object.`)}function Ke(n,a,l){if(n===void 0)throw new TypeError(`Parameter ${a} is required in '${l}'.`)}function et(n,a,l){if(n===void 0)throw new TypeError(`${a} is required in '${l}'.`)}function ct(n){return Number(n)}function Rt(n){return n===0?0:n}function st(n){return Rt(pt(n))}function or(n,a){let m=Number.MAX_SAFE_INTEGER,w=Number(n);if(w=Rt(w),!Pe(w))throw new TypeError(`${a} is not a finite number`);if(w=st(w),w<0||w>m)throw new TypeError(`${a} is outside the accepted range of 0 to ${m}, inclusive`);return!Pe(w)||w===0?0:w}function Yt(n,a){if(!jr(n))throw new TypeError(`${a} is not a ReadableStream.`)}function mt(n){return new it(n)}function lr(n,a){n._reader._readRequests.push(a)}function Jt(n,a,l){let w=n._reader._readRequests.shift();l?w._closeSteps():w._chunkSteps(a)}function ut(n){return n._reader._readRequests.length}function Or(n){let a=n._reader;return!(a===void 0||!ft(a))}class it{constructor(a){if(Ke(a,1,"ReadableStreamDefaultReader"),Yt(a,"First parameter"),zr(a))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Ot(this,a),this._readRequests=new ne}get closed(){return ft(this)?this._closedPromise:h(_("closed"))}cancel(a=void 0){return ft(this)?this._ownerReadableStream===void 0?h(Ht("cancel")):Je(this,a):h(_("cancel"))}read(){if(!ft(this))return h(_("read"));if(this._ownerReadableStream===void 0)return h(Ht("read from"));let a,l,m=g((k,D)=>{a=k,l=D});return Y(this,{_chunkSteps:k=>a({value:k,done:!1}),_closeSteps:()=>a({value:void 0,done:!0}),_errorSteps:k=>l(k)}),m}releaseLock(){if(!ft(this))throw _("releaseLock");this._ownerReadableStream!==void 0&&qt(this)}}Object.defineProperties(it.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),i(it.prototype.cancel,"cancel"),i(it.prototype.read,"read"),i(it.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(it.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function ft(n){return!t(n)||!Object.prototype.hasOwnProperty.call(n,"_readRequests")?!1:n instanceof it}function Y(n,a){let l=n._ownerReadableStream;l._disturbed=!0,l._state==="closed"?a._closeSteps():l._state==="errored"?a._errorSteps(l._storedError):l._readableStreamController[Be](a)}function qt(n){Fe(n);let a=new TypeError("Reader was released");f(n,a)}function f(n,a){let l=n._readRequests;n._readRequests=new ne,l.forEach(m=>{m._errorSteps(a)})}function _(n){return new TypeError(`ReadableStreamDefaultReader.prototype.${n} can only be used on a ReadableStreamDefaultReader`)}let y=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class v{constructor(a,l){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=a,this._preventCancel=l}next(){let a=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?q(this._ongoingPromise,a,a):a(),this._ongoingPromise}return(a){let l=()=>this._returnSteps(a);return this._ongoingPromise?q(this._ongoingPromise,l,l):l()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let a=this._reader,l,m,w=g((D,$)=>{l=D,m=$});return Y(a,{_chunkSteps:D=>{this._ongoingPromise=void 0,N(()=>l({value:D,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,Fe(a),l({value:void 0,done:!0})},_errorSteps:D=>{this._ongoingPromise=void 0,this._isFinished=!0,Fe(a),m(D)}}),w}_returnSteps(a){if(this._isFinished)return Promise.resolve({value:a,done:!0});this._isFinished=!0;let l=this._reader;if(!this._preventCancel){let m=Je(l,a);return Fe(l),q(m,()=>({value:a,done:!0}))}return Fe(l),d({value:a,done:!0})}}let x={next(){return M(this)?this._asyncIteratorImpl.next():h(V("next"))},return(n){return M(this)?this._asyncIteratorImpl.return(n):h(V("return"))}};Object.setPrototypeOf(x,y);function R(n,a){let l=mt(n),m=new v(l,a),w=Object.create(x);return w._asyncIteratorImpl=m,w}function M(n){if(!t(n)||!Object.prototype.hasOwnProperty.call(n,"_asyncIteratorImpl"))return!1;try{return n._asyncIteratorImpl instanceof v}catch{return!1}}function V(n){return new TypeError(`ReadableStreamAsyncIterator.${n} can only be used on a ReadableSteamAsyncIterator`)}let F=Number.isNaN||function(n){return n!==n};var ee,de,ie;function he(n){return n.slice()}function $e(n,a,l,m,w){new Uint8Array(n).set(new Uint8Array(l,m,w),a)}let Te=n=>(typeof n.transfer=="function"?Te=a=>a.transfer():typeof structuredClone=="function"?Te=a=>structuredClone(a,{transfer:[a]}):Te=a=>a,Te(n)),je=n=>(typeof n.detached=="boolean"?je=a=>a.detached:je=a=>a.byteLength===0,je(n));function mr(n,a,l){if(n.slice)return n.slice(a,l);let m=l-a,w=new ArrayBuffer(m);return $e(w,0,n,a,m),w}function on(n,a){let l=n[a];if(l!=null){if(typeof l!="function")throw new TypeError(`${String(a)} is not a function`);return l}}function di(n){let a={[Symbol.iterator]:()=>n.iterator},l=async function*(){return yield*a}(),m=l.next;return{iterator:l,nextMethod:m,done:!1}}let In=(ie=(ee=Symbol.asyncIterator)!==null&&ee!==void 0?ee:(de=Symbol.for)===null||de===void 0?void 0:de.call(Symbol,"Symbol.asyncIterator"))!==null&&ie!==void 0?ie:"@@asyncIterator";function gi(n,a="sync",l){if(l===void 0)if(a==="async"){if(l=on(n,In),l===void 0){let k=on(n,Symbol.iterator),D=gi(n,"sync",k);return di(D)}}else l=on(n,Symbol.iterator);if(l===void 0)throw new TypeError("The object is not iterable");let m=H(l,n,[]);if(!t(m))throw new TypeError("The iterator method must return an object");let w=m.next;return{iterator:m,nextMethod:w,done:!1}}function hi(n){let a=H(n.nextMethod,n.iterator,[]);if(!t(a))throw new TypeError("The iterator.next() method must return an object");return a}function ss(n){return!!n.done}function is(n){return n.value}function lo(n){return!(typeof n!="number"||F(n)||n<0)}function as(n){let a=mr(n.buffer,n.byteOffset,n.byteOffset+n.byteLength);return new Uint8Array(a)}function os(n){let a=n._queue.shift();return n._queueTotalSize-=a.size,n._queueTotalSize<0&&(n._queueTotalSize=0),a.value}function ls(n,a,l){if(!lo(l)||l===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");n._queue.push({value:a,size:l}),n._queueTotalSize+=l}function co(n){return n._queue.peek().value}function cr(n){n._queue=new ne,n._queueTotalSize=0}function pi(n){return n===DataView}function uo(n){return pi(n.constructor)}function fo(n){return pi(n)?1:n.BYTES_PER_ELEMENT}class br{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!cs(this))throw bs("view");return this._view}respond(a){if(!cs(this))throw bs("respond");if(Ke(a,1,"respond"),a=or(a,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(je(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");xn(this._associatedReadableByteStreamController,a)}respondWithNewView(a){if(!cs(this))throw bs("respondWithNewView");if(Ke(a,1,"respondWithNewView"),!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(je(a.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");cn(this._associatedReadableByteStreamController,a)}}Object.defineProperties(br.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),i(br.prototype.respond,"respond"),i(br.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(br.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Qt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!yr(this))throw Nr("byobRequest");return ln(this)}get desiredSize(){if(!yr(this))throw Nr("desiredSize");return Tn(this)}close(){if(!yr(this))throw Nr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let a=this._controlledReadableByteStream._state;if(a!=="readable")throw new TypeError(`The stream (in ${a} state) is not in the readable state and cannot be closed`);Fr(this)}enqueue(a){if(!yr(this))throw Nr("enqueue");if(Ke(a,1,"enqueue"),!ArrayBuffer.isView(a))throw new TypeError("chunk must be an array buffer view");if(a.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(a.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let l=this._controlledReadableByteStream._state;if(l!=="readable")throw new TypeError(`The stream (in ${l} state) is not in the readable state and cannot be enqueued to`);kn(this,a)}error(a=void 0){if(!yr(this))throw Nr("error");bt(this,a)}[Ve](a){_i(this),cr(this);let l=this._cancelAlgorithm(a);return An(this),l}[Be](a){let l=this._controlledReadableByteStream;if(this._queueTotalSize>0){Lr(this,a);return}let m=this._autoAllocateChunkSize;if(m!==void 0){let w;try{w=new ArrayBuffer(m)}catch(D){a._errorSteps(D);return}let k={buffer:w,bufferByteLength:m,byteOffset:0,byteLength:m,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(k)}lr(l,a),wr(this)}[Ct](){if(this._pendingPullIntos.length>0){let a=this._pendingPullIntos.peek();a.readerType="none",this._pendingPullIntos=new ne,this._pendingPullIntos.push(a)}}}Object.defineProperties(Qt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),i(Qt.prototype.close,"close"),i(Qt.prototype.enqueue,"enqueue"),i(Qt.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Qt.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function yr(n){return!t(n)||!Object.prototype.hasOwnProperty.call(n,"_controlledReadableByteStream")?!1:n instanceof Qt}function cs(n){return!t(n)||!Object.prototype.hasOwnProperty.call(n,"_associatedReadableByteStreamController")?!1:n instanceof br}function wr(n){if(!po(n))return;if(n._pulling){n._pullAgain=!0;return}n._pulling=!0;let l=n._pullAlgorithm();C(l,()=>(n._pulling=!1,n._pullAgain&&(n._pullAgain=!1,wr(n)),null),m=>(bt(n,m),null))}function _i(n){gs(n),n._pendingPullIntos=new ne}function us(n,a){let l=!1;n._state==="closed"&&(l=!0);let m=Ft(a);a.readerType==="default"?Jt(n,m,l):b(n,m,l)}function Ft(n){let a=n.bytesFilled,l=n.elementSize;return new n.viewConstructor(n.buffer,n.byteOffset,a/l)}function En(n,a,l,m){n._queue.push({buffer:a,byteOffset:l,byteLength:m}),n._queueTotalSize+=m}function mi(n,a,l,m){let w;try{w=mr(a,l,l+m)}catch(k){throw bt(n,k),k}En(n,w,0,m)}function bi(n,a){a.bytesFilled>0&&mi(n,a.buffer,a.byteOffset,a.bytesFilled),qr(n)}function fs(n,a){let l=Math.min(n._queueTotalSize,a.byteLength-a.bytesFilled),m=a.bytesFilled+l,w=l,k=!1,D=m%a.elementSize,$=m-D;$>=a.minimumFill&&(w=$-a.bytesFilled,k=!0);let ae=n._queue;for(;w>0;){let J=ae.peek(),ce=Math.min(w,J.byteLength),ge=a.byteOffset+a.bytesFilled;$e(a.buffer,ge,J.buffer,J.byteOffset,ce),J.byteLength===ce?ae.shift():(J.byteOffset+=ce,J.byteLength-=ce),n._queueTotalSize-=ce,ds(n,ce,a),w-=ce}return k}function ds(n,a,l){l.bytesFilled+=a}function Vr(n){n._queueTotalSize===0&&n._closeRequested?(An(n),Rs(n._controlledReadableByteStream)):wr(n)}function gs(n){n._byobRequest!==null&&(n._byobRequest._associatedReadableByteStreamController=void 0,n._byobRequest._view=null,n._byobRequest=null)}function hs(n){for(;n._pendingPullIntos.length>0;){if(n._queueTotalSize===0)return;let a=n._pendingPullIntos.peek();fs(n,a)&&(qr(n),us(n._controlledReadableByteStream,a))}}function go(n){let a=n._controlledReadableByteStream._reader;for(;a._readRequests.length>0;){if(n._queueTotalSize===0)return;let l=a._readRequests.shift();Lr(n,l)}}function ho(n,a,l,m){let w=n._controlledReadableByteStream,k=a.constructor,D=fo(k),{byteOffset:$,byteLength:ae}=a,J=l*D,ce;try{ce=Te(a.buffer)}catch(Ae){m._errorSteps(Ae);return}let ge={buffer:ce,bufferByteLength:ce.byteLength,byteOffset:$,byteLength:ae,bytesFilled:0,minimumFill:J,elementSize:D,viewConstructor:k,readerType:"byob"};if(n._pendingPullIntos.length>0){n._pendingPullIntos.push(ge),Ci(w,m);return}if(w._state==="closed"){let Ae=new k(ge.buffer,ge.byteOffset,0);m._closeSteps(Ae);return}if(n._queueTotalSize>0){if(fs(n,ge)){let Ae=Ft(ge);Vr(n),m._chunkSteps(Ae);return}if(n._closeRequested){let Ae=new TypeError("Insufficient bytes to fill elements in the given buffer");bt(n,Ae),m._errorSteps(Ae);return}}n._pendingPullIntos.push(ge),Ci(w,m),wr(n)}function ps(n,a){a.readerType==="none"&&qr(n);let l=n._controlledReadableByteStream;if(c(l))for(;P(l)>0;){let m=qr(n);us(l,m)}}function _s(n,a,l){if(ds(n,a,l),l.readerType==="none"){bi(n,l),hs(n);return}if(l.bytesFilled<l.minimumFill)return;qr(n);let m=l.bytesFilled%l.elementSize;if(m>0){let w=l.byteOffset+l.bytesFilled;mi(n,l.buffer,w-m,m)}l.bytesFilled-=m,us(n._controlledReadableByteStream,l),hs(n)}function yi(n,a){let l=n._pendingPullIntos.peek();gs(n),n._controlledReadableByteStream._state==="closed"?ps(n,l):_s(n,a,l),wr(n)}function qr(n){return n._pendingPullIntos.shift()}function po(n){let a=n._controlledReadableByteStream;return a._state!=="readable"||n._closeRequested||!n._started?!1:!!(Or(a)&&ut(a)>0||c(a)&&P(a)>0||Tn(n)>0)}function An(n){n._pullAlgorithm=void 0,n._cancelAlgorithm=void 0}function Fr(n){let a=n._controlledReadableByteStream;if(!(n._closeRequested||a._state!=="readable")){if(n._queueTotalSize>0){n._closeRequested=!0;return}if(n._pendingPullIntos.length>0){let l=n._pendingPullIntos.peek();if(l.bytesFilled%l.elementSize!==0){let m=new TypeError("Insufficient bytes to fill elements in the given buffer");throw bt(n,m),m}}An(n),Rs(a)}}function kn(n,a){let l=n._controlledReadableByteStream;if(n._closeRequested||l._state!=="readable")return;let{buffer:m,byteOffset:w,byteLength:k}=a;if(je(m))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");let D=Te(m);if(n._pendingPullIntos.length>0){let $=n._pendingPullIntos.peek();if(je($.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");gs(n),$.buffer=Te($.buffer),$.readerType==="none"&&bi(n,$)}if(Or(l))if(go(n),ut(l)===0)En(n,D,w,k);else{n._pendingPullIntos.length>0&&qr(n);let $=new Uint8Array(D,w,k);Jt(l,$,!1)}else c(l)?(En(n,D,w,k),hs(n)):En(n,D,w,k);wr(n)}function bt(n,a){let l=n._controlledReadableByteStream;l._state==="readable"&&(_i(n),cr(n),An(n),Su(l,a))}function Lr(n,a){let l=n._queue.shift();n._queueTotalSize-=l.byteLength,Vr(n);let m=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);a._chunkSteps(m)}function ln(n){if(n._byobRequest===null&&n._pendingPullIntos.length>0){let a=n._pendingPullIntos.peek(),l=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled),m=Object.create(br.prototype);ms(m,n,l),n._byobRequest=m}return n._byobRequest}function Tn(n){let a=n._controlledReadableByteStream._state;return a==="errored"?null:a==="closed"?0:n._strategyHWM-n._queueTotalSize}function xn(n,a){let l=n._pendingPullIntos.peek();if(n._controlledReadableByteStream._state==="closed"){if(a!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(a===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(l.bytesFilled+a>l.byteLength)throw new RangeError("bytesWritten out of range")}l.buffer=Te(l.buffer),yi(n,a)}function cn(n,a){let l=n._pendingPullIntos.peek();if(n._controlledReadableByteStream._state==="closed"){if(a.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(a.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(l.byteOffset+l.bytesFilled!==a.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(l.bufferByteLength!==a.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(l.bytesFilled+a.byteLength>l.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let w=a.byteLength;l.buffer=Te(a.buffer),yi(n,w)}function wi(n,a,l,m,w,k,D){a._controlledReadableByteStream=n,a._pullAgain=!1,a._pulling=!1,a._byobRequest=null,a._queue=a._queueTotalSize=void 0,cr(a),a._closeRequested=!1,a._started=!1,a._strategyHWM=k,a._pullAlgorithm=m,a._cancelAlgorithm=w,a._autoAllocateChunkSize=D,a._pendingPullIntos=new ne,n._readableStreamController=a;let $=l();C(d($),()=>(a._started=!0,wr(a),null),ae=>(bt(a,ae),null))}function un(n,a,l){let m=Object.create(Qt.prototype),w,k,D;a.start!==void 0?w=()=>a.start(m):w=()=>{},a.pull!==void 0?k=()=>a.pull(m):k=()=>d(void 0),a.cancel!==void 0?D=ae=>a.cancel(ae):D=()=>d(void 0);let $=a.autoAllocateChunkSize;if($===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");wi(n,m,w,k,D,l,$)}function ms(n,a,l){n._associatedReadableByteStreamController=a,n._view=l}function bs(n){return new TypeError(`ReadableStreamBYOBRequest.prototype.${n} can only be used on a ReadableStreamBYOBRequest`)}function Nr(n){return new TypeError(`ReadableByteStreamController.prototype.${n} can only be used on a ReadableByteStreamController`)}function Si(n,a){Ge(n,a);let l=n==null?void 0:n.mode;return{mode:l===void 0?void 0:vi(l,`${a} has member 'mode' that`)}}function vi(n,a){if(n=`${n}`,n!=="byob")throw new TypeError(`${a} '${n}' is not a valid enumeration value for ReadableStreamReaderMode`);return n}function Pi(n,a){var l;Ge(n,a);let m=(l=n==null?void 0:n.min)!==null&&l!==void 0?l:1;return{min:or(m,`${a} has member 'min' that`)}}function ys(n){return new B(n)}function Ci(n,a){n._reader._readIntoRequests.push(a)}function b(n,a,l){let w=n._reader._readIntoRequests.shift();l?w._closeSteps(a):w._chunkSteps(a)}function P(n){return n._reader._readIntoRequests.length}function c(n){let a=n._reader;return!(a===void 0||!j(a))}class B{constructor(a){if(Ke(a,1,"ReadableStreamBYOBReader"),Yt(a,"First parameter"),zr(a))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!yr(a._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Ot(this,a),this._readIntoRequests=new ne}get closed(){return j(this)?this._closedPromise:h(ye("closed"))}cancel(a=void 0){return j(this)?this._ownerReadableStream===void 0?h(Ht("cancel")):Je(this,a):h(ye("cancel"))}read(a,l={}){if(!j(this))return h(ye("read"));if(!ArrayBuffer.isView(a))return h(new TypeError("view must be an array buffer view"));if(a.byteLength===0)return h(new TypeError("view must have non-zero byteLength"));if(a.buffer.byteLength===0)return h(new TypeError("view's buffer must have non-zero byteLength"));if(je(a.buffer))return h(new TypeError("view's buffer has been detached"));let m;try{m=Pi(l,"options")}catch(J){return h(J)}let w=m.min;if(w===0)return h(new TypeError("options.min must be greater than 0"));if(uo(a)){if(w>a.byteLength)return h(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(w>a.length)return h(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return h(Ht("read from"));let k,D,$=g((J,ce)=>{k=J,D=ce});return I(this,a,w,{_chunkSteps:J=>k({value:J,done:!1}),_closeSteps:J=>k({value:J,done:!0}),_errorSteps:J=>D(J)}),$}releaseLock(){if(!j(this))throw ye("releaseLock");this._ownerReadableStream!==void 0&&K(this)}}Object.defineProperties(B.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),i(B.prototype.cancel,"cancel"),i(B.prototype.read,"read"),i(B.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(B.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function j(n){return!t(n)||!Object.prototype.hasOwnProperty.call(n,"_readIntoRequests")?!1:n instanceof B}function I(n,a,l,m){let w=n._ownerReadableStream;w._disturbed=!0,w._state==="errored"?m._errorSteps(w._storedError):ho(w._readableStreamController,a,l,m)}function K(n){Fe(n);let a=new TypeError("Reader was released");L(n,a)}function L(n,a){let l=n._readIntoRequests;n._readIntoRequests=new ne,l.forEach(m=>{m._errorSteps(a)})}function ye(n){return new TypeError(`ReadableStreamBYOBReader.prototype.${n} can only be used on a ReadableStreamBYOBReader`)}function A(n,a){let{highWaterMark:l}=n;if(l===void 0)return a;if(F(l)||l<0)throw new RangeError("Invalid highWaterMark");return l}function T(n){let{size:a}=n;return a||(()=>1)}function Re(n,a){Ge(n,a);let l=n==null?void 0:n.highWaterMark,m=n==null?void 0:n.size;return{highWaterMark:l===void 0?void 0:ct(l),size:m===void 0?void 0:le(m,`${a} has member 'size' that`)}}function le(n,a){return qe(n,a),l=>ct(n(l))}function W(n,a){Ge(n,a);let l=n==null?void 0:n.abort,m=n==null?void 0:n.close,w=n==null?void 0:n.start,k=n==null?void 0:n.type,D=n==null?void 0:n.write;return{abort:l===void 0?void 0:oe(l,n,`${a} has member 'abort' that`),close:m===void 0?void 0:ze(m,n,`${a} has member 'close' that`),start:w===void 0?void 0:me(w,n,`${a} has member 'start' that`),write:D===void 0?void 0:ue(D,n,`${a} has member 'write' that`),type:k}}function oe(n,a,l){return qe(n,l),m=>te(n,a,[m])}function ze(n,a,l){return qe(n,l),()=>te(n,a,[])}function me(n,a,l){return qe(n,l),m=>H(n,a,[m])}function ue(n,a,l){return qe(n,l),(m,w)=>te(n,a,[m,w])}function we(n,a){if(!re(n))throw new TypeError(`${a} is not a WritableStream.`)}function pe(n){if(typeof n!="object"||n===null)return!1;try{return typeof n.aborted=="boolean"}catch{return!1}}let G=typeof AbortController=="function";function Se(){if(G)return new AbortController}class Ee{constructor(a={},l={}){a===void 0?a=null:_r(a,"First parameter");let m=Re(l,"Second parameter"),w=W(a,"First parameter");if(_e(this),w.type!==void 0)throw new RangeError("Invalid type is specified");let D=T(m),$=A(m,1);$p(this,w,$,D)}get locked(){if(!re(this))throw Ai("locked");return fe(this)}abort(a=void 0){return re(this)?fe(this)?h(new TypeError("Cannot abort a stream that already has a writer")):Lt(this,a):h(Ai("abort"))}close(){return re(this)?fe(this)?h(new TypeError("Cannot close a stream that already has a writer")):ur(this)?h(new TypeError("Cannot close an already-closing stream")):ws(this):h(Ai("close"))}getWriter(){if(!re(this))throw Ai("getWriter");return Q(this)}}Object.defineProperties(Ee.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),i(Ee.prototype.abort,"abort"),i(Ee.prototype.close,"close"),i(Ee.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ee.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});function Q(n){return new Sr(n)}function Ce(n,a,l,m,w=1,k=()=>1){let D=Object.create(Ee.prototype);_e(D);let $=Object.create(Bn.prototype);return cu(D,$,n,a,l,m,w,k),D}function _e(n){n._state="writable",n._storedError=void 0,n._writer=void 0,n._writableStreamController=void 0,n._writeRequests=new ne,n._inFlightWriteRequest=void 0,n._closeRequest=void 0,n._inFlightCloseRequest=void 0,n._pendingAbortRequest=void 0,n._backpressure=!1}function re(n){return!t(n)||!Object.prototype.hasOwnProperty.call(n,"_writableStreamController")?!1:n instanceof Ee}function fe(n){return n._writer!==void 0}function Lt(n,a){var l;if(n._state==="closed"||n._state==="errored")return d(void 0);n._writableStreamController._abortReason=a,(l=n._writableStreamController._abortController)===null||l===void 0||l.abort(a);let m=n._state;if(m==="closed"||m==="errored")return d(void 0);if(n._pendingAbortRequest!==void 0)return n._pendingAbortRequest._promise;let w=!1;m==="erroring"&&(w=!0,a=void 0);let k=g((D,$)=>{n._pendingAbortRequest={_promise:void 0,_resolve:D,_reject:$,_reason:a,_wasAlreadyErroring:w}});return n._pendingAbortRequest._promise=k,w||_o(n,a),k}function ws(n){let a=n._state;if(a==="closed"||a==="errored")return h(new TypeError(`The stream (in ${a} state) is not in the writable state and cannot be closed`));let l=g((w,k)=>{let D={_resolve:w,_reject:k};n._closeRequest=D}),m=n._writer;return m!==void 0&&n._backpressure&&a==="writable"&&Co(m),Hp(n._writableStreamController),l}function Mn(n){return g((l,m)=>{let w={_resolve:l,_reject:m};n._writeRequests.push(w)})}function Wr(n,a){if(n._state==="writable"){_o(n,a);return}mo(n)}function _o(n,a){let l=n._writableStreamController;n._state="erroring",n._storedError=a;let m=n._writer;m!==void 0&&iu(m,a),!Fp(n)&&l._started&&mo(n)}function mo(n){n._state="errored",n._writableStreamController[Ie]();let a=n._storedError;if(n._writeRequests.forEach(w=>{w._reject(a)}),n._writeRequests=new ne,n._pendingAbortRequest===void 0){Ri(n);return}let l=n._pendingAbortRequest;if(n._pendingAbortRequest=void 0,l._wasAlreadyErroring){l._reject(a),Ri(n);return}let m=n._writableStreamController[se](l._reason);C(m,()=>(l._resolve(),Ri(n),null),w=>(l._reject(w),Ri(n),null))}function Up(n){n._inFlightWriteRequest._resolve(void 0),n._inFlightWriteRequest=void 0}function Op(n,a){n._inFlightWriteRequest._reject(a),n._inFlightWriteRequest=void 0,Wr(n,a)}function Vp(n){n._inFlightCloseRequest._resolve(void 0),n._inFlightCloseRequest=void 0,n._state==="erroring"&&(n._storedError=void 0,n._pendingAbortRequest!==void 0&&(n._pendingAbortRequest._resolve(),n._pendingAbortRequest=void 0)),n._state="closed";let l=n._writer;l!==void 0&&gu(l)}function qp(n,a){n._inFlightCloseRequest._reject(a),n._inFlightCloseRequest=void 0,n._pendingAbortRequest!==void 0&&(n._pendingAbortRequest._reject(a),n._pendingAbortRequest=void 0),Wr(n,a)}function ur(n){return!(n._closeRequest===void 0&&n._inFlightCloseRequest===void 0)}function Fp(n){return!(n._inFlightWriteRequest===void 0&&n._inFlightCloseRequest===void 0)}function Lp(n){n._inFlightCloseRequest=n._closeRequest,n._closeRequest=void 0}function Np(n){n._inFlightWriteRequest=n._writeRequests.shift()}function Ri(n){n._closeRequest!==void 0&&(n._closeRequest._reject(n._storedError),n._closeRequest=void 0);let a=n._writer;a!==void 0&&vo(a,n._storedError)}function bo(n,a){let l=n._writer;l!==void 0&&a!==n._backpressure&&(a?e_(l):Co(l)),n._backpressure=a}class Sr{constructor(a){if(Ke(a,1,"WritableStreamDefaultWriter"),we(a,"First parameter"),fe(a))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=a,a._writer=this;let l=a._state;if(l==="writable")!ur(a)&&a._backpressure?Ti(this):hu(this),ki(this);else if(l==="erroring")Po(this,a._storedError),ki(this);else if(l==="closed")hu(this),Qp(this);else{let m=a._storedError;Po(this,m),du(this,m)}}get closed(){return fn(this)?this._closedPromise:h(dn("closed"))}get desiredSize(){if(!fn(this))throw dn("desiredSize");if(this._ownerWritableStream===void 0)throw vs("desiredSize");return Gp(this)}get ready(){return fn(this)?this._readyPromise:h(dn("ready"))}abort(a=void 0){return fn(this)?this._ownerWritableStream===void 0?h(vs("abort")):Wp(this,a):h(dn("abort"))}close(){if(!fn(this))return h(dn("close"));let a=this._ownerWritableStream;return a===void 0?h(vs("close")):ur(a)?h(new TypeError("Cannot close an already-closing stream")):su(this)}releaseLock(){if(!fn(this))throw dn("releaseLock");this._ownerWritableStream!==void 0&&au(this)}write(a=void 0){return fn(this)?this._ownerWritableStream===void 0?h(vs("write to")):ou(this,a):h(dn("write"))}}Object.defineProperties(Sr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),i(Sr.prototype.abort,"abort"),i(Sr.prototype.close,"close"),i(Sr.prototype.releaseLock,"releaseLock"),i(Sr.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Sr.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function fn(n){return!t(n)||!Object.prototype.hasOwnProperty.call(n,"_ownerWritableStream")?!1:n instanceof Sr}function Wp(n,a){let l=n._ownerWritableStream;return Lt(l,a)}function su(n){let a=n._ownerWritableStream;return ws(a)}function jp(n){let a=n._ownerWritableStream,l=a._state;return ur(a)||l==="closed"?d(void 0):l==="errored"?h(a._storedError):su(n)}function zp(n,a){n._closedPromiseState==="pending"?vo(n,a):Xp(n,a)}function iu(n,a){n._readyPromiseState==="pending"?pu(n,a):t_(n,a)}function Gp(n){let a=n._ownerWritableStream,l=a._state;return l==="errored"||l==="erroring"?null:l==="closed"?0:uu(a._writableStreamController)}function au(n){let a=n._ownerWritableStream,l=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");iu(n,l),zp(n,l),a._writer=void 0,n._ownerWritableStream=void 0}function ou(n,a){let l=n._ownerWritableStream,m=l._writableStreamController,w=Kp(m,a);if(l!==n._ownerWritableStream)return h(vs("write to"));let k=l._state;if(k==="errored")return h(l._storedError);if(ur(l)||k==="closed")return h(new TypeError("The stream is closing or closed and cannot be written to"));if(k==="erroring")return h(l._storedError);let D=Mn(l);return Zp(m,a,w),D}let lu={};class Bn{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!yo(this))throw So("abortReason");return this._abortReason}get signal(){if(!yo(this))throw So("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(a=void 0){if(!yo(this))throw So("error");this._controlledWritableStream._state==="writable"&&fu(this,a)}[se](a){let l=this._abortAlgorithm(a);return Ii(this),l}[Ie](){cr(this)}}Object.defineProperties(Bn.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Bn.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function yo(n){return!t(n)||!Object.prototype.hasOwnProperty.call(n,"_controlledWritableStream")?!1:n instanceof Bn}function cu(n,a,l,m,w,k,D,$){a._controlledWritableStream=n,n._writableStreamController=a,a._queue=void 0,a._queueTotalSize=void 0,cr(a),a._abortReason=void 0,a._abortController=Se(),a._started=!1,a._strategySizeAlgorithm=$,a._strategyHWM=D,a._writeAlgorithm=m,a._closeAlgorithm=w,a._abortAlgorithm=k;let ae=wo(a);bo(n,ae);let J=l(),ce=d(J);C(ce,()=>(a._started=!0,Ei(a),null),ge=>(a._started=!0,Wr(n,ge),null))}function $p(n,a,l,m){let w=Object.create(Bn.prototype),k,D,$,ae;a.start!==void 0?k=()=>a.start(w):k=()=>{},a.write!==void 0?D=J=>a.write(J,w):D=()=>d(void 0),a.close!==void 0?$=()=>a.close():$=()=>d(void 0),a.abort!==void 0?ae=J=>a.abort(J):ae=()=>d(void 0),cu(n,w,k,D,$,ae,l,m)}function Ii(n){n._writeAlgorithm=void 0,n._closeAlgorithm=void 0,n._abortAlgorithm=void 0,n._strategySizeAlgorithm=void 0}function Hp(n){ls(n,lu,0),Ei(n)}function Kp(n,a){try{return n._strategySizeAlgorithm(a)}catch(l){return Ss(n,l),1}}function uu(n){return n._strategyHWM-n._queueTotalSize}function Zp(n,a,l){try{ls(n,a,l)}catch(w){Ss(n,w);return}let m=n._controlledWritableStream;if(!ur(m)&&m._state==="writable"){let w=wo(n);bo(m,w)}Ei(n)}function Ei(n){let a=n._controlledWritableStream;if(!n._started||a._inFlightWriteRequest!==void 0)return;if(a._state==="erroring"){mo(a);return}if(n._queue.length===0)return;let m=co(n);m===lu?Yp(n):Jp(n,m)}function Ss(n,a){n._controlledWritableStream._state==="writable"&&fu(n,a)}function Yp(n){let a=n._controlledWritableStream;Lp(a),os(n);let l=n._closeAlgorithm();Ii(n),C(l,()=>(Vp(a),null),m=>(qp(a,m),null))}function Jp(n,a){let l=n._controlledWritableStream;Np(l);let m=n._writeAlgorithm(a);C(m,()=>{Up(l);let w=l._state;if(os(n),!ur(l)&&w==="writable"){let k=wo(n);bo(l,k)}return Ei(n),null},w=>(l._state==="writable"&&Ii(n),Op(l,w),null))}function wo(n){return uu(n)<=0}function fu(n,a){let l=n._controlledWritableStream;Ii(n),_o(l,a)}function Ai(n){return new TypeError(`WritableStream.prototype.${n} can only be used on a WritableStream`)}function So(n){return new TypeError(`WritableStreamDefaultController.prototype.${n} can only be used on a WritableStreamDefaultController`)}function dn(n){return new TypeError(`WritableStreamDefaultWriter.prototype.${n} can only be used on a WritableStreamDefaultWriter`)}function vs(n){return new TypeError("Cannot "+n+" a stream using a released writer")}function ki(n){n._closedPromise=g((a,l)=>{n._closedPromise_resolve=a,n._closedPromise_reject=l,n._closedPromiseState="pending"})}function du(n,a){ki(n),vo(n,a)}function Qp(n){ki(n),gu(n)}function vo(n,a){n._closedPromise_reject!==void 0&&(U(n._closedPromise),n._closedPromise_reject(a),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0,n._closedPromiseState="rejected")}function Xp(n,a){du(n,a)}function gu(n){n._closedPromise_resolve!==void 0&&(n._closedPromise_resolve(void 0),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0,n._closedPromiseState="resolved")}function Ti(n){n._readyPromise=g((a,l)=>{n._readyPromise_resolve=a,n._readyPromise_reject=l}),n._readyPromiseState="pending"}function Po(n,a){Ti(n),pu(n,a)}function hu(n){Ti(n),Co(n)}function pu(n,a){n._readyPromise_reject!==void 0&&(U(n._readyPromise),n._readyPromise_reject(a),n._readyPromise_resolve=void 0,n._readyPromise_reject=void 0,n._readyPromiseState="rejected")}function e_(n){Ti(n)}function t_(n,a){Po(n,a)}function Co(n){n._readyPromise_resolve!==void 0&&(n._readyPromise_resolve(void 0),n._readyPromise_resolve=void 0,n._readyPromise_reject=void 0,n._readyPromiseState="fulfilled")}function r_(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global}let Ro=r_();function n_(n){if(!(typeof n=="function"||typeof n=="object")||n.name!=="DOMException")return!1;try{return new n,!0}catch{return!1}}function s_(){let n=Ro==null?void 0:Ro.DOMException;return n_(n)?n:void 0}function i_(){let n=function(l,m){this.message=l||"",this.name=m||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return i(n,"DOMException"),n.prototype=Object.create(Error.prototype),Object.defineProperty(n.prototype,"constructor",{value:n,writable:!0,configurable:!0}),n}let a_=s_()||i_();function _u(n,a,l,m,w,k){let D=mt(n),$=Q(a);n._disturbed=!0;let ae=!1,J=d(void 0);return g((ce,ge)=>{let Ae;if(k!==void 0){if(Ae=()=>{let X=k.reason!==void 0?k.reason:new a_("Aborted","AbortError"),be=[];m||be.push(()=>a._state==="writable"?Lt(a,X):d(void 0)),w||be.push(()=>n._state==="readable"?er(n,X):d(void 0)),yt(()=>Promise.all(be.map(xe=>xe())),!0,X)},k.aborted){Ae();return}k.addEventListener("abort",Ae)}function tr(){return g((X,be)=>{function xe(It){It?X():S(Vn(),xe,be)}xe(!1)})}function Vn(){return ae?d(!0):S($._readyPromise,()=>g((X,be)=>{Y(D,{_chunkSteps:xe=>{J=S(ou($,xe),void 0,e),X(!1)},_closeSteps:()=>X(!0),_errorSteps:be})}))}if(Pr(n,D._closedPromise,X=>(m?Nt(!0,X):yt(()=>Lt(a,X),!0,X),null)),Pr(a,$._closedPromise,X=>(w?Nt(!0,X):yt(()=>er(n,X),!0,X),null)),dt(n,D._closedPromise,()=>(l?Nt():yt(()=>jp($)),null)),ur(a)||a._state==="closed"){let X=new TypeError("the destination writable stream closed before all data could be piped to it");w?Nt(!0,X):yt(()=>er(n,X),!0,X)}U(tr());function $r(){let X=J;return S(J,()=>X!==J?$r():void 0)}function Pr(X,be,xe){X._state==="errored"?xe(X._storedError):E(be,xe)}function dt(X,be,xe){X._state==="closed"?xe():O(be,xe)}function yt(X,be,xe){if(ae)return;ae=!0,a._state==="writable"&&!ur(a)?O($r(),It):It();function It(){return C(X(),()=>Cr(be,xe),qn=>Cr(!0,qn)),null}}function Nt(X,be){ae||(ae=!0,a._state==="writable"&&!ur(a)?O($r(),()=>Cr(X,be)):Cr(X,be))}function Cr(X,be){return au($),Fe(D),k!==void 0&&k.removeEventListener("abort",Ae),X?ge(be):ce(void 0),null}})}class vr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!xi(this))throw Bi("desiredSize");return Io(this)}close(){if(!xi(this))throw Bi("close");if(!Un(this))throw new TypeError("The stream is not in a state that permits close");gn(this)}enqueue(a=void 0){if(!xi(this))throw Bi("enqueue");if(!Un(this))throw new TypeError("The stream is not in a state that permits enqueue");return Dn(this,a)}error(a=void 0){if(!xi(this))throw Bi("error");Xt(this,a)}[Ve](a){cr(this);let l=this._cancelAlgorithm(a);return Mi(this),l}[Be](a){let l=this._controlledReadableStream;if(this._queue.length>0){let m=os(this);this._closeRequested&&this._queue.length===0?(Mi(this),Rs(l)):Ps(this),a._chunkSteps(m)}else lr(l,a),Ps(this)}[Ct](){}}Object.defineProperties(vr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),i(vr.prototype.close,"close"),i(vr.prototype.enqueue,"enqueue"),i(vr.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(vr.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function xi(n){return!t(n)||!Object.prototype.hasOwnProperty.call(n,"_controlledReadableStream")?!1:n instanceof vr}function Ps(n){if(!mu(n))return;if(n._pulling){n._pullAgain=!0;return}n._pulling=!0;let l=n._pullAlgorithm();C(l,()=>(n._pulling=!1,n._pullAgain&&(n._pullAgain=!1,Ps(n)),null),m=>(Xt(n,m),null))}function mu(n){let a=n._controlledReadableStream;return!Un(n)||!n._started?!1:!!(zr(a)&&ut(a)>0||Io(n)>0)}function Mi(n){n._pullAlgorithm=void 0,n._cancelAlgorithm=void 0,n._strategySizeAlgorithm=void 0}function gn(n){if(!Un(n))return;let a=n._controlledReadableStream;n._closeRequested=!0,n._queue.length===0&&(Mi(n),Rs(a))}function Dn(n,a){if(!Un(n))return;let l=n._controlledReadableStream;if(zr(l)&&ut(l)>0)Jt(l,a,!1);else{let m;try{m=n._strategySizeAlgorithm(a)}catch(w){throw Xt(n,w),w}try{ls(n,a,m)}catch(w){throw Xt(n,w),w}}Ps(n)}function Xt(n,a){let l=n._controlledReadableStream;l._state==="readable"&&(cr(n),Mi(n),Su(l,a))}function Io(n){let a=n._controlledReadableStream._state;return a==="errored"?null:a==="closed"?0:n._strategyHWM-n._queueTotalSize}function o_(n){return!mu(n)}function Un(n){let a=n._controlledReadableStream._state;return!n._closeRequested&&a==="readable"}function bu(n,a,l,m,w,k,D){a._controlledReadableStream=n,a._queue=void 0,a._queueTotalSize=void 0,cr(a),a._started=!1,a._closeRequested=!1,a._pullAgain=!1,a._pulling=!1,a._strategySizeAlgorithm=D,a._strategyHWM=k,a._pullAlgorithm=m,a._cancelAlgorithm=w,n._readableStreamController=a;let $=l();C(d($),()=>(a._started=!0,Ps(a),null),ae=>(Xt(a,ae),null))}function l_(n,a,l,m){let w=Object.create(vr.prototype),k,D,$;a.start!==void 0?k=()=>a.start(w):k=()=>{},a.pull!==void 0?D=()=>a.pull(w):D=()=>d(void 0),a.cancel!==void 0?$=ae=>a.cancel(ae):$=()=>d(void 0),bu(n,w,k,D,$,l,m)}function Bi(n){return new TypeError(`ReadableStreamDefaultController.prototype.${n} can only be used on a ReadableStreamDefaultController`)}function c_(n,a){return yr(n._readableStreamController)?f_(n):u_(n)}function u_(n,a){let l=mt(n),m=!1,w=!1,k=!1,D=!1,$,ae,J,ce,ge,Ae=g(dt=>{ge=dt});function tr(){return m?(w=!0,d(void 0)):(m=!0,Y(l,{_chunkSteps:yt=>{N(()=>{w=!1;let Nt=yt,Cr=yt;k||Dn(J._readableStreamController,Nt),D||Dn(ce._readableStreamController,Cr),m=!1,w&&tr()})},_closeSteps:()=>{m=!1,k||gn(J._readableStreamController),D||gn(ce._readableStreamController),(!k||!D)&&ge(void 0)},_errorSteps:()=>{m=!1}}),d(void 0))}function Vn(dt){if(k=!0,$=dt,D){let yt=he([$,ae]),Nt=er(n,yt);ge(Nt)}return Ae}function $r(dt){if(D=!0,ae=dt,k){let yt=he([$,ae]),Nt=er(n,yt);ge(Nt)}return Ae}function Pr(){}return J=Cs(Pr,tr,Vn),ce=Cs(Pr,tr,$r),E(l._closedPromise,dt=>(Xt(J._readableStreamController,dt),Xt(ce._readableStreamController,dt),(!k||!D)&&ge(void 0),null)),[J,ce]}function f_(n){let a=mt(n),l=!1,m=!1,w=!1,k=!1,D=!1,$,ae,J,ce,ge,Ae=g(X=>{ge=X});function tr(X){E(X._closedPromise,be=>(X!==a||(bt(J._readableStreamController,be),bt(ce._readableStreamController,be),(!k||!D)&&ge(void 0)),null))}function Vn(){j(a)&&(Fe(a),a=mt(n),tr(a)),Y(a,{_chunkSteps:be=>{N(()=>{m=!1,w=!1;let xe=be,It=be;if(!k&&!D)try{It=as(be)}catch(qn){bt(J._readableStreamController,qn),bt(ce._readableStreamController,qn),ge(er(n,qn));return}k||kn(J._readableStreamController,xe),D||kn(ce._readableStreamController,It),l=!1,m?Pr():w&&dt()})},_closeSteps:()=>{l=!1,k||Fr(J._readableStreamController),D||Fr(ce._readableStreamController),J._readableStreamController._pendingPullIntos.length>0&&xn(J._readableStreamController,0),ce._readableStreamController._pendingPullIntos.length>0&&xn(ce._readableStreamController,0),(!k||!D)&&ge(void 0)},_errorSteps:()=>{l=!1}})}function $r(X,be){ft(a)&&(Fe(a),a=ys(n),tr(a));let xe=be?ce:J,It=be?J:ce;I(a,X,1,{_chunkSteps:Fn=>{N(()=>{m=!1,w=!1;let Ln=be?D:k;if(be?k:D)Ln||cn(xe._readableStreamController,Fn);else{let Du;try{Du=as(Fn)}catch(xo){bt(xe._readableStreamController,xo),bt(It._readableStreamController,xo),ge(er(n,xo));return}Ln||cn(xe._readableStreamController,Fn),kn(It._readableStreamController,Du)}l=!1,m?Pr():w&&dt()})},_closeSteps:Fn=>{l=!1;let Ln=be?D:k,Ni=be?k:D;Ln||Fr(xe._readableStreamController),Ni||Fr(It._readableStreamController),Fn!==void 0&&(Ln||cn(xe._readableStreamController,Fn),!Ni&&It._readableStreamController._pendingPullIntos.length>0&&xn(It._readableStreamController,0)),(!Ln||!Ni)&&ge(void 0)},_errorSteps:()=>{l=!1}})}function Pr(){if(l)return m=!0,d(void 0);l=!0;let X=ln(J._readableStreamController);return X===null?Vn():$r(X._view,!1),d(void 0)}function dt(){if(l)return w=!0,d(void 0);l=!0;let X=ln(ce._readableStreamController);return X===null?Vn():$r(X._view,!0),d(void 0)}function yt(X){if(k=!0,$=X,D){let be=he([$,ae]),xe=er(n,be);ge(xe)}return Ae}function Nt(X){if(D=!0,ae=X,k){let be=he([$,ae]),xe=er(n,be);ge(xe)}return Ae}function Cr(){}return J=wu(Cr,Pr,yt),ce=wu(Cr,dt,Nt),tr(a),[J,ce]}function d_(n){return t(n)&&typeof n.getReader<"u"}function g_(n){return d_(n)?p_(n.getReader()):h_(n)}function h_(n){let a,l=gi(n,"async"),m=e;function w(){let D;try{D=hi(l)}catch(ae){return h(ae)}let $=d(D);return q($,ae=>{if(!t(ae))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(ss(ae))gn(a._readableStreamController);else{let ce=is(ae);Dn(a._readableStreamController,ce)}})}function k(D){let $=l.iterator,ae;try{ae=on($,"return")}catch(ge){return h(ge)}if(ae===void 0)return d(void 0);let J;try{J=H(ae,$,[D])}catch(ge){return h(ge)}let ce=d(J);return q(ce,ge=>{if(!t(ge))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return a=Cs(m,w,k,0),a}function p_(n){let a,l=e;function m(){let k;try{k=n.read()}catch(D){return h(D)}return q(k,D=>{if(!t(D))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(D.done)gn(a._readableStreamController);else{let $=D.value;Dn(a._readableStreamController,$)}})}function w(k){try{return d(n.cancel(k))}catch(D){return h(D)}}return a=Cs(l,m,w,0),a}function __(n,a){Ge(n,a);let l=n,m=l==null?void 0:l.autoAllocateChunkSize,w=l==null?void 0:l.cancel,k=l==null?void 0:l.pull,D=l==null?void 0:l.start,$=l==null?void 0:l.type;return{autoAllocateChunkSize:m===void 0?void 0:or(m,`${a} has member 'autoAllocateChunkSize' that`),cancel:w===void 0?void 0:m_(w,l,`${a} has member 'cancel' that`),pull:k===void 0?void 0:b_(k,l,`${a} has member 'pull' that`),start:D===void 0?void 0:y_(D,l,`${a} has member 'start' that`),type:$===void 0?void 0:w_($,`${a} has member 'type' that`)}}function m_(n,a,l){return qe(n,l),m=>te(n,a,[m])}function b_(n,a,l){return qe(n,l),m=>te(n,a,[m])}function y_(n,a,l){return qe(n,l),m=>H(n,a,[m])}function w_(n,a){if(n=`${n}`,n!=="bytes")throw new TypeError(`${a} '${n}' is not a valid enumeration value for ReadableStreamType`);return n}function S_(n,a){return Ge(n,a),{preventCancel:!!(n==null?void 0:n.preventCancel)}}function yu(n,a){Ge(n,a);let l=n==null?void 0:n.preventAbort,m=n==null?void 0:n.preventCancel,w=n==null?void 0:n.preventClose,k=n==null?void 0:n.signal;return k!==void 0&&v_(k,`${a} has member 'signal' that`),{preventAbort:!!l,preventCancel:!!m,preventClose:!!w,signal:k}}function v_(n,a){if(!pe(n))throw new TypeError(`${a} is not an AbortSignal.`)}function P_(n,a){Ge(n,a);let l=n==null?void 0:n.readable;et(l,"readable","ReadableWritablePair"),Yt(l,`${a} has member 'readable' that`);let m=n==null?void 0:n.writable;return et(m,"writable","ReadableWritablePair"),we(m,`${a} has member 'writable' that`),{readable:l,writable:m}}class at{constructor(a={},l={}){a===void 0?a=null:_r(a,"First parameter");let m=Re(l,"Second parameter"),w=__(a,"First parameter");if(Eo(this),w.type==="bytes"){if(m.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let k=A(m,0);un(this,w,k)}else{let k=T(m),D=A(m,1);l_(this,w,D,k)}}get locked(){if(!jr(this))throw hn("locked");return zr(this)}cancel(a=void 0){return jr(this)?zr(this)?h(new TypeError("Cannot cancel a stream that already has a reader")):er(this,a):h(hn("cancel"))}getReader(a=void 0){if(!jr(this))throw hn("getReader");return Si(a,"First parameter").mode===void 0?mt(this):ys(this)}pipeThrough(a,l={}){if(!jr(this))throw hn("pipeThrough");Ke(a,1,"pipeThrough");let m=P_(a,"First parameter"),w=yu(l,"Second parameter");if(zr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(fe(m.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let k=_u(this,m.writable,w.preventClose,w.preventAbort,w.preventCancel,w.signal);return U(k),m.readable}pipeTo(a,l={}){if(!jr(this))return h(hn("pipeTo"));if(a===void 0)return h("Parameter 1 is required in 'pipeTo'.");if(!re(a))return h(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let m;try{m=yu(l,"Second parameter")}catch(w){return h(w)}return zr(this)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):fe(a)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):_u(this,a,m.preventClose,m.preventAbort,m.preventCancel,m.signal)}tee(){if(!jr(this))throw hn("tee");let a=c_(this);return he(a)}values(a=void 0){if(!jr(this))throw hn("values");let l=S_(a,"First parameter");return R(this,l.preventCancel)}[In](a){return this.values(a)}static from(a){return g_(a)}}Object.defineProperties(at,{from:{enumerable:!0}}),Object.defineProperties(at.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),i(at.from,"from"),i(at.prototype.cancel,"cancel"),i(at.prototype.getReader,"getReader"),i(at.prototype.pipeThrough,"pipeThrough"),i(at.prototype.pipeTo,"pipeTo"),i(at.prototype.tee,"tee"),i(at.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(at.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(at.prototype,In,{value:at.prototype.values,writable:!0,configurable:!0});function Cs(n,a,l,m=1,w=()=>1){let k=Object.create(at.prototype);Eo(k);let D=Object.create(vr.prototype);return bu(k,D,n,a,l,m,w),k}function wu(n,a,l){let m=Object.create(at.prototype);Eo(m);let w=Object.create(Qt.prototype);return wi(m,w,n,a,l,0,void 0),m}function Eo(n){n._state="readable",n._reader=void 0,n._storedError=void 0,n._disturbed=!1}function jr(n){return!t(n)||!Object.prototype.hasOwnProperty.call(n,"_readableStreamController")?!1:n instanceof at}function zr(n){return n._reader!==void 0}function er(n,a){if(n._disturbed=!0,n._state==="closed")return d(void 0);if(n._state==="errored")return h(n._storedError);Rs(n);let l=n._reader;if(l!==void 0&&j(l)){let w=l._readIntoRequests;l._readIntoRequests=new ne,w.forEach(k=>{k._closeSteps(void 0)})}let m=n._readableStreamController[Ve](a);return q(m,e)}function Rs(n){n._state="closed";let a=n._reader;if(a!==void 0&&(Kt(a),ft(a))){let l=a._readRequests;a._readRequests=new ne,l.forEach(m=>{m._closeSteps()})}}function Su(n,a){n._state="errored",n._storedError=a;let l=n._reader;l!==void 0&&(Xe(l,a),ft(l)?f(l,a):L(l,a))}function hn(n){return new TypeError(`ReadableStream.prototype.${n} can only be used on a ReadableStream`)}function vu(n,a){Ge(n,a);let l=n==null?void 0:n.highWaterMark;return et(l,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ct(l)}}let Pu=n=>n.byteLength;i(Pu,"size");class Di{constructor(a){Ke(a,1,"ByteLengthQueuingStrategy"),a=vu(a,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=a.highWaterMark}get highWaterMark(){if(!Ru(this))throw Cu("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Ru(this))throw Cu("size");return Pu}}Object.defineProperties(Di.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Di.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Cu(n){return new TypeError(`ByteLengthQueuingStrategy.prototype.${n} can only be used on a ByteLengthQueuingStrategy`)}function Ru(n){return!t(n)||!Object.prototype.hasOwnProperty.call(n,"_byteLengthQueuingStrategyHighWaterMark")?!1:n instanceof Di}let Iu=()=>1;i(Iu,"size");class Ui{constructor(a){Ke(a,1,"CountQueuingStrategy"),a=vu(a,"First parameter"),this._countQueuingStrategyHighWaterMark=a.highWaterMark}get highWaterMark(){if(!Au(this))throw Eu("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Au(this))throw Eu("size");return Iu}}Object.defineProperties(Ui.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ui.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Eu(n){return new TypeError(`CountQueuingStrategy.prototype.${n} can only be used on a CountQueuingStrategy`)}function Au(n){return!t(n)||!Object.prototype.hasOwnProperty.call(n,"_countQueuingStrategyHighWaterMark")?!1:n instanceof Ui}function C_(n,a){Ge(n,a);let l=n==null?void 0:n.cancel,m=n==null?void 0:n.flush,w=n==null?void 0:n.readableType,k=n==null?void 0:n.start,D=n==null?void 0:n.transform,$=n==null?void 0:n.writableType;return{cancel:l===void 0?void 0:A_(l,n,`${a} has member 'cancel' that`),flush:m===void 0?void 0:R_(m,n,`${a} has member 'flush' that`),readableType:w,start:k===void 0?void 0:I_(k,n,`${a} has member 'start' that`),transform:D===void 0?void 0:E_(D,n,`${a} has member 'transform' that`),writableType:$}}function R_(n,a,l){return qe(n,l),m=>te(n,a,[m])}function I_(n,a,l){return qe(n,l),m=>H(n,a,[m])}function E_(n,a,l){return qe(n,l),(m,w)=>te(n,a,[m,w])}function A_(n,a,l){return qe(n,l),m=>te(n,a,[m])}class Oi{constructor(a={},l={},m={}){a===void 0&&(a=null);let w=Re(l,"Second parameter"),k=Re(m,"Third parameter"),D=C_(a,"First parameter");if(D.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(D.writableType!==void 0)throw new RangeError("Invalid writableType specified");let $=A(k,0),ae=T(k),J=A(w,1),ce=T(w),ge,Ae=g(tr=>{ge=tr});k_(this,Ae,J,ce,$,ae),x_(this,D),D.start!==void 0?ge(D.start(this._transformStreamController)):ge(void 0)}get readable(){if(!ku(this))throw Bu("readable");return this._readable}get writable(){if(!ku(this))throw Bu("writable");return this._writable}}Object.defineProperties(Oi.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Oi.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});function k_(n,a,l,m,w,k){function D(){return a}function $(Ae){return D_(n,Ae)}function ae(Ae){return U_(n,Ae)}function J(){return O_(n)}n._writable=Ce(D,$,J,ae,l,m);function ce(){return V_(n)}function ge(Ae){return q_(n,Ae)}n._readable=Cs(D,ce,ge,w,k),n._backpressure=void 0,n._backpressureChangePromise=void 0,n._backpressureChangePromise_resolve=void 0,Vi(n,!0),n._transformStreamController=void 0}function ku(n){return!t(n)||!Object.prototype.hasOwnProperty.call(n,"_transformStreamController")?!1:n instanceof Oi}function Tu(n,a){Xt(n._readable._readableStreamController,a),Ao(n,a)}function Ao(n,a){Fi(n._transformStreamController),Ss(n._writable._writableStreamController,a),ko(n)}function ko(n){n._backpressure&&Vi(n,!1)}function Vi(n,a){n._backpressureChangePromise!==void 0&&n._backpressureChangePromise_resolve(),n._backpressureChangePromise=g(l=>{n._backpressureChangePromise_resolve=l}),n._backpressure=a}class Gr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!qi(this))throw Li("desiredSize");let a=this._controlledTransformStream._readable._readableStreamController;return Io(a)}enqueue(a=void 0){if(!qi(this))throw Li("enqueue");xu(this,a)}error(a=void 0){if(!qi(this))throw Li("error");M_(this,a)}terminate(){if(!qi(this))throw Li("terminate");B_(this)}}Object.defineProperties(Gr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),i(Gr.prototype.enqueue,"enqueue"),i(Gr.prototype.error,"error"),i(Gr.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Gr.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function qi(n){return!t(n)||!Object.prototype.hasOwnProperty.call(n,"_controlledTransformStream")?!1:n instanceof Gr}function T_(n,a,l,m,w){a._controlledTransformStream=n,n._transformStreamController=a,a._transformAlgorithm=l,a._flushAlgorithm=m,a._cancelAlgorithm=w,a._finishPromise=void 0,a._finishPromise_resolve=void 0,a._finishPromise_reject=void 0}function x_(n,a){let l=Object.create(Gr.prototype),m,w,k;a.transform!==void 0?m=D=>a.transform(D,l):m=D=>{try{return xu(l,D),d(void 0)}catch($){return h($)}},a.flush!==void 0?w=()=>a.flush(l):w=()=>d(void 0),a.cancel!==void 0?k=D=>a.cancel(D):k=()=>d(void 0),T_(n,l,m,w,k)}function Fi(n){n._transformAlgorithm=void 0,n._flushAlgorithm=void 0,n._cancelAlgorithm=void 0}function xu(n,a){let l=n._controlledTransformStream,m=l._readable._readableStreamController;if(!Un(m))throw new TypeError("Readable side is not in a state that permits enqueue");try{Dn(m,a)}catch(k){throw Ao(l,k),l._readable._storedError}o_(m)!==l._backpressure&&Vi(l,!0)}function M_(n,a){Tu(n._controlledTransformStream,a)}function Mu(n,a){let l=n._transformAlgorithm(a);return q(l,void 0,m=>{throw Tu(n._controlledTransformStream,m),m})}function B_(n){let a=n._controlledTransformStream,l=a._readable._readableStreamController;gn(l);let m=new TypeError("TransformStream terminated");Ao(a,m)}function D_(n,a){let l=n._transformStreamController;if(n._backpressure){let m=n._backpressureChangePromise;return q(m,()=>{let w=n._writable;if(w._state==="erroring")throw w._storedError;return Mu(l,a)})}return Mu(l,a)}function U_(n,a){let l=n._transformStreamController;if(l._finishPromise!==void 0)return l._finishPromise;let m=n._readable;l._finishPromise=g((k,D)=>{l._finishPromise_resolve=k,l._finishPromise_reject=D});let w=l._cancelAlgorithm(a);return Fi(l),C(w,()=>(m._state==="errored"?On(l,m._storedError):(Xt(m._readableStreamController,a),To(l)),null),k=>(Xt(m._readableStreamController,k),On(l,k),null)),l._finishPromise}function O_(n){let a=n._transformStreamController;if(a._finishPromise!==void 0)return a._finishPromise;let l=n._readable;a._finishPromise=g((w,k)=>{a._finishPromise_resolve=w,a._finishPromise_reject=k});let m=a._flushAlgorithm();return Fi(a),C(m,()=>(l._state==="errored"?On(a,l._storedError):(gn(l._readableStreamController),To(a)),null),w=>(Xt(l._readableStreamController,w),On(a,w),null)),a._finishPromise}function V_(n){return Vi(n,!1),n._backpressureChangePromise}function q_(n,a){let l=n._transformStreamController;if(l._finishPromise!==void 0)return l._finishPromise;let m=n._writable;l._finishPromise=g((k,D)=>{l._finishPromise_resolve=k,l._finishPromise_reject=D});let w=l._cancelAlgorithm(a);return Fi(l),C(w,()=>(m._state==="errored"?On(l,m._storedError):(Ss(m._writableStreamController,a),ko(n),To(l)),null),k=>(Ss(m._writableStreamController,k),ko(n),On(l,k),null)),l._finishPromise}function Li(n){return new TypeError(`TransformStreamDefaultController.prototype.${n} can only be used on a TransformStreamDefaultController`)}function To(n){n._finishPromise_resolve!==void 0&&(n._finishPromise_resolve(),n._finishPromise_resolve=void 0,n._finishPromise_reject=void 0)}function On(n,a){n._finishPromise_reject!==void 0&&(U(n._finishPromise),n._finishPromise_reject(a),n._finishPromise_resolve=void 0,n._finishPromise_reject=void 0)}function Bu(n){return new TypeError(`TransformStream.prototype.${n} can only be used on a TransformStream`)}r.ByteLengthQueuingStrategy=Di,r.CountQueuingStrategy=Ui,r.ReadableByteStreamController=Qt,r.ReadableStream=at,r.ReadableStreamBYOBReader=B,r.ReadableStreamBYOBRequest=br,r.ReadableStreamDefaultController=vr,r.ReadableStreamDefaultReader=it,r.TransformStream=Oi,r.TransformStreamDefaultController=Gr,r.WritableStream=Ee,r.WritableStreamDefaultController=Bn,r.WritableStreamDefaultWriter=Sr})});var Kd=z(()=>{if(!globalThis.ReadableStream)try{let r=require("process"),{emitWarning:e}=r;try{r.emitWarning=()=>{},Object.assign(globalThis,require("stream/web")),r.emitWarning=e}catch(t){throw r.emitWarning=e,t}}catch{Object.assign(globalThis,Hd())}try{let{Blob:r}=require("buffer");r&&!r.prototype.stream&&(r.prototype.stream=function(t){let s=0,i=this;return new ReadableStream({type:"bytes",async pull(o){let p=await i.slice(s,Math.min(i.size,s+65536)).arrayBuffer();s+=p.byteLength,o.enqueue(new Uint8Array(p)),s===i.size&&o.close()}})})}catch{}});async function*ac(r,e=!0){for(let t of r)if("stream"in t)yield*t.stream();else if(ArrayBuffer.isView(t))if(e){let s=t.byteOffset,i=t.byteOffset+t.byteLength;for(;s!==i;){let o=Math.min(i-s,Zd),u=t.buffer.slice(s,s+o);s+=u.byteLength,yield new Uint8Array(u)}}else yield t;else{let s=0,i=t;for(;s!==i.size;){let u=await i.slice(s,Math.min(i.size,s+Zd)).arrayBuffer();s+=u.byteLength,yield new Uint8Array(u)}}}var MS,Zd,Ar,Ws,Hn,Ca,Kn,Yd,Ry,sr,js=Ue(()=>{MS=tt(Kd(),1);Zd=65536;Yd=(Kn=class{constructor(e=[],t={}){Et(this,Ar,[]);Et(this,Ws,"");Et(this,Hn,0);Et(this,Ca,"transparent");if(typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof e[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof t!="object"&&typeof t!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");t===null&&(t={});let s=new TextEncoder;for(let o of e){let u;ArrayBuffer.isView(o)?u=new Uint8Array(o.buffer.slice(o.byteOffset,o.byteOffset+o.byteLength)):o instanceof ArrayBuffer?u=new Uint8Array(o.slice(0)):o instanceof Kn?u=o:u=s.encode(`${o}`),gt(this,Hn,ke(this,Hn)+(ArrayBuffer.isView(u)?u.byteLength:u.size)),ke(this,Ar).push(u)}gt(this,Ca,`${t.endings===void 0?"transparent":t.endings}`);let i=t.type===void 0?"":String(t.type);gt(this,Ws,/^[\x20-\x7E]*$/.test(i)?i:"")}get size(){return ke(this,Hn)}get type(){return ke(this,Ws)}async text(){let e=new TextDecoder,t="";for await(let s of ac(ke(this,Ar),!1))t+=e.decode(s,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){let e=new Uint8Array(this.size),t=0;for await(let s of ac(ke(this,Ar),!1))e.set(s,t),t+=s.length;return e.buffer}stream(){let e=ac(ke(this,Ar),!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){let s=await e.next();s.done?t.close():t.enqueue(s.value)},async cancel(){await e.return()}})}slice(e=0,t=this.size,s=""){let{size:i}=this,o=e<0?Math.max(i+e,0):Math.min(e,i),u=t<0?Math.max(i+t,0):Math.min(t,i),p=Math.max(u-o,0),g=ke(this,Ar),d=[],h=0;for(let C of g){if(h>=p)break;let O=ArrayBuffer.isView(C)?C.byteLength:C.size;if(o&&O<=o)o-=O,u-=O;else{let E;ArrayBuffer.isView(C)?(E=C.subarray(o,Math.min(O,u)),h+=E.byteLength):(E=C.slice(o,Math.min(O,u)),h+=E.size),u-=O,d.push(E),o=0}}let S=new Kn([],{type:String(s).toLowerCase()});return gt(S,Hn,p),gt(S,Ar,d),S}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&typeof e=="object"&&typeof e.constructor=="function"&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}},Ar=new WeakMap,Ws=new WeakMap,Hn=new WeakMap,Ca=new WeakMap,Kn);Object.defineProperties(Yd.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Ry=Yd,sr=Ry});var zs,Gs,Jd,Iy,Ey,Qr,oc=Ue(()=>{js();Iy=(Jd=class extends sr{constructor(t,s,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(t,i);Et(this,zs,0);Et(this,Gs,"");i===null&&(i={});let o=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(o)||gt(this,zs,o),gt(this,Gs,String(s))}get name(){return ke(this,Gs)}get lastModified(){return ke(this,zs)}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](t){return!!t&&t instanceof sr&&/^(File)$/.test(t[Symbol.toStringTag])}},zs=new WeakMap,Gs=new WeakMap,Jd),Ey=Iy,Qr=Ey});function tg(r,e=sr){var t=`${Qd()}${Qd()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),s=[],i=`--${t}\r
Content-Disposition: form-data; name="`;return r.forEach((o,u)=>typeof o=="string"?s.push(i+lc(u)+`"\r
\r
${o.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):s.push(i+lc(u)+`"; filename="${lc(o.name,1)}"\r
Content-Type: ${o.type||"application/octet-stream"}\r
\r
`,o,`\r
`)),s.push(`--${t}--`),new e(s,{type:"multipart/form-data; boundary="+t})}var $s,Ay,ky,Qd,Ty,Xd,lc,_n,jt,eg,Xr,Ra=Ue(()=>{js();oc();({toStringTag:$s,iterator:Ay,hasInstance:ky}=Symbol),Qd=Math.random,Ty="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Xd=(r,e,t)=>(r+="",/^(Blob|File)$/.test(e&&e[$s])?[(t=t!==void 0?t+"":e[$s]=="File"?e.name:"blob",r),e.name!==t||e[$s]=="blob"?new Qr([e],t,e):e]:[r,e+""]),lc=(r,e)=>(e?r:r.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),_n=(r,e,t)=>{if(e.length<t)throw new TypeError(`Failed to execute '${r}' on 'FormData': ${t} arguments required, but only ${e.length} present.`)},Xr=(eg=class{constructor(...e){Et(this,jt,[]);if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[$s](){return"FormData"}[Ay](){return this.entries()}static[ky](e){return e&&typeof e=="object"&&e[$s]==="FormData"&&!Ty.some(t=>typeof e[t]!="function")}append(...e){_n("append",arguments,2),ke(this,jt).push(Xd(...e))}delete(e){_n("delete",arguments,1),e+="",gt(this,jt,ke(this,jt).filter(([t])=>t!==e))}get(e){_n("get",arguments,1),e+="";for(var t=ke(this,jt),s=t.length,i=0;i<s;i++)if(t[i][0]===e)return t[i][1];return null}getAll(e,t){return _n("getAll",arguments,1),t=[],e+="",ke(this,jt).forEach(s=>s[0]===e&&t.push(s[1])),t}has(e){return _n("has",arguments,1),e+="",ke(this,jt).some(t=>t[0]===e)}forEach(e,t){_n("forEach",arguments,1);for(var[s,i]of this)e.call(t,i,s,this)}set(...e){_n("set",arguments,2);var t=[],s=!0;e=Xd(...e),ke(this,jt).forEach(i=>{i[0]===e[0]?s&&(s=!t.push(e)):t.push(i)}),s&&t.push(e),gt(this,jt,t)}*entries(){yield*ke(this,jt)}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}},jt=new WeakMap,eg)});var kr,Ia=Ue(()=>{kr=class extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}});var ht,cc=Ue(()=>{Ia();ht=class extends kr{constructor(e,t,s){super(e,t),s&&(this.code=this.errno=s.code,this.erroredSysCall=s.syscall)}}});var Ea,uc,Hs,rg,ng,sg,Aa=Ue(()=>{Ea=Symbol.toStringTag,uc=r=>typeof r=="object"&&typeof r.append=="function"&&typeof r.delete=="function"&&typeof r.get=="function"&&typeof r.getAll=="function"&&typeof r.has=="function"&&typeof r.set=="function"&&typeof r.sort=="function"&&r[Ea]==="URLSearchParams",Hs=r=>r&&typeof r=="object"&&typeof r.arrayBuffer=="function"&&typeof r.type=="string"&&typeof r.stream=="function"&&typeof r.constructor=="function"&&/^(Blob|File)$/.test(r[Ea]),rg=r=>typeof r=="object"&&(r[Ea]==="AbortSignal"||r[Ea]==="EventTarget"),ng=(r,e)=>{let t=new URL(e).hostname,s=new URL(r).hostname;return t===s||t.endsWith(`.${s}`)},sg=(r,e)=>{let t=new URL(e).protocol,s=new URL(r).protocol;return t===s}});var ag=z((KS,ig)=>{if(!globalThis.DOMException)try{let{MessageChannel:r}=require("worker_threads"),e=new r().port1,t=new ArrayBuffer;e.postMessage(t,[t,t])}catch(r){r.constructor.name==="DOMException"&&(globalThis.DOMException=r.constructor)}ig.exports=globalThis.DOMException});var yn,og,lg,fc,cg,ug,fg,dg,gg,hg,mn,bn,dc,ka,gc=Ue(()=>{yn=require("fs"),og=require("path"),lg=tt(ag(),1);oc();js();({stat:fc}=yn.promises),cg=(r,e)=>gg((0,yn.statSync)(r),r,e),ug=(r,e)=>fc(r).then(t=>gg(t,r,e)),fg=(r,e)=>fc(r).then(t=>hg(t,r,e)),dg=(r,e)=>hg((0,yn.statSync)(r),r,e),gg=(r,e,t="")=>new sr([new ka({path:e,size:r.size,lastModified:r.mtimeMs,start:0})],{type:t}),hg=(r,e,t="")=>new Qr([new ka({path:e,size:r.size,lastModified:r.mtimeMs,start:0})],(0,og.basename)(e),{type:t,lastModified:r.mtimeMs}),dc=class dc{constructor(e){Et(this,mn,void 0);Et(this,bn,void 0);gt(this,mn,e.path),gt(this,bn,e.start),this.size=e.size,this.lastModified=e.lastModified}slice(e,t){return new dc({path:ke(this,mn),lastModified:this.lastModified,size:t-e,start:ke(this,bn)+e})}async*stream(){let{mtimeMs:e}=await fc(ke(this,mn));if(e>this.lastModified)throw new lg.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,yn.createReadStream)(ke(this,mn),{start:ke(this,bn),end:ke(this,bn)+this.size-1})}get[Symbol.toStringTag](){return"Blob"}};mn=new WeakMap,bn=new WeakMap;ka=dc});var _g={};Hr(_g,{toFormData:()=>Vy});function Oy(r){let e=r.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!e)return;let t=e[2]||e[3]||"",s=t.slice(t.lastIndexOf("\\")+1);return s=s.replace(/%22/g,'"'),s=s.replace(/&#(\d{4});/g,(i,o)=>String.fromCharCode(o)),s}async function Vy(r,e){if(!/multipart/i.test(e))throw new TypeError("Failed to fetch");let t=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!t)throw new TypeError("no or bad content-type header, no multipart boundary");let s=new hc(t[1]||t[2]),i,o,u,p,g,d,h=[],S=new Xr,C=N=>{u+=U.decode(N,{stream:!0})},O=N=>{h.push(N)},E=()=>{let N=new Qr(h,d,{type:g});S.append(p,N)},q=()=>{S.append(p,u)},U=new TextDecoder("utf-8");U.decode(),s.onPartBegin=function(){s.onPartData=C,s.onPartEnd=q,i="",o="",u="",p="",g="",d=null,h.length=0},s.onHeaderField=function(N){i+=U.decode(N,{stream:!0})},s.onHeaderValue=function(N){o+=U.decode(N,{stream:!0})},s.onHeaderEnd=function(){if(o+=U.decode(),i=i.toLowerCase(),i==="content-disposition"){let N=o.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);N&&(p=N[2]||N[3]||""),d=Oy(o),d&&(s.onPartData=O,s.onPartEnd=E)}else i==="content-type"&&(g=o);o="",i=""};for await(let N of r)s.write(N);return s.end(),S}var dr,Me,pg,en,Ta,xa,xy,Ks,My,By,Dy,Uy,wn,hc,mg=Ue(()=>{gc();Ra();dr=0,Me={START_BOUNDARY:dr++,HEADER_FIELD_START:dr++,HEADER_FIELD:dr++,HEADER_VALUE_START:dr++,HEADER_VALUE:dr++,HEADER_VALUE_ALMOST_DONE:dr++,HEADERS_ALMOST_DONE:dr++,PART_DATA_START:dr++,PART_DATA:dr++,END:dr++},pg=1,en={PART_BOUNDARY:pg,LAST_BOUNDARY:pg*=2},Ta=10,xa=13,xy=32,Ks=45,My=58,By=97,Dy=122,Uy=r=>r|32,wn=()=>{},hc=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=wn,this.onHeaderField=wn,this.onHeadersEnd=wn,this.onHeaderValue=wn,this.onPartBegin=wn,this.onPartData=wn,this.onPartEnd=wn,this.boundaryChars={},e=`\r
--`+e;let t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s),this.boundaryChars[t[s]]=!0;this.boundary=t,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=Me.START_BOUNDARY}write(e){let t=0,s=e.length,i=this.index,{lookbehind:o,boundary:u,boundaryChars:p,index:g,state:d,flags:h}=this,S=this.boundary.length,C=S-1,O=e.length,E,q,U=Z=>{this[Z+"Mark"]=t},N=Z=>{delete this[Z+"Mark"]},H=(Z,ne,se,Ie)=>{(ne===void 0||ne!==se)&&this[Z](Ie&&Ie.subarray(ne,se))},te=(Z,ne)=>{let se=Z+"Mark";se in this&&(ne?(H(Z,this[se],t,e),delete this[se]):(H(Z,this[se],e.length,e),this[se]=0))};for(t=0;t<s;t++)switch(E=e[t],d){case Me.START_BOUNDARY:if(g===u.length-2){if(E===Ks)h|=en.LAST_BOUNDARY;else if(E!==xa)return;g++;break}else if(g-1===u.length-2){if(h&en.LAST_BOUNDARY&&E===Ks)d=Me.END,h=0;else if(!(h&en.LAST_BOUNDARY)&&E===Ta)g=0,H("onPartBegin"),d=Me.HEADER_FIELD_START;else return;break}E!==u[g+2]&&(g=-2),E===u[g+2]&&g++;break;case Me.HEADER_FIELD_START:d=Me.HEADER_FIELD,U("onHeaderField"),g=0;case Me.HEADER_FIELD:if(E===xa){N("onHeaderField"),d=Me.HEADERS_ALMOST_DONE;break}if(g++,E===Ks)break;if(E===My){if(g===1)return;te("onHeaderField",!0),d=Me.HEADER_VALUE_START;break}if(q=Uy(E),q<By||q>Dy)return;break;case Me.HEADER_VALUE_START:if(E===xy)break;U("onHeaderValue"),d=Me.HEADER_VALUE;case Me.HEADER_VALUE:E===xa&&(te("onHeaderValue",!0),H("onHeaderEnd"),d=Me.HEADER_VALUE_ALMOST_DONE);break;case Me.HEADER_VALUE_ALMOST_DONE:if(E!==Ta)return;d=Me.HEADER_FIELD_START;break;case Me.HEADERS_ALMOST_DONE:if(E!==Ta)return;H("onHeadersEnd"),d=Me.PART_DATA_START;break;case Me.PART_DATA_START:d=Me.PART_DATA,U("onPartData");case Me.PART_DATA:if(i=g,g===0){for(t+=C;t<O&&!(e[t]in p);)t+=S;t-=C,E=e[t]}if(g<u.length)u[g]===E?(g===0&&te("onPartData",!0),g++):g=0;else if(g===u.length)g++,E===xa?h|=en.PART_BOUNDARY:E===Ks?h|=en.LAST_BOUNDARY:g=0;else if(g-1===u.length)if(h&en.PART_BOUNDARY){if(g=0,E===Ta){h&=~en.PART_BOUNDARY,H("onPartEnd"),H("onPartBegin"),d=Me.HEADER_FIELD_START;break}}else h&en.LAST_BOUNDARY&&E===Ks?(H("onPartEnd"),d=Me.END,h=0):g=0;if(g>0)o[g-1]=E;else if(i>0){let Z=new Uint8Array(o.buffer,o.byteOffset,o.byteLength);H("onPartData",0,i,Z),i=0,U("onPartData"),t--}break;case Me.END:break;default:throw new Error(`Unexpected state entered: ${d}`)}te("onHeaderField"),te("onHeaderValue"),te("onPartData"),this.index=g,this.state=d,this.flags=h}end(){if(this.state===Me.HEADER_FIELD_START&&this.index===0||this.state===Me.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==Me.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});async function pc(r){if(r[St].disturbed)throw new TypeError(`body used already for: ${r.url}`);if(r[St].disturbed=!0,r[St].error)throw r[St].error;let{body:e}=r;if(e===null)return Tt.Buffer.alloc(0);if(!(e instanceof zt.default))return Tt.Buffer.alloc(0);let t=[],s=0;try{for await(let i of e){if(r.size>0&&s+i.length>r.size){let o=new ht(`content size at ${r.url} over limit: ${r.size}`,"max-size");throw e.destroy(o),o}s+=i.length,t.push(i)}}catch(i){throw i instanceof kr?i:new ht(`Invalid response body while trying to fetch ${r.url}: ${i.message}`,"system",i)}if(e.readableEnded===!0||e._readableState.ended===!0)try{return t.every(i=>typeof i=="string")?Tt.Buffer.from(t.join("")):Tt.Buffer.concat(t,s)}catch(i){throw new ht(`Could not create Buffer from response body for ${r.url}: ${i.message}`,"system",i)}else throw new ht(`Premature close of server response while trying to fetch ${r.url}`)}var zt,Tr,Tt,qy,St,gr,Zn,Fy,Ma,bg,yg,Ba=Ue(()=>{zt=tt(require("stream"),1),Tr=require("util"),Tt=require("buffer");js();Ra();cc();Ia();Aa();qy=(0,Tr.promisify)(zt.default.pipeline),St=Symbol("Body internals"),gr=class{constructor(e,{size:t=0}={}){let s=null;e===null?e=null:uc(e)?e=Tt.Buffer.from(e.toString()):Hs(e)||Tt.Buffer.isBuffer(e)||(Tr.types.isAnyArrayBuffer(e)?e=Tt.Buffer.from(e):ArrayBuffer.isView(e)?e=Tt.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof zt.default||(e instanceof Xr?(e=tg(e),s=e.type.split("=")[1]):e=Tt.Buffer.from(String(e))));let i=e;Tt.Buffer.isBuffer(e)?i=zt.default.Readable.from(e):Hs(e)&&(i=zt.default.Readable.from(e.stream())),this[St]={body:e,stream:i,boundary:s,disturbed:!1,error:null},this.size=t,e instanceof zt.default&&e.on("error",o=>{let u=o instanceof kr?o:new ht(`Invalid response body while trying to fetch ${this.url}: ${o.message}`,"system",o);this[St].error=u})}get body(){return this[St].stream}get bodyUsed(){return this[St].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:t,byteLength:s}=await pc(this);return e.slice(t,t+s)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let s=new Xr,i=new URLSearchParams(await this.text());for(let[o,u]of i)s.append(o,u);return s}let{toFormData:t}=await Promise.resolve().then(()=>(mg(),_g));return t(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[St].body&&this[St].body.type||"",t=await this.arrayBuffer();return new sr([t],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await pc(this);return new TextDecoder().decode(e)}buffer(){return pc(this)}};gr.prototype.buffer=(0,Tr.deprecate)(gr.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(gr.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Tr.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});Zn=(r,e)=>{let t,s,{body:i}=r[St];if(r.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof zt.default&&typeof i.getBoundary!="function"&&(t=new zt.PassThrough({highWaterMark:e}),s=new zt.PassThrough({highWaterMark:e}),i.pipe(t),i.pipe(s),r[St].stream=t,i=s),i},Fy=(0,Tr.deprecate)(r=>r.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Ma=(r,e)=>r===null?null:typeof r=="string"?"text/plain;charset=UTF-8":uc(r)?"application/x-www-form-urlencoded;charset=UTF-8":Hs(r)?r.type||null:Tt.Buffer.isBuffer(r)||Tr.types.isAnyArrayBuffer(r)||ArrayBuffer.isView(r)?null:r instanceof Xr?`multipart/form-data; boundary=${e[St].boundary}`:r&&typeof r.getBoundary=="function"?`multipart/form-data;boundary=${Fy(r)}`:r instanceof zt.default?null:"text/plain;charset=UTF-8",bg=r=>{let{body:e}=r[St];return e===null?0:Hs(e)?e.size:Tt.Buffer.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null},yg=async(r,{body:e})=>{e===null?r.end():await qy(e,r)}});function wg(r=[]){return new vt(r.reduce((e,t,s,i)=>(s%2===0&&e.push(i.slice(s,s+2)),e),[]).filter(([e,t])=>{try{return Da(e),mc(e,String(t)),!0}catch{return!1}}))}var _c,Zs,Da,mc,vt,Ua=Ue(()=>{_c=require("util"),Zs=tt(require("http"),1),Da=typeof Zs.default.validateHeaderName=="function"?Zs.default.validateHeaderName:r=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(r)){let e=new TypeError(`Header name must be a valid HTTP token [${r}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},mc=typeof Zs.default.validateHeaderValue=="function"?Zs.default.validateHeaderValue:(r,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){let t=new TypeError(`Invalid character in header content ["${r}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}},vt=class r extends URLSearchParams{constructor(e){let t=[];if(e instanceof r){let s=e.raw();for(let[i,o]of Object.entries(s))t.push(...o.map(u=>[i,u]))}else if(e!=null)if(typeof e=="object"&&!_c.types.isBoxedPrimitive(e)){let s=e[Symbol.iterator];if(s==null)t.push(...Object.entries(e));else{if(typeof s!="function")throw new TypeError("Header pairs must be iterable");t=[...e].map(i=>{if(typeof i!="object"||_c.types.isBoxedPrimitive(i))throw new TypeError("Each header pair must be an iterable object");return[...i]}).map(i=>{if(i.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...i]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return t=t.length>0?t.map(([s,i])=>(Da(s),mc(s,String(i)),[String(s).toLowerCase(),String(i)])):void 0,super(t),new Proxy(this,{get(s,i,o){switch(i){case"append":case"set":return(u,p)=>(Da(u),mc(u,String(p)),URLSearchParams.prototype[i].call(s,String(u).toLowerCase(),String(p)));case"delete":case"has":case"getAll":return u=>(Da(u),URLSearchParams.prototype[i].call(s,String(u).toLowerCase()));case"keys":return()=>(s.sort(),new Set(URLSearchParams.prototype.keys.call(s)).keys());default:return Reflect.get(s,i,o)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let t=this.getAll(e);if(t.length===0)return null;let s=t.join(", ");return/^content-encoding$/i.test(e)&&(s=s.toLowerCase()),s}forEach(e,t=void 0){for(let s of this.keys())Reflect.apply(e,t,[this.get(s),s,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,t)=>(e[t]=this.getAll(t),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,t)=>{let s=this.getAll(t);return t==="host"?e[t]=s[0]:e[t]=s.length>1?s:s[0],e},{})}};Object.defineProperties(vt.prototype,["get","entries","forEach","values"].reduce((r,e)=>(r[e]={enumerable:!0},r),{}))});var Ly,Ys,bc=Ue(()=>{Ly=new Set([301,302,303,307,308]),Ys=r=>Ly.has(r)});var ir,xt,Sg=Ue(()=>{Ua();Ba();bc();ir=Symbol("Response internals"),xt=class r extends gr{constructor(e=null,t={}){super(e,t);let s=t.status!=null?t.status:200,i=new vt(t.headers);if(e!==null&&!i.has("Content-Type")){let o=Ma(e,this);o&&i.append("Content-Type",o)}this[ir]={type:"default",url:t.url,status:s,statusText:t.statusText||"",headers:i,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[ir].type}get url(){return this[ir].url||""}get status(){return this[ir].status}get ok(){return this[ir].status>=200&&this[ir].status<300}get redirected(){return this[ir].counter>0}get statusText(){return this[ir].statusText}get headers(){return this[ir].headers}get highWaterMark(){return this[ir].highWaterMark}clone(){return new r(Zn(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!Ys(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new r(null,{headers:{location:new URL(e).toString()},status:t})}static error(){let e=new r(null,{status:0,statusText:""});return e[ir].type="error",e}static json(e=void 0,t={}){let s=JSON.stringify(e);if(s===void 0)throw new TypeError("data is not JSON serializable");let i=new vt(t&&t.headers);return i.has("content-type")||i.set("content-type","application/json"),new r(s,{...t,headers:i})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(xt.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}})});var vg,Pg=Ue(()=>{vg=r=>{if(r.search)return r.search;let e=r.href.length-1,t=r.hash||(r.href[e]==="#"?"#":"");return r.href[e-t.length]==="?"?"?":""}});function Cg(r,e=!1){return r==null||(r=new URL(r),/^(about|blob|data):$/.test(r.protocol))?"no-referrer":(r.username="",r.password="",r.hash="",e&&(r.pathname="",r.search=""),r)}function Ag(r){if(!Ig.has(r))throw new TypeError(`Invalid referrerPolicy: ${r}`);return r}function Ny(r){if(/^(http|ws)s:$/.test(r.protocol))return!0;let e=r.host.replace(/(^\[)|(]$)/g,""),t=(0,Rg.isIP)(e);return t===4&&/^127\./.test(e)||t===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e)?!0:r.host==="localhost"||r.host.endsWith(".localhost")?!1:r.protocol==="file:"}function Yn(r){return/^about:(blank|srcdoc)$/.test(r)||r.protocol==="data:"||/^(blob|filesystem):$/.test(r.protocol)?!0:Ny(r)}function kg(r,{referrerURLCallback:e,referrerOriginCallback:t}={}){if(r.referrer==="no-referrer"||r.referrerPolicy==="")return null;let s=r.referrerPolicy;if(r.referrer==="about:client")return"no-referrer";let i=r.referrer,o=Cg(i),u=Cg(i,!0);o.toString().length>4096&&(o=u),e&&(o=e(o)),t&&(u=t(u));let p=new URL(r.url);switch(s){case"no-referrer":return"no-referrer";case"origin":return u;case"unsafe-url":return o;case"strict-origin":return Yn(o)&&!Yn(p)?"no-referrer":u.toString();case"strict-origin-when-cross-origin":return o.origin===p.origin?o:Yn(o)&&!Yn(p)?"no-referrer":u;case"same-origin":return o.origin===p.origin?o:"no-referrer";case"origin-when-cross-origin":return o.origin===p.origin?o:u;case"no-referrer-when-downgrade":return Yn(o)&&!Yn(p)?"no-referrer":o;default:throw new TypeError(`Invalid referrerPolicy: ${s}`)}}function Tg(r){let e=(r.get("referrer-policy")||"").split(/[,\s]+/),t="";for(let s of e)s&&Ig.has(s)&&(t=s);return t}var Rg,Ig,Eg,yc=Ue(()=>{Rg=require("net");Ig=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Eg="strict-origin-when-cross-origin"});var xg,Mg,Ye,Js,Wy,tn,Bg,Dg=Ue(()=>{xg=require("url"),Mg=require("util");Ua();Ba();Aa();Pg();yc();Ye=Symbol("Request internals"),Js=r=>typeof r=="object"&&typeof r[Ye]=="object",Wy=(0,Mg.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),tn=class r extends gr{constructor(e,t={}){let s;if(Js(e)?s=new URL(e.url):(s=new URL(e),e={}),s.username!==""||s.password!=="")throw new TypeError(`${s} is an url with embedded credentials.`);let i=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(i)&&(i=i.toUpperCase()),!Js(t)&&"data"in t&&Wy(),(t.body!=null||Js(e)&&e.body!==null)&&(i==="GET"||i==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let o=t.body?t.body:Js(e)&&e.body!==null?Zn(e):null;super(o,{size:t.size||e.size||0});let u=new vt(t.headers||e.headers||{});if(o!==null&&!u.has("Content-Type")){let d=Ma(o,this);d&&u.set("Content-Type",d)}let p=Js(e)?e.signal:null;if("signal"in t&&(p=t.signal),p!=null&&!rg(p))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let g=t.referrer==null?e.referrer:t.referrer;if(g==="")g="no-referrer";else if(g){let d=new URL(g);g=/^about:(\/\/)?client$/.test(d)?"client":d}else g=void 0;this[Ye]={method:i,redirect:t.redirect||e.redirect||"follow",headers:u,parsedURL:s,signal:p,referrer:g},this.follow=t.follow===void 0?e.follow===void 0?20:e.follow:t.follow,this.compress=t.compress===void 0?e.compress===void 0?!0:e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[Ye].method}get url(){return(0,xg.format)(this[Ye].parsedURL)}get headers(){return this[Ye].headers}get redirect(){return this[Ye].redirect}get signal(){return this[Ye].signal}get referrer(){if(this[Ye].referrer==="no-referrer")return"";if(this[Ye].referrer==="client")return"about:client";if(this[Ye].referrer)return this[Ye].referrer.toString()}get referrerPolicy(){return this[Ye].referrerPolicy}set referrerPolicy(e){this[Ye].referrerPolicy=Ag(e)}clone(){return new r(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(tn.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});Bg=r=>{let{parsedURL:e}=r[Ye],t=new vt(r[Ye].headers);t.has("Accept")||t.set("Accept","*/*");let s=null;if(r.body===null&&/^(post|put)$/i.test(r.method)&&(s="0"),r.body!==null){let p=bg(r);typeof p=="number"&&!Number.isNaN(p)&&(s=String(p))}s&&t.set("Content-Length",s),r.referrerPolicy===""&&(r.referrerPolicy=Eg),r.referrer&&r.referrer!=="no-referrer"?r[Ye].referrer=kg(r):r[Ye].referrer="no-referrer",r[Ye].referrer instanceof URL&&t.set("Referer",r.referrer),t.has("User-Agent")||t.set("User-Agent","node-fetch"),r.compress&&!t.has("Accept-Encoding")&&t.set("Accept-Encoding","gzip, deflate, br");let{agent:i}=r;typeof i=="function"&&(i=i(e));let o=vg(e),u={path:e.pathname+o,method:r.method,headers:t[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:r.insecureHTTPParser,agent:i};return{parsedURL:e,options:u}}});var Qs,Ug=Ue(()=>{Ia();Qs=class extends kr{constructor(e,t="aborted"){super(e,t)}}});var qg={};Hr(qg,{AbortError:()=>Qs,Blob:()=>sr,FetchError:()=>ht,File:()=>Qr,FormData:()=>Xr,Headers:()=>vt,Request:()=>tn,Response:()=>xt,blobFrom:()=>ug,blobFromSync:()=>cg,default:()=>wc,fileFrom:()=>fg,fileFromSync:()=>dg,isRedirect:()=>Ys});async function wc(r,e){return new Promise((t,s)=>{let i=new tn(r,e),{parsedURL:o,options:u}=Bg(i);if(!jy.has(o.protocol))throw new TypeError(`node-fetch cannot load ${r}. URL scheme "${o.protocol.replace(/:$/,"")}" is not supported.`);if(o.protocol==="data:"){let E=zd(i.url),q=new xt(E,{headers:{"Content-Type":E.typeFull}});t(q);return}let p=(o.protocol==="https:"?Vg.default:Og.default).request,{signal:g}=i,d=null,h=()=>{let E=new Qs("The operation was aborted.");s(E),i.body&&i.body instanceof Mt.default.Readable&&i.body.destroy(E),!(!d||!d.body)&&d.body.emit("error",E)};if(g&&g.aborted){h();return}let S=()=>{h(),O()},C=p(o.toString(),u);g&&g.addEventListener("abort",S);let O=()=>{C.abort(),g&&g.removeEventListener("abort",S)};C.on("error",E=>{s(new ht(`request to ${i.url} failed, reason: ${E.message}`,"system",E)),O()}),zy(C,E=>{d&&d.body&&d.body.destroy(E)}),process.version<"v14"&&C.on("socket",E=>{let q;E.prependListener("end",()=>{q=E._eventsCount}),E.prependListener("close",U=>{if(d&&q<E._eventsCount&&!U){let N=new Error("Premature close");N.code="ERR_STREAM_PREMATURE_CLOSE",d.body.emit("error",N)}})}),C.on("response",E=>{C.setTimeout(0);let q=wg(E.rawHeaders);if(Ys(E.statusCode)){let Z=q.get("Location"),ne=null;try{ne=Z===null?null:new URL(Z,i.url)}catch{if(i.redirect!=="manual"){s(new ht(`uri requested responds with an invalid redirect URL: ${Z}`,"invalid-redirect")),O();return}}switch(i.redirect){case"error":s(new ht(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),O();return;case"manual":break;case"follow":{if(ne===null)break;if(i.counter>=i.follow){s(new ht(`maximum redirect reached at: ${i.url}`,"max-redirect")),O();return}let se={headers:new vt(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:Zn(i),signal:i.signal,size:i.size,referrer:i.referrer,referrerPolicy:i.referrerPolicy};if(!ng(i.url,ne)||!sg(i.url,ne))for(let Ve of["authorization","www-authenticate","cookie","cookie2"])se.headers.delete(Ve);if(E.statusCode!==303&&i.body&&e.body instanceof Mt.default.Readable){s(new ht("Cannot follow redirect with body being a readable stream","unsupported-redirect")),O();return}(E.statusCode===303||(E.statusCode===301||E.statusCode===302)&&i.method==="POST")&&(se.method="GET",se.body=void 0,se.headers.delete("content-length"));let Ie=Tg(q);Ie&&(se.referrerPolicy=Ie),t(wc(new tn(ne,se))),O();return}default:return s(new TypeError(`Redirect option '${i.redirect}' is not a valid value of RequestRedirect`))}}g&&E.once("end",()=>{g.removeEventListener("abort",S)});let U=(0,Mt.pipeline)(E,new Mt.PassThrough,Z=>{Z&&s(Z)});process.version<"v12.10"&&E.on("aborted",S);let N={url:i.url,status:E.statusCode,statusText:E.statusMessage,headers:q,size:i.size,counter:i.counter,highWaterMark:i.highWaterMark},H=q.get("Content-Encoding");if(!i.compress||i.method==="HEAD"||H===null||E.statusCode===204||E.statusCode===304){d=new xt(U,N),t(d);return}let te={flush:Sn.default.Z_SYNC_FLUSH,finishFlush:Sn.default.Z_SYNC_FLUSH};if(H==="gzip"||H==="x-gzip"){U=(0,Mt.pipeline)(U,Sn.default.createGunzip(te),Z=>{Z&&s(Z)}),d=new xt(U,N),t(d);return}if(H==="deflate"||H==="x-deflate"){let Z=(0,Mt.pipeline)(E,new Mt.PassThrough,ne=>{ne&&s(ne)});Z.once("data",ne=>{(ne[0]&15)===8?U=(0,Mt.pipeline)(U,Sn.default.createInflate(),se=>{se&&s(se)}):U=(0,Mt.pipeline)(U,Sn.default.createInflateRaw(),se=>{se&&s(se)}),d=new xt(U,N),t(d)}),Z.once("end",()=>{d||(d=new xt(U,N),t(d))});return}if(H==="br"){U=(0,Mt.pipeline)(U,Sn.default.createBrotliDecompress(),Z=>{Z&&s(Z)}),d=new xt(U,N),t(d);return}d=new xt(U,N),t(d)}),yg(C,i).catch(s)})}function zy(r,e){let t=Xs.Buffer.from(`0\r
\r
`),s=!1,i=!1,o;r.on("response",u=>{let{headers:p}=u;s=p["transfer-encoding"]==="chunked"&&!p["content-length"]}),r.on("socket",u=>{let p=()=>{if(s&&!i){let d=new Error("Premature close");d.code="ERR_STREAM_PREMATURE_CLOSE",e(d)}},g=d=>{i=Xs.Buffer.compare(d.slice(-5),t)===0,!i&&o&&(i=Xs.Buffer.compare(o.slice(-3),t.slice(0,3))===0&&Xs.Buffer.compare(d.slice(-2),t.slice(3))===0),o=d};u.prependListener("close",p),u.on("data",g),r.on("close",()=>{u.removeListener("close",p),u.removeListener("data",g)})})}var Og,Vg,Sn,Mt,Xs,jy,Fg=Ue(()=>{Og=tt(require("http"),1),Vg=tt(require("https"),1),Sn=tt(require("zlib"),1),Mt=tt(require("stream"),1),Xs=require("buffer");Gd();Ba();Sg();Ua();Dg();cc();Ug();bc();Ra();Aa();yc();gc();jy=new Set(["data:","http:","https:"])});var Ng=z((Uv,Lg)=>{var Jn=1e3,Qn=Jn*60,Xn=Qn*60,vn=Xn*24,Gy=vn*7,$y=vn*365.25;Lg.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return Hy(r);if(t==="number"&&isFinite(r))return e.long?Zy(r):Ky(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function Hy(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),s=(e[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return t*$y;case"weeks":case"week":case"w":return t*Gy;case"days":case"day":case"d":return t*vn;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Xn;case"minutes":case"minute":case"mins":case"min":case"m":return t*Qn;case"seconds":case"second":case"secs":case"sec":case"s":return t*Jn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Ky(r){var e=Math.abs(r);return e>=vn?Math.round(r/vn)+"d":e>=Xn?Math.round(r/Xn)+"h":e>=Qn?Math.round(r/Qn)+"m":e>=Jn?Math.round(r/Jn)+"s":r+"ms"}function Zy(r){var e=Math.abs(r);return e>=vn?Oa(r,e,vn,"day"):e>=Xn?Oa(r,e,Xn,"hour"):e>=Qn?Oa(r,e,Qn,"minute"):e>=Jn?Oa(r,e,Jn,"second"):r+" ms"}function Oa(r,e,t,s){var i=e>=t*1.5;return Math.round(r/t)+" "+s+(i?"s":"")}});var Sc=z((Ov,Wg)=>{function Yy(r){t.debug=t,t.default=t,t.coerce=g,t.disable=o,t.enable=i,t.enabled=u,t.humanize=Ng(),t.destroy=d,Object.keys(r).forEach(h=>{t[h]=r[h]}),t.names=[],t.skips=[],t.formatters={};function e(h){let S=0;for(let C=0;C<h.length;C++)S=(S<<5)-S+h.charCodeAt(C),S|=0;return t.colors[Math.abs(S)%t.colors.length]}t.selectColor=e;function t(h){let S,C=null,O,E;function q(...U){if(!q.enabled)return;let N=q,H=Number(new Date),te=H-(S||H);N.diff=te,N.prev=S,N.curr=H,S=H,U[0]=t.coerce(U[0]),typeof U[0]!="string"&&U.unshift("%O");let Z=0;U[0]=U[0].replace(/%([a-zA-Z%])/g,(se,Ie)=>{if(se==="%%")return"%";Z++;let Ve=t.formatters[Ie];if(typeof Ve=="function"){let Be=U[Z];se=Ve.call(N,Be),U.splice(Z,1),Z--}return se}),t.formatArgs.call(N,U),(N.log||t.log).apply(N,U)}return q.namespace=h,q.useColors=t.useColors(),q.color=t.selectColor(h),q.extend=s,q.destroy=t.destroy,Object.defineProperty(q,"enabled",{enumerable:!0,configurable:!1,get:()=>C!==null?C:(O!==t.namespaces&&(O=t.namespaces,E=t.enabled(h)),E),set:U=>{C=U}}),typeof t.init=="function"&&t.init(q),q}function s(h,S){let C=t(this.namespace+(typeof S>"u"?":":S)+h);return C.log=this.log,C}function i(h){t.save(h),t.namespaces=h,t.names=[],t.skips=[];let S,C=(typeof h=="string"?h:"").split(/[\s,]+/),O=C.length;for(S=0;S<O;S++)C[S]&&(h=C[S].replace(/\*/g,".*?"),h[0]==="-"?t.skips.push(new RegExp("^"+h.slice(1)+"$")):t.names.push(new RegExp("^"+h+"$")))}function o(){let h=[...t.names.map(p),...t.skips.map(p).map(S=>"-"+S)].join(",");return t.enable(""),h}function u(h){if(h[h.length-1]==="*")return!0;let S,C;for(S=0,C=t.skips.length;S<C;S++)if(t.skips[S].test(h))return!1;for(S=0,C=t.names.length;S<C;S++)if(t.names[S].test(h))return!0;return!1}function p(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function g(h){return h instanceof Error?h.stack||h.message:h}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Wg.exports=Yy});var jg=z((Bt,Va)=>{Bt.formatArgs=Qy;Bt.save=Xy;Bt.load=e0;Bt.useColors=Jy;Bt.storage=t0();Bt.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Bt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Jy(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Qy(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Va.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,s=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(s=t))}),r.splice(s,0,e)}Bt.log=console.debug||console.log||(()=>{});function Xy(r){try{r?Bt.storage.setItem("debug",r):Bt.storage.removeItem("debug")}catch{}}function e0(){let r;try{r=Bt.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function t0(){try{return localStorage}catch{}}Va.exports=Sc()(Bt);var{formatters:r0}=Va.exports;r0.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Gg=z((nt,Fa)=>{var n0=require("tty"),qa=require("util");nt.init=u0;nt.log=o0;nt.formatArgs=i0;nt.save=l0;nt.load=c0;nt.useColors=s0;nt.destroy=qa.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");nt.colors=[6,2,3,4,5,1];try{let r=require("supports-color");r&&(r.stderr||r).level>=2&&(nt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}nt.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),s=process.env[e];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),r[t]=s,r},{});function s0(){return"colors"in nt.inspectOpts?!!nt.inspectOpts.colors:n0.isatty(process.stderr.fd)}function i0(r){let{namespace:e,useColors:t}=this;if(t){let s=this.color,i="\x1B[3"+(s<8?s:"8;5;"+s),o=`  ${i};1m${e} \x1B[0m`;r[0]=o+r[0].split(`
`).join(`
`+o),r.push(i+"m+"+Fa.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=a0()+e+" "+r[0]}function a0(){return nt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function o0(...r){return process.stderr.write(qa.format(...r)+`
`)}function l0(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function c0(){return process.env.DEBUG}function u0(r){r.inspectOpts={};let e=Object.keys(nt.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=nt.inspectOpts[e[t]]}Fa.exports=Sc()(nt);var{formatters:zg}=Fa.exports;zg.o=function(r){return this.inspectOpts.colors=this.useColors,qa.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};zg.O=function(r){return this.inspectOpts.colors=this.useColors,qa.inspect(r,this.inspectOpts)}});var Pc=z((Vv,vc)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?vc.exports=jg():vc.exports=Gg()});var Kg=z(Pt=>{"use strict";var f0=Pt&&Pt.__createBinding||(Object.create?function(r,e,t,s){s===void 0&&(s=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,s,i)}:function(r,e,t,s){s===void 0&&(s=t),r[s]=e[t]}),d0=Pt&&Pt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$g=Pt&&Pt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&f0(e,r,t);return d0(e,r),e};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.req=Pt.json=Pt.toBuffer=void 0;var g0=$g(require("http")),h0=$g(require("https"));async function Hg(r){let e=0,t=[];for await(let s of r)e+=s.length,t.push(s);return Buffer.concat(t,e)}Pt.toBuffer=Hg;async function p0(r){let t=(await Hg(r)).toString("utf8");try{return JSON.parse(t)}catch(s){let i=s;throw i.message+=` (input: ${t})`,i}}Pt.json=p0;function _0(r,e={}){let s=((typeof r=="string"?r:r.href).startsWith("https:")?h0:g0).request(r,e),i=new Promise((o,u)=>{s.once("response",o).once("error",u).end()});return s.then=i.then.bind(i),s}Pt.req=_0});var Jg=z(Dt=>{"use strict";var Yg=Dt&&Dt.__createBinding||(Object.create?function(r,e,t,s){s===void 0&&(s=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,s,i)}:function(r,e,t,s){s===void 0&&(s=t),r[s]=e[t]}),m0=Dt&&Dt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),b0=Dt&&Dt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Yg(e,r,t);return m0(e,r),e},y0=Dt&&Dt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Yg(e,r,t)};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.Agent=void 0;var Zg=b0(require("http"));y0(Kg(),Dt);var hr=Symbol("AgentBaseInternalState"),Cc=class extends Zg.Agent{constructor(e){super(e),this[hr]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(s=>s.indexOf("(https.js:")!==-1||s.indexOf("node:https:")!==-1)}createSocket(e,t,s){let i={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then(()=>this.connect(e,i)).then(o=>{if(o instanceof Zg.Agent)return o.addRequest(e,i);this[hr].currentSocket=o,super.createSocket(e,t,s)},s)}createConnection(){let e=this[hr].currentSocket;if(this[hr].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[hr].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[hr]&&(this[hr].defaultPort=e)}get protocol(){return this[hr].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[hr]&&(this[hr].protocol=e)}};Dt.Agent=Cc});var Qg=z(es=>{"use strict";var w0=es&&es.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(es,"__esModule",{value:!0});es.parseProxyResponse=void 0;var S0=w0(Pc()),La=(0,S0.default)("https-proxy-agent:parse-proxy-response");function v0(r){return new Promise((e,t)=>{let s=0,i=[];function o(){let h=r.read();h?d(h):r.once("readable",o)}function u(){r.removeListener("end",p),r.removeListener("error",g),r.removeListener("readable",o)}function p(){u(),La("onend"),t(new Error("Proxy connection ended before receiving CONNECT response"))}function g(h){u(),La("onerror %o",h),t(h)}function d(h){i.push(h),s+=h.length;let S=Buffer.concat(i,s),C=S.indexOf(`\r
\r
`);if(C===-1){La("have not received end of HTTP headers yet..."),o();return}let O=S.slice(0,C).toString("ascii").split(`\r
`),E=O.shift();if(!E)return r.destroy(),t(new Error("No header received from proxy CONNECT response"));let q=E.split(" "),U=+q[1],N=q.slice(2).join(" "),H={};for(let te of O){if(!te)continue;let Z=te.indexOf(":");if(Z===-1)return r.destroy(),t(new Error(`Invalid header from proxy CONNECT response: "${te}"`));let ne=te.slice(0,Z).toLowerCase(),se=te.slice(Z+1).trimStart(),Ie=H[ne];typeof Ie=="string"?H[ne]=[Ie,se]:Array.isArray(Ie)?Ie.push(se):H[ne]=se}La("got proxy server response: %o %o",E,H),u(),e({connect:{statusCode:U,statusText:N,headers:H},buffered:S})}r.on("error",g),r.on("end",p),o()})}es.parseProxyResponse=v0});var nh=z(Gt=>{"use strict";var P0=Gt&&Gt.__createBinding||(Object.create?function(r,e,t,s){s===void 0&&(s=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,s,i)}:function(r,e,t,s){s===void 0&&(s=t),r[s]=e[t]}),C0=Gt&&Gt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),th=Gt&&Gt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&P0(e,r,t);return C0(e,r),e},rh=Gt&&Gt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.HttpsProxyAgent=void 0;var ei=th(require("net")),Xg=th(require("tls")),R0=rh(require("assert")),I0=rh(Pc()),E0=Jg(),A0=require("url"),k0=Qg(),ti=(0,I0.default)("https-proxy-agent"),Na=class extends E0.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy=typeof e=="string"?new A0.URL(e):e,this.proxyHeaders=(t==null?void 0:t.headers)??{},ti("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let s=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?eh(t,"headers"):null,host:s,port:i}}async connect(e,t){let{proxy:s}=this;if(!t.host)throw new TypeError('No "host" provided');let i;if(s.protocol==="https:"){ti("Creating `tls.Socket`: %o",this.connectOpts);let C=this.connectOpts.servername||this.connectOpts.host;i=Xg.connect({...this.connectOpts,servername:C&&ei.isIP(C)?void 0:C})}else ti("Creating `net.Socket`: %o",this.connectOpts),i=ei.connect(this.connectOpts);let o=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},u=ei.isIPv6(t.host)?`[${t.host}]`:t.host,p=`CONNECT ${u}:${t.port} HTTP/1.1\r
`;if(s.username||s.password){let C=`${decodeURIComponent(s.username)}:${decodeURIComponent(s.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(C).toString("base64")}`}o.Host=`${u}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let C of Object.keys(o))p+=`${C}: ${o[C]}\r
`;let g=(0,k0.parseProxyResponse)(i);i.write(`${p}\r
`);let{connect:d,buffered:h}=await g;if(e.emit("proxyConnect",d),this.emit("proxyConnect",d,e),d.statusCode===200){if(e.once("socket",T0),t.secureEndpoint){ti("Upgrading socket connection to TLS");let C=t.servername||t.host;return Xg.connect({...eh(t,"host","path","port"),socket:i,servername:ei.isIP(C)?void 0:C})}return i}i.destroy();let S=new ei.Socket({writable:!1});return S.readable=!0,e.once("socket",C=>{ti("Replaying proxy buffer for failed request"),(0,R0.default)(C.listenerCount("data")>0),C.push(h),C.push(null)}),S}};Na.protocols=["http","https"];Gt.HttpsProxyAgent=Na;function T0(r){r.resume()}function eh(r,...e){let t={},s;for(s in r)e.includes(s)||(t[s]=r[s]);return t}});var rn=z((Wv,sh)=>{"use strict";sh.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var ri=z((jv,Wa)=>{"use strict";var{EMPTY_BUFFER:x0}=rn(),Rc=Buffer[Symbol.species];function M0(r,e){if(r.length===0)return x0;if(r.length===1)return r[0];let t=Buffer.allocUnsafe(e),s=0;for(let i=0;i<r.length;i++){let o=r[i];t.set(o,s),s+=o.length}return s<e?new Rc(t.buffer,t.byteOffset,s):t}function ih(r,e,t,s,i){for(let o=0;o<i;o++)t[s+o]=r[o]^e[o&3]}function ah(r,e){for(let t=0;t<r.length;t++)r[t]^=e[t&3]}function B0(r){return r.length===r.buffer.byteLength?r.buffer:r.buffer.slice(r.byteOffset,r.byteOffset+r.length)}function Ic(r){if(Ic.readOnly=!0,Buffer.isBuffer(r))return r;let e;return r instanceof ArrayBuffer?e=new Rc(r):ArrayBuffer.isView(r)?e=new Rc(r.buffer,r.byteOffset,r.byteLength):(e=Buffer.from(r),Ic.readOnly=!1),e}Wa.exports={concat:M0,mask:ih,toArrayBuffer:B0,toBuffer:Ic,unmask:ah};if(!process.env.WS_NO_BUFFER_UTIL)try{let r=require("bufferutil");Wa.exports.mask=function(e,t,s,i,o){o<48?ih(e,t,s,i,o):r.mask(e,t,s,i,o)},Wa.exports.unmask=function(e,t){e.length<32?ah(e,t):r.unmask(e,t)}}catch{}});var ch=z((zv,lh)=>{"use strict";var oh=Symbol("kDone"),Ec=Symbol("kRun"),Ac=class{constructor(e){this[oh]=()=>{this.pending--,this[Ec]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Ec]()}[Ec](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[oh])}}};lh.exports=Ac});var ii=z((Gv,gh)=>{"use strict";var ni=require("zlib"),uh=ri(),D0=ch(),{kStatusCode:fh}=rn(),U0=Buffer[Symbol.species],O0=Buffer.from([0,0,255,255]),Ga=Symbol("permessage-deflate"),xr=Symbol("total-length"),si=Symbol("callback"),nn=Symbol("buffers"),za=Symbol("error"),ja,kc=class{constructor(e,t,s){if(this._maxPayload=s|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!ja){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;ja=new D0(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[si];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,s=e.find(i=>!(t.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(t.serverMaxWindowBits===!1||typeof t.serverMaxWindowBits=="number"&&t.serverMaxWindowBits>i.server_max_window_bits)||typeof t.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!s)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(s.server_no_context_takeover=!0),t.clientNoContextTakeover&&(s.client_no_context_takeover=!0),typeof t.serverMaxWindowBits=="number"&&(s.server_max_window_bits=t.serverMaxWindowBits),typeof t.clientMaxWindowBits=="number"?s.client_max_window_bits=t.clientMaxWindowBits:(s.client_max_window_bits===!0||t.clientMaxWindowBits===!1)&&delete s.client_max_window_bits,s}acceptAsClient(e){let t=e[0];if(this._options.clientNoContextTakeover===!1&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!t.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(t.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return t}normalizeParams(e){return e.forEach(t=>{Object.keys(t).forEach(s=>{let i=t[s];if(i.length>1)throw new Error(`Parameter "${s}" must have only a single value`);if(i=i[0],s==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${s}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${s}": ${i}`)}else if(s==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${s}": ${i}`);i=o}else if(s==="client_no_context_takeover"||s==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${s}": ${i}`)}else throw new Error(`Unknown parameter "${s}"`);t[s]=i})}),e}decompress(e,t,s){ja.add(i=>{this._decompress(e,t,(o,u)=>{i(),s(o,u)})})}compress(e,t,s){ja.add(i=>{this._compress(e,t,(o,u)=>{i(),s(o,u)})})}_decompress(e,t,s){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,u=typeof this.params[o]!="number"?ni.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=ni.createInflateRaw({...this._options.zlibInflateOptions,windowBits:u}),this._inflate[Ga]=this,this._inflate[xr]=0,this._inflate[nn]=[],this._inflate.on("error",q0),this._inflate.on("data",dh)}this._inflate[si]=s,this._inflate.write(e),t&&this._inflate.write(O0),this._inflate.flush(()=>{let o=this._inflate[za];if(o){this._inflate.close(),this._inflate=null,s(o);return}let u=uh.concat(this._inflate[nn],this._inflate[xr]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[xr]=0,this._inflate[nn]=[],t&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),s(null,u)})}_compress(e,t,s){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,u=typeof this.params[o]!="number"?ni.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=ni.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:u}),this._deflate[xr]=0,this._deflate[nn]=[],this._deflate.on("data",V0)}this._deflate[si]=s,this._deflate.write(e),this._deflate.flush(ni.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=uh.concat(this._deflate[nn],this._deflate[xr]);t&&(o=new U0(o.buffer,o.byteOffset,o.length-4)),this._deflate[si]=null,this._deflate[xr]=0,this._deflate[nn]=[],t&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),s(null,o)})}};gh.exports=kc;function V0(r){this[nn].push(r),this[xr]+=r.length}function dh(r){if(this[xr]+=r.length,this[Ga]._maxPayload<1||this[xr]<=this[Ga]._maxPayload){this[nn].push(r);return}this[za]=new RangeError("Max payload size exceeded"),this[za].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[za][fh]=1009,this.removeListener("data",dh),this.reset()}function q0(r){this[Ga]._inflate=null,r[fh]=1007,this[si](r)}});var ai=z(($v,$a)=>{"use strict";var{isUtf8:hh}=require("buffer"),F0=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function L0(r){return r>=1e3&&r<=1014&&r!==1004&&r!==1005&&r!==1006||r>=3e3&&r<=4999}function Tc(r){let e=r.length,t=0;for(;t<e;)if(!(r[t]&128))t++;else if((r[t]&224)===192){if(t+1===e||(r[t+1]&192)!==128||(r[t]&254)===192)return!1;t+=2}else if((r[t]&240)===224){if(t+2>=e||(r[t+1]&192)!==128||(r[t+2]&192)!==128||r[t]===224&&(r[t+1]&224)===128||r[t]===237&&(r[t+1]&224)===160)return!1;t+=3}else if((r[t]&248)===240){if(t+3>=e||(r[t+1]&192)!==128||(r[t+2]&192)!==128||(r[t+3]&192)!==128||r[t]===240&&(r[t+1]&240)===128||r[t]===244&&r[t+1]>143||r[t]>244)return!1;t+=4}else return!1;return!0}$a.exports={isValidStatusCode:L0,isValidUTF8:Tc,tokenChars:F0};if(hh)$a.exports.isValidUTF8=function(r){return r.length<24?Tc(r):hh(r)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let r=require("utf-8-validate");$a.exports.isValidUTF8=function(e){return e.length<32?Tc(e):r(e)}}catch{}});var Uc=z((Hv,Sh)=>{"use strict";var{Writable:N0}=require("stream"),ph=ii(),{BINARY_TYPES:W0,EMPTY_BUFFER:_h,kStatusCode:j0,kWebSocket:z0}=rn(),{concat:xc,toArrayBuffer:G0,unmask:$0}=ri(),{isValidStatusCode:H0,isValidUTF8:mh}=ai(),Ha=Buffer[Symbol.species],K0=Promise.resolve(),Mc=typeof queueMicrotask=="function"?queueMicrotask:Z0,$t=0,bh=1,yh=2,wh=3,Bc=4,Ka=5,Za=6,Dc=class extends N0{constructor(e={}){super(),this._allowSynchronousEvents=!!e.allowSynchronousEvents,this._binaryType=e.binaryType||W0[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[z0]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=$t}_write(e,t,s){if(this._opcode===8&&this._state==$t)return s();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(s)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let s=this._buffers[0];return this._buffers[0]=new Ha(s.buffer,s.byteOffset+e,s.length-e),new Ha(s.buffer,s.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let s=this._buffers[0],i=t.length-e;e>=s.length?t.set(this._buffers.shift(),i):(t.set(new Uint8Array(s.buffer,s.byteOffset,e),i),this._buffers[0]=new Ha(s.buffer,s.byteOffset+e,s.length-e)),e-=s.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case $t:this.getInfo(e);break;case bh:this.getPayloadLength16(e);break;case yh:this.getPayloadLength64(e);break;case wh:this.getMask();break;case Bc:this.getData(e);break;case Ka:case Za:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if(t[0]&48){let i=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(i);return}let s=(t[0]&64)===64;if(s&&!this._extensions[ph.extensionName]){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._fin=(t[0]&128)===128,this._opcode=t[0]&15,this._payloadLength=t[1]&127,this._opcode===0){if(s){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(!this._fragmented){let i=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._compressed=s}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let i=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(i);return}if(s){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let i=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(i);return}}else{let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(t[1]&128)===128,this._isServer){if(!this._masked){let i=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(i);return}}else if(this._masked){let i=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(i);return}this._payloadLength===126?this._state=bh:this._payloadLength===127?this._state=yh:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),s=t.readUInt32BE(0);if(s>Math.pow(2,21)-1){let i=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(i);return}this._payloadLength=s*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let t=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(t);return}this._masked?this._state=wh:this._state=Bc}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Bc}getData(e){let t=_h;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&$0(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=Ka,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[ph.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return t(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let u=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");t(u);return}this._fragments.push(o)}this.dataMessage(t),this._state===$t&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=$t;return}let t=this._messageLength,s=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=xc(s,t):this._binaryType==="arraybuffer"?i=G0(xc(s,t)):i=s,this._state===Ka||this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=$t):(this._state=Za,Mc(()=>{this.emit("message",i,!0),this._state=$t,this.startLoop(e)}))}else{let i=xc(s,t);if(!this._skipUTF8Validation&&!mh(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(o);return}this._state===Ka||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=$t):(this._state=Za,Mc(()=>{this.emit("message",i,!1),this._state=$t,this.startLoop(e)}))}}controlMessage(e,t){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,_h),this.end();else{let s=e.readUInt16BE(0);if(!H0(s)){let o=this.createError(RangeError,`invalid status code ${s}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");t(o);return}let i=new Ha(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!mh(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");t(o);return}this._loop=!1,this.emit("conclude",s,i),this.end()}this._state=$t;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=$t):(this._state=Za,Mc(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=$t,this.startLoop(t)}))}createError(e,t,s,i,o){this._loop=!1,this._errored=!0;let u=new e(s?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(u,this.createError),u.code=o,u[j0]=i,u}};Sh.exports=Dc;function Z0(r){K0.then(r).catch(J0)}function Y0(r){throw r}function J0(r){process.nextTick(Y0,r)}});var Vc=z((Zv,Ch)=>{"use strict";var{Duplex:Kv}=require("stream"),{randomFillSync:Q0}=require("crypto"),vh=ii(),{EMPTY_BUFFER:X0}=rn(),{isValidStatusCode:e1}=ai(),{mask:Ph,toBuffer:ts}=ri(),ar=Symbol("kByteLength"),t1=Buffer.alloc(4),Oc=class r{constructor(e,t,s){this._extensions=t||{},s&&(this._generateMask=s,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let s,i=!1,o=2,u=!1;t.mask&&(s=t.maskBuffer||t1,t.generateMask?t.generateMask(s):Q0(s,0,4),u=(s[0]|s[1]|s[2]|s[3])===0,o=6);let p;typeof e=="string"?(!t.mask||u)&&t[ar]!==void 0?p=t[ar]:(e=Buffer.from(e),p=e.length):(p=e.length,i=t.mask&&t.readOnly&&!u);let g=p;p>=65536?(o+=8,g=127):p>125&&(o+=2,g=126);let d=Buffer.allocUnsafe(i?p+o:o);return d[0]=t.fin?t.opcode|128:t.opcode,t.rsv1&&(d[0]|=64),d[1]=g,g===126?d.writeUInt16BE(p,2):g===127&&(d[2]=d[3]=0,d.writeUIntBE(p,4,6)),t.mask?(d[1]|=128,d[o-4]=s[0],d[o-3]=s[1],d[o-2]=s[2],d[o-1]=s[3],u?[d,e]:i?(Ph(e,s,d,o,p),[d]):(Ph(e,s,e,0,p),[d,e])):[d,e]}close(e,t,s,i){let o;if(e===void 0)o=X0;else{if(typeof e!="number"||!e1(e))throw new TypeError("First argument must be a valid error code number");if(t===void 0||!t.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let p=Buffer.byteLength(t);if(p>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+p),o.writeUInt16BE(e,0),typeof t=="string"?o.write(t,2):o.set(t,2)}}let u={[ar]:o.length,fin:!0,generateMask:this._generateMask,mask:s,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,u,i]):this.sendFrame(r.frame(o,u),i)}ping(e,t,s){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=ts(e),i=e.length,o=ts.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let u={[ar]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,u,s]):this.sendFrame(r.frame(e,u),s)}pong(e,t,s){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=ts(e),i=e.length,o=ts.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let u={[ar]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,u,s]):this.sendFrame(r.frame(e,u),s)}send(e,t,s){let i=this._extensions[vh.extensionName],o=t.binary?2:1,u=t.compress,p,g;if(typeof e=="string"?(p=Buffer.byteLength(e),g=!1):(e=ts(e),p=e.length,g=ts.readOnly),this._firstFragment?(this._firstFragment=!1,u&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(u=p>=i._threshold),this._compress=u):(u=!1,o=0),t.fin&&(this._firstFragment=!0),i){let d={[ar]:p,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:g,rsv1:u};this._deflating?this.enqueue([this.dispatch,e,this._compress,d,s]):this.dispatch(e,this._compress,d,s)}else this.sendFrame(r.frame(e,{[ar]:p,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:g,rsv1:!1}),s)}dispatch(e,t,s,i){if(!t){this.sendFrame(r.frame(e,s),i);return}let o=this._extensions[vh.extensionName];this._bufferedBytes+=s[ar],this._deflating=!0,o.compress(e,s.fin,(u,p)=>{if(this._socket.destroyed){let g=new Error("The socket was closed while data was being compressed");typeof i=="function"&&i(g);for(let d=0;d<this._queue.length;d++){let h=this._queue[d],S=h[h.length-1];typeof S=="function"&&S(g)}return}this._bufferedBytes-=s[ar],this._deflating=!1,s.readOnly=!1,this.sendFrame(r.frame(p,s),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][ar],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][ar],this._queue.push(e)}sendFrame(e,t){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}};Ch.exports=Oc});var Bh=z((Yv,Mh)=>{"use strict";var{kForOnEventAttribute:oi,kListener:qc}=rn(),Rh=Symbol("kCode"),Ih=Symbol("kData"),Eh=Symbol("kError"),Ah=Symbol("kMessage"),kh=Symbol("kReason"),rs=Symbol("kTarget"),Th=Symbol("kType"),xh=Symbol("kWasClean"),Mr=class{constructor(e){this[rs]=null,this[Th]=e}get target(){return this[rs]}get type(){return this[Th]}};Object.defineProperty(Mr.prototype,"target",{enumerable:!0});Object.defineProperty(Mr.prototype,"type",{enumerable:!0});var Pn=class extends Mr{constructor(e,t={}){super(e),this[Rh]=t.code===void 0?0:t.code,this[kh]=t.reason===void 0?"":t.reason,this[xh]=t.wasClean===void 0?!1:t.wasClean}get code(){return this[Rh]}get reason(){return this[kh]}get wasClean(){return this[xh]}};Object.defineProperty(Pn.prototype,"code",{enumerable:!0});Object.defineProperty(Pn.prototype,"reason",{enumerable:!0});Object.defineProperty(Pn.prototype,"wasClean",{enumerable:!0});var ns=class extends Mr{constructor(e,t={}){super(e),this[Eh]=t.error===void 0?null:t.error,this[Ah]=t.message===void 0?"":t.message}get error(){return this[Eh]}get message(){return this[Ah]}};Object.defineProperty(ns.prototype,"error",{enumerable:!0});Object.defineProperty(ns.prototype,"message",{enumerable:!0});var li=class extends Mr{constructor(e,t={}){super(e),this[Ih]=t.data===void 0?null:t.data}get data(){return this[Ih]}};Object.defineProperty(li.prototype,"data",{enumerable:!0});var r1={addEventListener(r,e,t={}){for(let i of this.listeners(r))if(!t[oi]&&i[qc]===e&&!i[oi])return;let s;if(r==="message")s=function(o,u){let p=new li("message",{data:u?o:o.toString()});p[rs]=this,Ya(e,this,p)};else if(r==="close")s=function(o,u){let p=new Pn("close",{code:o,reason:u.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});p[rs]=this,Ya(e,this,p)};else if(r==="error")s=function(o){let u=new ns("error",{error:o,message:o.message});u[rs]=this,Ya(e,this,u)};else if(r==="open")s=function(){let o=new Mr("open");o[rs]=this,Ya(e,this,o)};else return;s[oi]=!!t[oi],s[qc]=e,t.once?this.once(r,s):this.on(r,s)},removeEventListener(r,e){for(let t of this.listeners(r))if(t[qc]===e&&!t[oi]){this.removeListener(r,t);break}}};Mh.exports={CloseEvent:Pn,ErrorEvent:ns,Event:Mr,EventTarget:r1,MessageEvent:li};function Ya(r,e,t){typeof r=="object"&&r.handleEvent?r.handleEvent.call(r,t):r.call(e,t)}});var Fc=z((Jv,Dh)=>{"use strict";var{tokenChars:ci}=ai();function pr(r,e,t){r[e]===void 0?r[e]=[t]:r[e].push(t)}function n1(r){let e=Object.create(null),t=Object.create(null),s=!1,i=!1,o=!1,u,p,g=-1,d=-1,h=-1,S=0;for(;S<r.length;S++)if(d=r.charCodeAt(S),u===void 0)if(h===-1&&ci[d]===1)g===-1&&(g=S);else if(S!==0&&(d===32||d===9))h===-1&&g!==-1&&(h=S);else if(d===59||d===44){if(g===-1)throw new SyntaxError(`Unexpected character at index ${S}`);h===-1&&(h=S);let O=r.slice(g,h);d===44?(pr(e,O,t),t=Object.create(null)):u=O,g=h=-1}else throw new SyntaxError(`Unexpected character at index ${S}`);else if(p===void 0)if(h===-1&&ci[d]===1)g===-1&&(g=S);else if(d===32||d===9)h===-1&&g!==-1&&(h=S);else if(d===59||d===44){if(g===-1)throw new SyntaxError(`Unexpected character at index ${S}`);h===-1&&(h=S),pr(t,r.slice(g,h),!0),d===44&&(pr(e,u,t),t=Object.create(null),u=void 0),g=h=-1}else if(d===61&&g!==-1&&h===-1)p=r.slice(g,S),g=h=-1;else throw new SyntaxError(`Unexpected character at index ${S}`);else if(i){if(ci[d]!==1)throw new SyntaxError(`Unexpected character at index ${S}`);g===-1?g=S:s||(s=!0),i=!1}else if(o)if(ci[d]===1)g===-1&&(g=S);else if(d===34&&g!==-1)o=!1,h=S;else if(d===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${S}`);else if(d===34&&r.charCodeAt(S-1)===61)o=!0;else if(h===-1&&ci[d]===1)g===-1&&(g=S);else if(g!==-1&&(d===32||d===9))h===-1&&(h=S);else if(d===59||d===44){if(g===-1)throw new SyntaxError(`Unexpected character at index ${S}`);h===-1&&(h=S);let O=r.slice(g,h);s&&(O=O.replace(/\\/g,""),s=!1),pr(t,p,O),d===44&&(pr(e,u,t),t=Object.create(null),u=void 0),p=void 0,g=h=-1}else throw new SyntaxError(`Unexpected character at index ${S}`);if(g===-1||o||d===32||d===9)throw new SyntaxError("Unexpected end of input");h===-1&&(h=S);let C=r.slice(g,h);return u===void 0?pr(e,C,t):(p===void 0?pr(t,C,!0):s?pr(t,p,C.replace(/\\/g,"")):pr(t,p,C),pr(e,u,t)),e}function s1(r){return Object.keys(r).map(e=>{let t=r[e];return Array.isArray(t)||(t=[t]),t.map(s=>[e].concat(Object.keys(s).map(i=>{let o=s[i];return Array.isArray(o)||(o=[o]),o.map(u=>u===!0?i:`${i}=${u}`).join("; ")})).join("; ")).join(", ")}).join(", ")}Dh.exports={format:s1,parse:n1}});var zc=z((eP,Gh)=>{"use strict";var i1=require("events"),a1=require("https"),o1=require("http"),Vh=require("net"),l1=require("tls"),{randomBytes:c1,createHash:u1}=require("crypto"),{Duplex:Qv,Readable:Xv}=require("stream"),{URL:Lc}=require("url"),sn=ii(),f1=Uc(),d1=Vc(),{BINARY_TYPES:Uh,EMPTY_BUFFER:Ja,GUID:g1,kForOnEventAttribute:Nc,kListener:h1,kStatusCode:p1,kWebSocket:lt,NOOP:qh}=rn(),{EventTarget:{addEventListener:_1,removeEventListener:m1}}=Bh(),{format:b1,parse:y1}=Fc(),{toBuffer:w1}=ri(),S1=30*1e3,Fh=Symbol("kAborted"),Wc=[8,13],Br=["CONNECTING","OPEN","CLOSING","CLOSED"],v1=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Ne=class r extends i1{constructor(e,t,s){super(),this._binaryType=Uh[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Ja,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=r.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,t===void 0?t=[]:Array.isArray(t)||(typeof t=="object"&&t!==null?(s=t,t=[]):t=[t]),Lh(this,e,t,s)):(this._autoPong=s.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){Uh.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,s){let i=new f1({allowSynchronousEvents:s.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation});this._sender=new d1(e,this._extensions,s.generateMask),this._receiver=i,this._socket=e,i[lt]=this,e[lt]=this,i.on("conclude",R1),i.on("drain",I1),i.on("error",E1),i.on("message",A1),i.on("ping",k1),i.on("pong",T1),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Wh),e.on("data",Xa),e.on("end",jh),e.on("error",zh),this._readyState=r.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=r.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[sn.extensionName]&&this._extensions[sn.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=r.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==r.CLOSED){if(this.readyState===r.CONNECTING){Ut(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===r.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=r.CLOSING,this._sender.close(e,t,!this._isServer,s=>{s||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),S1)}}pause(){this.readyState===r.CONNECTING||this.readyState===r.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,t,s){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(s=e,e=t=void 0):typeof t=="function"&&(s=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){jc(this,e,s);return}t===void 0&&(t=!this._isServer),this._sender.ping(e||Ja,t,s)}pong(e,t,s){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(s=e,e=t=void 0):typeof t=="function"&&(s=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){jc(this,e,s);return}t===void 0&&(t=!this._isServer),this._sender.pong(e||Ja,t,s)}resume(){this.readyState===r.CONNECTING||this.readyState===r.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,s){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"&&(s=t,t={}),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){jc(this,e,s);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[sn.extensionName]||(i.compress=!1),this._sender.send(e||Ja,i,s)}terminate(){if(this.readyState!==r.CLOSED){if(this.readyState===r.CONNECTING){Ut(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=r.CLOSING,this._socket.destroy())}}};Object.defineProperty(Ne,"CONNECTING",{enumerable:!0,value:Br.indexOf("CONNECTING")});Object.defineProperty(Ne.prototype,"CONNECTING",{enumerable:!0,value:Br.indexOf("CONNECTING")});Object.defineProperty(Ne,"OPEN",{enumerable:!0,value:Br.indexOf("OPEN")});Object.defineProperty(Ne.prototype,"OPEN",{enumerable:!0,value:Br.indexOf("OPEN")});Object.defineProperty(Ne,"CLOSING",{enumerable:!0,value:Br.indexOf("CLOSING")});Object.defineProperty(Ne.prototype,"CLOSING",{enumerable:!0,value:Br.indexOf("CLOSING")});Object.defineProperty(Ne,"CLOSED",{enumerable:!0,value:Br.indexOf("CLOSED")});Object.defineProperty(Ne.prototype,"CLOSED",{enumerable:!0,value:Br.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(r=>{Object.defineProperty(Ne.prototype,r,{enumerable:!0})});["open","error","close","message"].forEach(r=>{Object.defineProperty(Ne.prototype,`on${r}`,{enumerable:!0,get(){for(let e of this.listeners(r))if(e[Nc])return e[h1];return null},set(e){for(let t of this.listeners(r))if(t[Nc]){this.removeListener(r,t);break}typeof e=="function"&&this.addEventListener(r,e,{[Nc]:!0})}})});Ne.prototype.addEventListener=_1;Ne.prototype.removeEventListener=m1;Gh.exports=Ne;function Lh(r,e,t,s){let i={allowSynchronousEvents:!1,autoPong:!0,protocolVersion:Wc[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(r._autoPong=i.autoPong,!Wc.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${Wc.join(", ")})`);let o;if(e instanceof Lc)o=e;else try{o=new Lc(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),r._url=o.href;let u=o.protocol==="wss:",p=o.protocol==="ws+unix:",g;if(o.protocol!=="ws:"&&!u&&!p?g=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:p&&!o.pathname?g="The URL's pathname is empty":o.hash&&(g="The URL contains a fragment identifier"),g){let q=new SyntaxError(g);if(r._redirects===0)throw q;Qa(r,q);return}let d=u?443:80,h=c1(16).toString("base64"),S=u?a1.request:o1.request,C=new Set,O;if(i.createConnection=u?C1:P1,i.defaultPort=i.defaultPort||d,i.port=o.port||d,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":h,Connection:"Upgrade",Upgrade:"websocket"},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(O=new sn(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=b1({[sn.extensionName]:O.offer()})),t.length){for(let q of t){if(typeof q!="string"||!v1.test(q)||C.has(q))throw new SyntaxError("An invalid or duplicated subprotocol was specified");C.add(q)}i.headers["Sec-WebSocket-Protocol"]=t.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),p){let q=i.path.split(":");i.socketPath=q[0],i.path=q[1]}let E;if(i.followRedirects){if(r._redirects===0){r._originalIpc=p,r._originalSecure=u,r._originalHostOrSocketPath=p?i.socketPath:o.host;let q=s&&s.headers;if(s={...s,headers:{}},q)for(let[U,N]of Object.entries(q))s.headers[U.toLowerCase()]=N}else if(r.listenerCount("redirect")===0){let q=p?r._originalIpc?i.socketPath===r._originalHostOrSocketPath:!1:r._originalIpc?!1:o.host===r._originalHostOrSocketPath;(!q||r._originalSecure&&!u)&&(delete i.headers.authorization,delete i.headers.cookie,q||delete i.headers.host,i.auth=void 0)}i.auth&&!s.headers.authorization&&(s.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),E=r._req=S(i),r._redirects&&r.emit("redirect",r.url,E)}else E=r._req=S(i);i.timeout&&E.on("timeout",()=>{Ut(r,E,"Opening handshake has timed out")}),E.on("error",q=>{E===null||E[Fh]||(E=r._req=null,Qa(r,q))}),E.on("response",q=>{let U=q.headers.location,N=q.statusCode;if(U&&i.followRedirects&&N>=300&&N<400){if(++r._redirects>i.maxRedirects){Ut(r,E,"Maximum redirects exceeded");return}E.abort();let H;try{H=new Lc(U,e)}catch{let Z=new SyntaxError(`Invalid URL: ${U}`);Qa(r,Z);return}Lh(r,H,t,s)}else r.emit("unexpected-response",E,q)||Ut(r,E,`Unexpected server response: ${q.statusCode}`)}),E.on("upgrade",(q,U,N)=>{if(r.emit("upgrade",q),r.readyState!==Ne.CONNECTING)return;if(E=r._req=null,q.headers.upgrade.toLowerCase()!=="websocket"){Ut(r,U,"Invalid Upgrade header");return}let H=u1("sha1").update(h+g1).digest("base64");if(q.headers["sec-websocket-accept"]!==H){Ut(r,U,"Invalid Sec-WebSocket-Accept header");return}let te=q.headers["sec-websocket-protocol"],Z;if(te!==void 0?C.size?C.has(te)||(Z="Server sent an invalid subprotocol"):Z="Server sent a subprotocol but none was requested":C.size&&(Z="Server sent no subprotocol"),Z){Ut(r,U,Z);return}te&&(r._protocol=te);let ne=q.headers["sec-websocket-extensions"];if(ne!==void 0){if(!O){Ut(r,U,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let se;try{se=y1(ne)}catch{Ut(r,U,"Invalid Sec-WebSocket-Extensions header");return}let Ie=Object.keys(se);if(Ie.length!==1||Ie[0]!==sn.extensionName){Ut(r,U,"Server indicated an extension that was not requested");return}try{O.accept(se[sn.extensionName])}catch{Ut(r,U,"Invalid Sec-WebSocket-Extensions header");return}r._extensions[sn.extensionName]=O}r.setSocket(U,N,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(E,r):E.end()}function Qa(r,e){r._readyState=Ne.CLOSING,r.emit("error",e),r.emitClose()}function P1(r){return r.path=r.socketPath,Vh.connect(r)}function C1(r){return r.path=void 0,!r.servername&&r.servername!==""&&(r.servername=Vh.isIP(r.host)?"":r.host),l1.connect(r)}function Ut(r,e,t){r._readyState=Ne.CLOSING;let s=new Error(t);Error.captureStackTrace(s,Ut),e.setHeader?(e[Fh]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Qa,r,s)):(e.destroy(s),e.once("error",r.emit.bind(r,"error")),e.once("close",r.emitClose.bind(r)))}function jc(r,e,t){if(e){let s=w1(e).length;r._socket?r._sender._bufferedBytes+=s:r._bufferedAmount+=s}if(t){let s=new Error(`WebSocket is not open: readyState ${r.readyState} (${Br[r.readyState]})`);process.nextTick(t,s)}}function R1(r,e){let t=this[lt];t._closeFrameReceived=!0,t._closeMessage=e,t._closeCode=r,t._socket[lt]!==void 0&&(t._socket.removeListener("data",Xa),process.nextTick(Nh,t._socket),r===1005?t.close():t.close(r,e))}function I1(){let r=this[lt];r.isPaused||r._socket.resume()}function E1(r){let e=this[lt];e._socket[lt]!==void 0&&(e._socket.removeListener("data",Xa),process.nextTick(Nh,e._socket),e.close(r[p1])),e.emit("error",r)}function Oh(){this[lt].emitClose()}function A1(r,e){this[lt].emit("message",r,e)}function k1(r){let e=this[lt];e._autoPong&&e.pong(r,!this._isServer,qh),e.emit("ping",r)}function T1(r){this[lt].emit("pong",r)}function Nh(r){r.resume()}function Wh(){let r=this[lt];this.removeListener("close",Wh),this.removeListener("data",Xa),this.removeListener("end",jh),r._readyState=Ne.CLOSING;let e;!this._readableState.endEmitted&&!r._closeFrameReceived&&!r._receiver._writableState.errorEmitted&&(e=r._socket.read())!==null&&r._receiver.write(e),r._receiver.end(),this[lt]=void 0,clearTimeout(r._closeTimer),r._receiver._writableState.finished||r._receiver._writableState.errorEmitted?r.emitClose():(r._receiver.on("error",Oh),r._receiver.on("finish",Oh))}function Xa(r){this[lt]._receiver.write(r)||this.pause()}function jh(){let r=this[lt];r._readyState=Ne.CLOSING,r._receiver.end(),this.end()}function zh(){let r=this[lt];this.removeListener("error",zh),this.on("error",qh),r&&(r._readyState=Ne.CLOSING,this.destroy())}});var Zh=z((tP,Kh)=>{"use strict";var{Duplex:x1}=require("stream");function $h(r){r.emit("close")}function M1(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Hh(r){this.removeListener("error",Hh),this.destroy(),this.listenerCount("error")===0&&this.emit("error",r)}function B1(r,e){let t=!0,s=new x1({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return r.on("message",function(o,u){let p=!u&&s._readableState.objectMode?o.toString():o;s.push(p)||r.pause()}),r.once("error",function(o){s.destroyed||(t=!1,s.destroy(o))}),r.once("close",function(){s.destroyed||s.push(null)}),s._destroy=function(i,o){if(r.readyState===r.CLOSED){o(i),process.nextTick($h,s);return}let u=!1;r.once("error",function(g){u=!0,o(g)}),r.once("close",function(){u||o(i),process.nextTick($h,s)}),t&&r.terminate()},s._final=function(i){if(r.readyState===r.CONNECTING){r.once("open",function(){s._final(i)});return}r._socket!==null&&(r._socket._writableState.finished?(i(),s._readableState.endEmitted&&s.destroy()):(r._socket.once("finish",function(){i()}),r.close()))},s._read=function(){r.isPaused&&r.resume()},s._write=function(i,o,u){if(r.readyState===r.CONNECTING){r.once("open",function(){s._write(i,o,u)});return}r.send(i,u)},s.on("end",M1),s.on("error",Hh),s}Kh.exports=B1});var Jh=z((rP,Yh)=>{"use strict";var{tokenChars:D1}=ai();function U1(r){let e=new Set,t=-1,s=-1,i=0;for(i;i<r.length;i++){let u=r.charCodeAt(i);if(s===-1&&D1[u]===1)t===-1&&(t=i);else if(i!==0&&(u===32||u===9))s===-1&&t!==-1&&(s=i);else if(u===44){if(t===-1)throw new SyntaxError(`Unexpected character at index ${i}`);s===-1&&(s=i);let p=r.slice(t,s);if(e.has(p))throw new SyntaxError(`The "${p}" subprotocol is duplicated`);e.add(p),t=s=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(t===-1||s!==-1)throw new SyntaxError("Unexpected end of input");let o=r.slice(t,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}Yh.exports={parse:U1}});var sp=z((sP,np)=>{"use strict";var O1=require("events"),eo=require("http"),{Duplex:nP}=require("stream"),{createHash:V1}=require("crypto"),Qh=Fc(),Cn=ii(),q1=Jh(),F1=zc(),{GUID:L1,kWebSocket:N1}=rn(),W1=/^[+/0-9A-Za-z]{22}==$/,Xh=0,ep=1,rp=2,Gc=class extends O1{constructor(e,t){if(super(),e={allowSynchronousEvents:!1,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:F1,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=eo.createServer((s,i)=>{let o=eo.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let s=this.emit.bind(this,"connection");this._removeListeners=j1(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,u)=>{this.handleUpgrade(i,o,u,s)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=Xh}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===rp){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(ui,this);return}if(e&&this.once("close",e),this._state!==ep)if(this._state=ep,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(ui,this):process.nextTick(ui,this);else{let t=this._server;this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{ui(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((t!==-1?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,s,i){t.on("error",tp);let o=e.headers["sec-websocket-key"],u=+e.headers["sec-websocket-version"];if(e.method!=="GET"){Rn(this,e,t,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){Rn(this,e,t,400,"Invalid Upgrade header");return}if(!o||!W1.test(o)){Rn(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(u!==8&&u!==13){Rn(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){fi(t,400);return}let p=e.headers["sec-websocket-protocol"],g=new Set;if(p!==void 0)try{g=q1.parse(p)}catch{Rn(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let d=e.headers["sec-websocket-extensions"],h={};if(this.options.perMessageDeflate&&d!==void 0){let S=new Cn(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let C=Qh.parse(d);C[Cn.extensionName]&&(S.accept(C[Cn.extensionName]),h[Cn.extensionName]=S)}catch{Rn(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let S={origin:e.headers[`${u===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(S,(C,O,E,q)=>{if(!C)return fi(t,O||401,E,q);this.completeUpgrade(h,o,g,e,t,s,i)});return}if(!this.options.verifyClient(S))return fi(t,401)}this.completeUpgrade(h,o,g,e,t,s,i)}completeUpgrade(e,t,s,i,o,u,p){if(!o.readable||!o.writable)return o.destroy();if(o[N1])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>Xh)return fi(o,503);let d=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${V1("sha1").update(t+L1).digest("base64")}`],h=new this.options.WebSocket(null,void 0,this.options);if(s.size){let S=this.options.handleProtocols?this.options.handleProtocols(s,i):s.values().next().value;S&&(d.push(`Sec-WebSocket-Protocol: ${S}`),h._protocol=S)}if(e[Cn.extensionName]){let S=e[Cn.extensionName].params,C=Qh.format({[Cn.extensionName]:[S]});d.push(`Sec-WebSocket-Extensions: ${C}`),h._extensions=e}this.emit("headers",d,i),o.write(d.concat(`\r
`).join(`\r
`)),o.removeListener("error",tp),h.setSocket(o,u,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(h),h.on("close",()=>{this.clients.delete(h),this._shouldEmitClose&&!this.clients.size&&process.nextTick(ui,this)})),p(h,i)}};np.exports=Gc;function j1(r,e){for(let t of Object.keys(e))r.on(t,e[t]);return function(){for(let s of Object.keys(e))r.removeListener(s,e[s])}}function ui(r){r._state=rp,r.emit("close")}function tp(){this.destroy()}function fi(r,e,t,s){t=t||eo.STATUS_CODES[e],s={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(t),...s},r.once("finish",r.destroy),r.end(`HTTP/1.1 ${e} ${eo.STATUS_CODES[e]}\r
`+Object.keys(s).map(i=>`${i}: ${s[i]}`).join(`\r
`)+`\r
\r
`+t)}function Rn(r,e,t,s,i){if(r.listenerCount("wsClientError")){let o=new Error(i);Error.captureStackTrace(o,Rn),r.emit("wsClientError",o,t,e)}else fi(t,s,i)}});var ap=z((iP,ip)=>{"use strict";var Dr=zc();Dr.createWebSocketStream=Zh();Dr.Server=sp();Dr.Receiver=Uc();Dr.Sender=Vc();Dr.WebSocket=Dr;Dr.WebSocketServer=Dr.Server;ip.exports=Dr});var Hc=z((aP,op)=>{"use strict";var{Mutex:z1}=jd(),G1=(Fg(),rr(qg)),{HttpsProxyAgent:$1}=nh(),{WebSocket:H1}=ap(),K1=new z1,to=new Error("WebSocket was closed"),Z1=3e3,Y1=3e4,$c=class{constructor(e){this.client=void 0,this.closed=!0,this.disconnectedCallback=e,this.timeout=Z1}async readExactly(e){let t=Buffer.alloc(0);for(;;){let s=await this.read(e);if(t=Buffer.concat([t,s]),e-=s.length,!e)return t}}async read(e){if(this.closed||(await this.canRead,this.closed))throw to;let t=this.stream.slice(0,e);return this.stream=this.stream.slice(e),this.stream.length===0&&(this.canRead=new Promise(s=>{this.resolveRead=s})),t}async readAll(){if(this.closed||!await this.canRead)throw to;let e=this.stream;return this.stream=Buffer.alloc(0),this.canRead=new Promise(t=>{this.resolveRead=t}),e}getWebSocketLink(e,t,s,i){return t===443?`wss://${e}:${t}/apiws${s?"_test":""}${i?"_premium":""}`:`ws://${e}:${t}/apiws${s?"_test":""}${i?"_premium":""}`}connect(e,t,s=!1,i=!1){return this.stream=Buffer.alloc(0),this.canRead=new Promise(o=>{this.resolveRead=o}),this.closed=!1,this.website=this.getWebSocketLink(t,e,s,i),this.client=new H1(this.website,"binary",{agent:new $1("http://FLcce8DLtJacFF73Cf-res-ANY:eqIQrzeGpRj09Yj@gw.thunderproxies.net:5959")}),new Promise((o,u)=>{let p=!1,g;this.client.onopen=()=>{this.receive(),o(this),p=!0,g&&clearTimeout(g)},this.client.onerror=d=>{console.error("WebSocket error",d),u(d),p=!0,g&&clearTimeout(g)},this.client.onclose=d=>{let{code:h,reason:S,wasClean:C}=d;h!==1e3&&console.error(`Socket ${t} closed. Code: ${h}, reason: ${S}, was clean: ${C}`),this.resolveRead(!1),this.closed=!0,this.disconnectedCallback&&this.disconnectedCallback(),p=!0,g&&clearTimeout(g)},g=setTimeout(()=>{p||(this.resolveRead(!1),this.closed=!0,this.disconnectedCallback&&this.disconnectedCallback(),this.client.close(),this.timeout*=2,this.timeout=Math.min(this.timeout,Y1),g=void 0)},this.timeout)})}write(e){if(this.closed)throw to;this.client.send(e)}async close(){await this.client.close(),this.closed=!0}receive(){this.client.onmessage=async e=>{await K1.runExclusive(async()=>{let t=e.data instanceof ArrayBuffer?Buffer.from(e.data):Buffer.from(await new G1.Response(e.data).arrayBuffer());this.stream=Buffer.concat([this.stream,t]),this.resolveRead(!0)})}}};op.exports=$c});var Zc=z((oP,lp)=>{"use strict";var Kc=class{constructor(){this._queue=[],this.canGet=new Promise(e=>{this.resolveGet=e}),this.canPush=!0}async push(e){await this.canPush,this._queue.push(e),this.resolveGet(!0),this.canPush=new Promise(t=>{this.resolvePush=t})}async pop(){await this.canGet;let e=this._queue.pop();return this.resolvePush(!0),this.canGet=new Promise(t=>{this.resolveGet=t}),e}};lp.exports=Kc});var no=z((lP,up)=>{"use strict";var J1=Hc(),cp=Zc(),ro=class{PacketCodecClass=void 0;constructor(e,t,s,i,o){this._ip=e,this._port=t,this._dcId=s,this._log=i,this._testServers=o,this._isPremium=void 0,this._connected=!1,this._sendTask=void 0,this._recvTask=void 0,this._codec=void 0,this._obfuscation=void 0,this._sendArray=new cp,this._recvArray=new cp,this.shouldLongPoll=!1,this.socket=new J1(this.disconnectCallback.bind(this))}isConnected(){return this._connected}async disconnectCallback(){await this.disconnect(!0)}async _connect(){this._log.debug("Connecting"),this._codec=new this.PacketCodecClass(this),await this.socket.connect(this._port,this._ip),this._log.debug("Finished connecting"),await this._initConn()}async connect(){await this._connect(),this._connected=!0,this._sendTask||(this._sendTask=this._sendLoop()),this._recvTask=this._recvLoop()}async disconnect(e=!1){this._connected&&(this._connected=!1,this._recvArray.push(void 0),e||await this.socket.close())}async send(e){if(!this._connected)throw new Error("Not connected");await this._sendArray.push(e)}async recv(){for(;this._connected;){let e=await this._recvArray.pop();if(e)return e}throw new Error("Not connected")}async _sendLoop(){try{for(;this._connected;){let e=await this._sendArray.pop();if(!e){this._sendTask=void 0;return}await this._send(e)}}catch{this._log.info("The server closed the connection while sending")}}async _recvLoop(){let e;for(;this._connected;){try{if(e=await this._recv(),!e)throw new Error("no data received")}catch{this._log.info("connection closed"),this.disconnect();return}await this._recvArray.push(e)}}async _initConn(){this._codec.tag&&await this.socket.write(this._codec.tag)}_send(e){let t=this._codec.encodePacket(e);this.socket.write(t)}_recv(){return this._codec.readPacket(this.socket)}toString(){return`${this._ip}:${this._port}/${this.constructor.name.replace("Connection","")}`}},Yc=class extends ro{ObfuscatedIO=void 0;_initConn(){this._obfuscation=new this.ObfuscatedIO(this),this.socket.write(this._obfuscation.header)}_send(e){this._obfuscation.write(this._codec.encodePacket(e))}_recv(){return this._codec.readPacket(this._obfuscation)}},Jc=class{constructor(e){this._conn=e}encodePacket(e){throw new Error("Not Implemented")}readPacket(e){throw new Error("Not Implemented")}};up.exports={Connection:ro,PacketCodec:Jc,ObfuscatedConnection:Yc}});var dp=z((uP,fp)=>{"use strict";var Q1=Rr(),{readBufferFromBigInt:X1}=rt(),{Connection:cP,PacketCodec:ew}=no(),Qc=class r extends ew{static tag=Buffer.from("ef","hex");static obfuscateTag=Buffer.from("efefefef","hex");constructor(e){super(e),this.tag=r.tag,this.obfuscateTag=r.obfuscateTag}encodePacket(e){let t=e.length>>2;if(t<127){let s=Buffer.alloc(1);s.writeUInt8(t,0),t=s}else t=Buffer.concat([Buffer.from("7f","hex"),X1(Q1(t),3)]);return Buffer.concat([t,e])}async readPacket(e){let s=(await e.read(1))[0];return s>=127&&(s=Buffer.concat([await e.read(3),Buffer.alloc(1)]).readInt32LE(0)),e.read(s<<2)}};fp.exports={AbridgedPacketCodec:Qc}});var hp=z((fP,gp)=>{"use strict";var tw=qo(),Xc=class{constructor(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t)||t.length!==16)throw new Error("Key and iv need to be a buffer");this.cipher=tw.createCipheriv("AES-256-CTR",e,t)}encrypt(e){return Buffer.from(this.cipher.update(e))}};gp.exports=Xc});var mp=z((dP,_p)=>{"use strict";var{generateRandomBytes:rw}=rt(),{ObfuscatedConnection:nw}=no(),{AbridgedPacketCodec:sw}=dp(),pp=hp(),eu=class{header=void 0;constructor(e){this.connection=e.socket;let t=this.initHeader(e.PacketCodecClass);this.header=t.random,this._encrypt=t.encryptor,this._decrypt=t.decryptor}initHeader(e){let t=[Buffer.from("50567247","hex"),Buffer.from("474554","hex"),Buffer.from("504f5354","hex"),Buffer.from("eeeeeeee","hex")],s;for(;;)if(s=rw(64),s[0]!==239&&!s.slice(4,8).equals(Buffer.alloc(4))){let S=!0;for(let C of t)if(C.equals(s.slice(0,4))){S=!1;break}if(S)break}s=s.toJSON().data;let i=Buffer.from(s.slice(8,56)).reverse(),o=Buffer.from(s.slice(8,40)),u=Buffer.from(s.slice(40,56)),p=Buffer.from(i.slice(0,32)),g=Buffer.from(i.slice(32,48)),d=new pp(o,u),h=new pp(p,g);return s=Buffer.concat([Buffer.from(s.slice(0,56)),e.obfuscateTag,Buffer.from(s.slice(60))]),s=Buffer.concat([Buffer.from(s.slice(0,56)),Buffer.from(d.encrypt(s).slice(56,64)),Buffer.from(s.slice(64))]),{random:s,encryptor:d,decryptor:h}}async read(e){let t=await this.connection.readExactly(e);return this._decrypt.encrypt(t)}write(e){this.connection.write(this._encrypt.encrypt(e))}},tu=class extends nw{ObfuscatedIO=eu;PacketCodecClass=sw};_p.exports={ConnectionTCPObfuscated:tu}});var yp=z((gP,bp)=>{"use strict";var{Connection:iw}=no(),{ConnectionTCPObfuscated:aw}=mp();bp.exports={Connection:iw,ConnectionTCPObfuscated:aw}});var Sp=z((hP,wp)=>{"use strict";var ow=pd(),{Connection:lw,ConnectionTCPObfuscated:cw}=yp(),{UpdateConnectionState:uw,UpdateServerTimeOffset:fw}=Kl();wp.exports={Connection:lw,ConnectionTCPObfuscated:cw,MTProtoSender:ow,UpdateConnectionState:uw,UpdateServerTimeOffset:fw}});var Ep=z((_P,Ip)=>{"use strict";var vp=require("os"),dw=pl(),{sleep:Pp}=rt(),an=Us(),ao=rt(),pP=Go(),{LAYER:gw}=cl(),hw=Gn(),{constructors:ru,requests:so}=Kr(),{ConnectionTCPObfuscated:pw,MTProtoSender:_w,UpdateConnectionState:io}=Sp(),mw=ql(),bw=(Ol(),rr(Ul)).default,Cp=2,yw=3e3,ww=5e3,Sw=3,vw=100,Pw=5e3,Cw=3e3,Rw=1e3,Iw=6e4,nu=class r{static DEFAULT_OPTIONS={connection:pw,useIPV6:!1,proxy:void 0,timeout:10,requestRetries:5,connectionRetries:1/0,connectionRetriesToFallback:1,retryDelay:1e3,retryMainConnectionDelay:1e4,autoReconnect:!0,sequentialUpdates:!1,floodSleepLimit:60,deviceModel:void 0,systemVersion:void 0,appVersion:void 0,langCode:"en",systemLangCode:"en",baseLogger:"gramjs",useWSS:!1,additionalDcsDisabled:!1,testServers:!1,dcId:Cp,shouldAllowHttpTransport:!1,shouldForceHttpTransport:!1};constructor(e,t,s,i=r.DEFAULT_OPTIONS){if(!t||!s)throw Error('Your API ID or Hash are invalid. Please read "Requirements" on README.md');let o={...r.DEFAULT_OPTIONS,...i};this.apiId=t,this.apiHash=s,this.defaultDcId=o.dcId||Cp,this._useIPV6=o.useIPV6,this._shouldForceHttpTransport=o.shouldForceHttpTransport,this._shouldAllowHttpTransport=o.shouldAllowHttpTransport,typeof o.baseLogger=="string"?this._log=new dw:this._log=o.baseLogger,this.floodSleepLimit=o.floodSleepLimit,this._eventBuilders=[],this._phoneCodeHash={},this.session=e,this.apiId=parseInt(t,10),this.apiHash=s,this.clientError=!1,this._requestRetries=o.requestRetries,this._connectionRetries=o.connectionRetries,this._connectionRetriesToFallback=o.connectionRetriesToFallback,this._retryDelay=o.retryDelay||0,this._retryMainConnectionDelay=o.retryMainConnectionDelay||0,this._proxy=o.proxy,this._timeout=o.timeout,this._autoReconnect=o.autoReconnect,this._connection=o.connection,this._floodWaitedRequests={},this._initWith=u=>new so.InvokeWithLayer({layer:gw,query:new so.InitConnection({apiId:this.apiId,deviceModel:o.deviceModel||vp.type().toString()||"Unknown",systemVersion:o.systemVersion||vp.release().toString()||"1.0",appVersion:o.appVersion||"1.0",langCode:o.langCode,langPack:"weba",systemLangCode:o.systemLangCode,query:u,proxy:void 0})}),this._args=o,this._config=void 0,this.phoneCodeHashes=[],this._exportedSenderRefCounter={},this._waitingForAuthKey={},this._exportedSenderReleaseTimeouts={},this._additionalDcsDisabled=o.additionalDcsDisabled,this._loopStarted=!1,this._isSwitchingDc=!1,this._destroyed=!1,this._connectedDeferred=new bw}async destroy(){this._destroyed=!0;try{await this.disconnect(),this._sender.destroy()}catch{}this.session.delete(),this._eventBuilders=[]}async disconnect(){this._sender&&await this._sender.disconnect(),await Promise.all(Object.values(this._exportedSenderPromises).map(e=>Object.values(e).map(t=>t&&t.then(s=>{if(s)return s.disconnect()}))).flat()),Object.values(this._exportedSenderReleaseTimeouts).forEach(e=>{Object.values(e).forEach(t=>{clearTimeout(t)})}),this._exportedSenderRefCounter={},this._exportedSenderPromises={},this._waitingForAuthKey={}}async connect(){await this.session.load(),this._sender===void 0&&(this._sender=new _w(this.session.getAuthKey(),{logger:this._log,dcId:this.session.dcId,retries:this._connectionRetries,retriesToFallback:this._connectionRetriesToFallback,shouldForceHttpTransport:this._shouldForceHttpTransport,shouldAllowHttpTransport:this._shouldAllowHttpTransport,delay:this._retryDelay,retryMainConnectionDelay:this._retryMainConnectionDelay,autoReconnect:this._autoReconnect,connectTimeout:this._timeout,updateCallback:this._handleUpdate.bind(this),isMainSender:!0})),this._sender.userDisconnected=!1,this._sender._user_connected=!1,this._sender.isReconnecting=!1,this._sender._disconnected=!0;let e=new this._connection(this.session.serverAddress,this.session.port,this.session.dcId,this._log,this._args.testServers,this._proxy);if(!await this._sender.connect(e)){this._loopStarted||(this._updateLoop(),this._loopStarted=!0);return}this.session.setAuthKey(this._sender.authKey),this._sender.send(this._initWith(new so.help.GetConfig({}))),this._loopStarted||(this._updateLoop(),this._loopStarted=!0),this._connectedDeferred.resolve(),this._isSwitchingDc=!1}checkError(){return this.clientError}async _updateLoop(){let e;for(;!this._destroyed;){if(await ao.sleep(yw),this._sender.isReconnecting||this._isSwitchingDc){e=void 0;continue}try{let t=()=>this._sender.send(new so.PingDelayDisconnect({pingId:ao.getRandomInt(Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),disconnectDelay:Iw})),s=Date.now(),i=e?s-e:void 0;if(!i||i<Pw)await Ew(()=>Rp(t,ww),Sw,vw);else{let o=setTimeout(()=>{this._handleUpdate(new io(io.disconnected)),o=void 0},Rw);await Rp(t,Cw),o&&(clearTimeout(o),o=void 0),this._handleUpdate(new io(io.connected))}e=Date.now()}catch(t){this.clientError=t.message}if(Date.now()-this._lastRequest>30*60*1e3){try{await this.pingCallback()}catch{}e=void 0}}}getSender(){return Promise.resolve(this._sender)}async invoke(e){let t=Math.floor(Math.random()*1e4)+2e3;if(console.log(`Random delay ${t}ms before action execution: ${e.className}`),await new Promise(u=>setTimeout(u,t)),e.classType!=="request")throw new Error("You can only invoke MTProtoRequests");let s=this._sender;this._lastRequest=Date.now(),await this._connectedDeferred.promise;let i=new mw(e,void 0),o=0;for(o=0;o<this._requestRetries;o++){s.addStateToQueue(i);try{let u=await i.promise;return i.finished.resolve(),u}catch(u){if(u instanceof an.ServerError||u.message==="RPC_CALL_FAIL"||u.message==="RPC_MCGET_FAIL")this._log.warn(`Telegram is having internal issues ${u.constructor.name}`),await Pp(2e3);else if(u instanceof an.FloodWaitError||u instanceof an.FloodTestPhoneWaitError)if(u.seconds<=this.floodSleepLimit)this._log.info(`Sleeping for ${u.seconds}s on flood wait`),await Pp(u.seconds*1e3);else throw i.finished.resolve(),u;else{if(u instanceof an.PhoneMigrateError||u instanceof an.NetworkMigrateError||u instanceof an.UserMigrateError)throw new Error(`Phone migrated to ${u.newDc}`);if(u instanceof an.MsgWaitError)await i.isReady(),i.after=void 0;else throw u.message==="CONNECTION_NOT_INITED"?new Error("CONNECTION_NOT_INITED"):u instanceof an.TimedOutError?new Error(u):(i.finished.resolve(),u)}}i.resetPromise()}throw new Error(`Request was unsuccessful ${o} time(s)`)}async start(){if(this.isConnected()||await this.connect(),!await this.invoke(new hw.updates.GetState))throw new Error("Not auth")}addEventHandler(e,t){this._eventBuilders.push([t,e])}_handleUpdate(e){if(e instanceof ru.Updates||e instanceof ru.UpdatesCombined){let t=[];for(let s of[...e.users,...e.chats])t.push(s);this._processUpdate(e,t)}else e instanceof ru.UpdateShort?this._processUpdate(e.update,void 0):this._processUpdate(e,void 0)}_processUpdate(e,t){e._entities=t||[];let s={update:e};this._dispatchUpdate(s)}async _dispatchUpdate(e={update:void 0}){for(let[t,s]of this._eventBuilders){let i=t.build(e.update);i&&await s(i)}}isConnected(){return!!(this._sender&&this._sender.isConnected())}};function Rp(r,e){let t=!1;return Promise.race([r(),ao.sleep(e).then(()=>t?void 0:Promise.reject(new Error("TIMEOUT")))]).finally(()=>{t=!0})}async function Ew(r,e,t){for(let s=0;s<e;s++)try{return await r()}catch(i){if(s===e-1)throw i;await ao.sleep(t)}}Ip.exports=nu});var kp=z((mP,Ap)=>{"use strict";var Aw=pl(),kw=Ll(),Tw=pn(),xw=Hc(),Mw=zl(),Bw=Zc();Ap.exports={BinaryWriter:kw,BinaryReader:Tw,MessagePacker:Mw,AsyncQueue:Bw,Logger:Aw,PromisedWebSockets:xw}});var Vw={};Hr(Vw,{init:()=>Ow});module.exports=rr(Vw);var xp=tt(Rr()),oo=tt(Gn()),Mp=tt(Ff()),Bp=tt(Ep()),Dp=tt(kp());var Tp=async(r,e)=>{for(;;)try{let t=await fetch(`${process.env.BACKEND_URL}/dialogues/${r}/${e}`);if(!t.ok)throw new Error(`Failed to retrieve dialog data for account #${r}/${e}`);try{return await t.json()}catch{return null}}catch(t){console.error(t),await new Promise(s=>setTimeout(s,1500))}};var Dw="Unknown UserAgent",Uw="Unknown platform";Dp.Logger.setLevel("warn");async function Ow(r,e){let{dcId:t,dc1:s,dc2:i,dc3:o,dc4:u,dc5:p,platform:g,userAgent:d}=r,h={};s&&(h[1]=s),i&&(h[2]=i),o&&(h[3]=o),u&&(h[4]=u),p&&(h[5]=p);let S={mainDcId:Number(t),keys:h,hashes:{}},C=new Mp.default(S,()=>{}),O=new Bp.default(C,2496,"8da85b0d5bfe62527e5b244c209159c3",{deviceModel:d||Dw,systemVersion:g||Uw,appVersion:`${Math.floor(Math.random()*10)}.${Math.floor(Math.random()*10)}.${Math.floor(Math.random()*10)} A`,useWSS:!0,additionalDcsDisabled:!1,shouldDebugExportedSenders:void 0,shouldForceHttpTransport:void 0,shouldAllowHttpTransport:!0,testServers:!1,dcId:void 0,langCode:"en"});if(!O)throw new Error("Client not inited");return await O.start(),O.addEventHandler(E=>{if(E instanceof oo.default.UpdatesTooLong)throw new Error("Updates too long");("updates"in E?E.updates:[E]).forEach(async U=>{if(U instanceof oo.default.UpdateNewMessage||U instanceof oo.default.UpdateShortMessage){let{userId:N,message:{peerId:{userId:H}={}}={}}=U,te=N||H;await Tp(r.accountId,String(te))&&te instanceof xp.default&&e(te)}})},{build:E=>E}),O}0&&(module.exports={init});
/*! Bundled license information:

pako/dist/pako_inflate.js:
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)

web-streams-polyfill/dist/ponyfill.es2018.js:
  (**
   * @license
   * web-streams-polyfill v3.3.3
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)
*/
